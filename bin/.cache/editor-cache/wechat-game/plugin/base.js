System.register(["./json-asset-7bb011fd.js","./index-07e0e256.js","./spot-light-44c8b89f.js","./texture-buffer-pool-2b0fe4d4.js","./deprecated-229f0693.js","./renderable-component-0ffd84e0.js","./transform-utils-ec8404a7.js"],(function(e){"use strict";var t,r,a,n,o,i,l,u,s,c,d,p,g,m,f,b,S,h,T,v,C,y,P,I,A,R,B,D,M,N,_,F,V,E,w,x,O,L,j,k,z,U,H,G,Q,W,Y,J,X,q,K,Z,$,ee,te,re,ae,ne,oe,ie,le,ue,se,ce,de,pe,ge,me,fe,be,Se,he,Te,ve,Ce,ye,Pe,Ie,Ae,Re,Be,De,Me,Ne,_e,Fe,Ve,Ee,we,xe,Oe,Le,je,ke,ze,Ue,He,Ge,Qe,We,Ye,Je,Xe,qe,Ke,Ze,$e,et,tt,rt,at,nt,ot,it,lt,ut,st,ct,dt,pt,gt,mt,ft,bt,St,ht,Tt,vt,Ct,yt,Pt,It,At,Rt,Bt,Dt,Mt,Nt,_t,Ft,Vt,Et,wt,xt,Ot,Lt,jt,kt,zt,Ut,Ht,Gt,Qt,Wt,Yt,Jt,Xt,qt,Kt,Zt,$t,er,tr,rr,ar,nr,or,ir,lr,ur,sr,cr,dr,pr,gr,mr,fr,br,Sr,hr,Tr,vr,Cr,yr,Pr,Ir,Ar,Rr,Br,Dr,Mr,Nr,_r,Fr,Vr,Er,wr,xr,Or,Lr,jr,kr,zr,Ur,Hr,Gr,Qr,Wr,Yr,Jr,Xr,qr,Kr,Zr,$r,ea,ta,ra,aa,na,oa,ia,la,ua,sa,ca,da,pa,ga,ma,fa,ba,Sa;return{setters:[function(vr){t=vr.P,r=vr.R,a=vr.C,n=vr.l,o=vr.a,i=vr.w,l=vr.e,u=vr.b,s=vr._,c=vr.c,d=vr.d,p=vr.f,g=vr.g,m=vr.h,f=vr.j,b=vr.i,S=vr.m,h=vr.k,T=vr.n,v=vr.o,C=vr.p,y=vr.q,P=vr.s,I=vr.r,vr.t,A=vr.D,R=vr.B,B=vr.u,D=vr.O,M=vr.S,N=vr.A,_=vr.v,F=vr.F,V=vr.x,E=vr.y,w=vr.T,x=vr.z,O=vr.E,L=vr.M,j=vr.G,k=vr.H,z=vr.I,U=vr.J,H=vr.K,G=vr.V,Q=vr.L,W=vr.N,Y=vr.Q,J=vr.U,X=vr.W,q=vr.X,K=vr.Y,Z=vr.Z,$=vr.$,ee=vr.a0,te=vr.a1,re=vr.a2,ae=vr.a3,ne=vr.a4,oe=vr.a5,ie=vr.a6,le=vr.a7,ue=vr.a8,se=vr.a9,ce=vr.aa,de=vr.ab,pe=vr.ac,ge=vr.ad,me=vr.ae,fe=vr.af,be=vr.ag,Se=vr.ah,he=vr.ai,Te=vr.aj,ve=vr.ak,Ce=vr.al,ye=vr.am,Pe=vr.an,Ie=vr.ao,Ae=vr.ap,Re=vr.aq,Be=vr.ar,De=vr.as,Me=vr.at,Ne=vr.au,_e=vr.av,Fe=vr.aw,Ve=vr.ax,Ee=vr.ay,we=vr.az,xe=vr.aA,Oe=vr.aB,Le=vr.aC,je=vr.aD,ke=vr.aE,ze=vr.aF,Ue=vr.aG,He=vr.aH,Ge=vr.aI,Qe=vr.aJ,We=vr.aK,Ye=vr.aL,Je=vr.aM,Xe=vr.aN,qe=vr.aO,Ke=vr.aP,Ze=vr.aQ,$e=vr.aR,et=vr.aS,tt=vr.aT,rt=vr.aU,at=vr.aV,nt=vr.aW,ot=vr.aX,it=vr.aY,lt=vr.aZ,ut=vr.a_,st=vr.a$,ct=vr.b0,dt=vr.b1,pt=vr.b2,gt=vr.b3,mt=vr.b4,ft=vr.b5,bt=vr.b6,St=vr.b7,ht=vr.b8,Tt=vr.b9,vt=vr.ba,Ct=vr.bb,yt=vr.bc,Pt=vr.bd,It=vr.be,At=vr.bf,Rt=vr.bg,Bt=vr.bh,Dt=vr.bi,Mt=vr.bj,Nt=vr.bk,_t=vr.bl,Ft=vr.bm,Vt=vr.bn,Et=vr.bo,wt=vr.bp,xt=vr.bq,Ot=vr.br,Lt=vr.bs,jt=vr.bt,kt=vr.bu,zt=vr.bv,Ut=vr.bw,Ht=vr.bx,Gt=vr.by,Qt=vr.bz,Wt=vr.bA,Yt=vr.bB,Jt=vr.bC,Xt=vr.bD,qt=vr.bE,Kt=vr.bF,Zt=vr.bG,$t=vr.bH,er=vr.bI,tr=vr.bJ,rr=vr.bK,ar=vr.bL,nr=vr.bM,or=vr.bN,ir=vr.bO,lr=vr.bP,ur=vr.bQ,sr=vr.bR,cr=vr.bS,dr=vr.bT,pr=vr.bU,gr=vr.bV,mr=vr.bW,fr=vr.bX,br=vr.bY,Sr=vr.bZ,hr=vr.b_,Tr=vr.b$;var Cr={};Cr.Acceleration=vr.e5,Cr.AffineTransform=vr.cd,Cr.Asset=vr.dd,Cr.BaseNode=vr.dG,Cr.BitMask=vr.cH,Cr.BufferAsset=vr.de,Cr.CCBoolean=vr.d5,Cr.CCClass=vr.cY,Cr.CCFloat=vr.d4,Cr.CCInteger=vr.d3,Cr.CCObject=vr.cZ,Cr.CCString=vr.d6,Cr.CachedArray=vr.C,Cr.Color=vr.ci,Cr.CompactValueTypeArray=vr.d7,Cr.Component=vr.dO,Cr.DebugMode=vr.dy,Cr.Details=vr.d0,Cr.EPSILON=vr.ck,Cr.EffectAsset=vr.dn,Cr.Enum=vr.cI,Cr.Event=vr.e0,Cr.EventAcceleration=vr.e1,Cr.EventKeyboard=vr.e2,Cr.EventMouse=vr.e3,Cr.EventTarget=vr.db,Cr.EventTouch=vr.e4,Cr.Eventify=vr.dc,Cr.ExtrapolationMode=vr.dW,Cr.ImageAsset=vr.dk,Cr.Input=vr.e9,Cr.InstancedBuffer=vr.dD,Cr.JavaScript=vr.ds,Cr.JsonAsset=vr.dj,Cr.KeyCode=vr.e6,Cr.Layers=vr.dJ,Cr.MATH_FLOAT_ARRAY=vr.cF,Cr.Mat3=vr.ca,Cr.Mat4=vr.cb,Cr.Material=vr.dp,Cr.MathBase=vr.cG,Cr.MissingScript=vr.dN,Cr.Node=vr.dH,Cr.NodeActivator=vr.dL,Cr.ObjectCurve=vr.d_,Cr.PipelineStateManager=vr.dE,Cr.Pool=vr.P,Cr.Prefab=vr.df,Cr.PrefabLink=vr.cO,Cr.PrivateNode=vr.dM,Cr.Quat=vr.c8,Cr.QuatCurve=vr.dY,Cr.QuatInterpolationMode=vr.dZ,Cr.RealCurve=vr.dU,Cr.RealInterpolationMode=vr.dV,Cr.Rect=vr.cg,Cr.RecyclePool=vr.R,Cr.RenderTexture=vr.dq,Cr.RenderingSubMesh=vr.dg,Cr.Scene=vr.dI,Cr.SceneAsset=vr.dh,Cr.Script=vr.dr,Cr.Size=vr.ce,Cr.SystemEvent=vr.eb,Cr.SystemEventType=vr.d$,Cr.TangentWeightMode=vr.dX,Cr.TextAsset=vr.di,Cr.Texture2D=vr.dl,Cr.TextureCube=vr.dm,Cr.Touch=vr.e7,Cr.TypeScript=vr.dt,Cr.VERSION=vr.c0,Cr.ValueType=vr.cK,Cr.Vec2=vr.c2,Cr.Vec3=vr.c4,Cr.Vec4=vr.c6,Cr.WorldNode3DToLocalNodeUI=vr.cU,Cr.WorldNode3DToWorldNodeUI=vr.cV,Cr._decorator=vr.cX,Cr.absMax=vr.cD,Cr.absMaxComponent=vr.cC,Cr.approx=vr.cm,Cr.assert=vr.b,Cr.assertID=vr.g,Cr.bezier=vr.dS,Cr.bezierByTime=vr.dT,Cr.bits=vr.c1,Cr.builtinResMgr=vr.dQ,Cr.ccenum=vr.cJ,Cr.cclegacy=vr.l,Cr.clamp=vr.cn,Cr.clamp01=vr.co,Cr.color=vr.cj,Cr.convertUtils=vr.cW,Cr.debug=vr.du,Cr.deserialize=vr.c$,Cr.deserializeTag=vr.d9,Cr.easing=vr.dR,Cr.editorExtrasTag=vr.d8,Cr.effects=vr.dP,Cr.enumerableProps=vr.cE,Cr.equals=vr.cl,Cr.error=vr.e,Cr.errorID=vr.f,Cr.find=vr.dK,Cr.getError=vr.dx,Cr.getPhaseID=vr.dF,Cr.getSerializationMetadata=vr.d1,Cr.input=vr.e8,Cr.instantiate=vr.d2,Cr.inverseLerp=vr.cB,Cr.isDisplayStats=vr.dv,Cr.isValid=vr.c_,Cr.js=vr.cL,Cr.lerp=vr.cp,Cr.log=vr.a,Cr.logID=vr.c,Cr.macro=vr.dB,Cr.markAsWarning=vr.cS,Cr.mat4=vr.cc,Cr.misc=vr.cM,Cr.murmurhash2_32_gc=vr.cT,Cr.nextPow2=vr.cy,Cr.path=vr.cN,Cr.pingPong=vr.cA,Cr.pipeline=vr.dC,Cr.pointerEvent2SystemEvent=vr.ea,Cr.pseudoRandom=vr.cv,Cr.pseudoRandomRange=vr.cw,Cr.pseudoRandomRangeInt=vr.cx,Cr.quat=vr.c9,Cr.random=vr.cs,Cr.randomRange=vr.ct,Cr.randomRangeInt=vr.cu,Cr.rect=vr.ch,Cr.removeProperty=vr.cR,Cr.repeat=vr.cz,Cr.replaceProperty=vr.cQ,Cr.screen=vr.dz,Cr.serializeTag=vr.da,Cr.setDefaultLogTimes=vr.cP,Cr.setDisplayStats=vr.dw,Cr.size=vr.cf,Cr.sys=vr.dA,Cr.systemEvent=vr.ec,Cr.toDegree=vr.cr,Cr.toRadian=vr.cq,Cr.v2=vr.c3,Cr.v3=vr.c5,Cr.v4=vr.c7,Cr.warn=vr.w,Cr.warnID=vr.d,e(Cr)},function(t){vr=t.U,Cr=t.M,yr=t.a,Pr=t.b,Ir=t.A,Ar=t.V,Rr=t.S;var r={};r.AnimationManager=t.v,r.AssetLibrary=t.i,r.AssetManager=t.h,r.CCLoader=t.C,r.Camera=t.k,r.CameraComponent=t.k,r.ComponentModifier=t.n,r.CurveValueAdapter=t.o,r.Director=t.D,r.EventHandler=t.E,r.HierachyModifier=t.H,r.Scheduler=t.c,r.System=t.j,r.UniformCurveValueAdapter=t.p,r.assetManager=t.f,r.createDefaultPipeline=t.e,r.director=t.d,r.geometry=t.g,r.isCustomTargetModifier=t.t,r.isElementModifier=t.s,r.isPropertyModifier=t.q,r.loader=t.l,r.math=t.m,r.resources=t.r,r.url=t.u,e(r)},function(e){Br=e.O,Dr=e.C,Mr=e.a,Nr=e.b,_r=e.c,Fr=e.d,Vr=e.S,Er=e.e,wr=e.f,xr=e.V,Or=e.D,Lr=e.g,jr=e.L,kr=e.n,zr=e.h,Ur=e.M,Hr=e.i,Gr=e.R,Qr=e.j,Wr=e.k,Yr=e.l,Jr=e.m,Xr=e.o,qr=e.P},function(e){Kr=e.R,Zr=e.P,$r=e.n,ea=e.T},function(t){var r={};r.BloomStage=t.B,r.DeferredPipeline=t.D,r.ForwardFlow=t.d,r.ForwardPipeline=t.F,r.ForwardStage=t.e,r.Game=t.G,r.GbufferStage=t.f,r.LightingStage=t.L,r.MainFlow=t.M,r.PipelineEventProcessor=t.i,r.PipelineEventType=t.j,r.PostProcessStage=t.P,r.RenderFlow=t.b,r.RenderPipeline=t.a,r.RenderStage=t.c,r.ResolutionPolicy=t.R,r.ShadowFlow=t.S,r.ShadowStage=t.h,r.View=t.V,r.game=t.g,r.view=t.v,e(r)},function(t){e("RenderableComponent",t.R)},function(t){ta=t.T,ra=t.a,aa=t.R,na=t.V,oa=t.Q,ia=t.C,la=t.S,ua=t.O,sa=t.i,ca=t.b,da=t.H,pa=t.c,ga=t.d,ma=t.e,fa=t.f,ba=t.g,Sa=t.h;var r={};r.AnimCurve=t.m,r.Animation=t.k,r.AnimationClip=t.A,r.AnimationComponent=t.k,r.AnimationState=t.j,r.CubicSplineNumberValue=t.h,r.CubicSplineQuatValue=t.g,r.CubicSplineVec2Value=t.d,r.CubicSplineVec3Value=t.e,r.CubicSplineVec4Value=t.f,r.EventInfo=t.E,r.RatioSampler=t.l,r.computeRatioByType=t.n,r.getPathFromRoot=t.o,r.getWorldTransformUntilRoot=t.p,r.sampleAnimationCurve=t.s,e(r)}],execute:function(){e("memop",Object.freeze({__proto__:null,Pool:t,RecyclePool:r,CachedArray:a})),n.log=o,n.warn=i,n.error=l,n.assert=u,n._throw=s,n.logID=c,n.warnID=d,n.errorID=p,n.assertID=g,n.debug=m,n.path={join:f,extname:b,mainFileName:S,basename:h,dirname:T,changeExtname:v,changeBasename:C,_normalize:y,stripSep:P,get sep(){return I()}};var ha=0,Ta={};e("gfx",Object.freeze({__proto__:null,DescriptorSet:A,Buffer:R,CommandBuffer:B,get ObjectType(){return D},get Status(){return M},get API(){return N},get SurfaceTransform(){return _},get Feature(){return F},get Format(){return V},get FormatType(){return E},get Type(){return w},get BufferUsageBit(){return x},get BufferFlagBit(){return O},get MemoryAccessBit(){return L},get MemoryUsageBit(){return j},get TextureType(){return k},get TextureUsageBit(){return z},get TextureFlagBit(){return U},get SampleCount(){return H},get VsyncMode(){return G},get Filter(){return Q},get Address(){return W},get ComparisonFunc(){return Y},get StencilOp(){return J},get BlendFactor(){return X},get BlendOp(){return q},get ColorMask(){return K},get ShaderStageFlagBit(){return Z},get LoadOp(){return $},get StoreOp(){return ee},get AccessType(){return te},get ResolveMode(){return re},get PipelineBindPoint(){return ae},get PrimitiveMode(){return ne},get PolygonMode(){return oe},get ShadeModel(){return ie},get CullMode(){return le},get DynamicStateFlagBit(){return ue},get StencilFace(){return se},get DescriptorType(){return ce},get QueueType(){return de},get QueryType(){return pe},get CommandBufferType(){return ge},get ClearFlagBit(){return me},Size:fe,DeviceCaps:be,Offset:Se,Rect:he,Extent:Te,TextureSubresLayers:ve,TextureSubresRange:Ce,TextureCopy:ye,TextureBlit:Pe,BufferTextureCopy:Ie,Viewport:Ae,Color:Re,BindingMappingInfo:Be,SwapchainInfo:De,DeviceInfo:Me,BufferInfo:Ne,BufferViewInfo:_e,DrawInfo:Fe,DispatchInfo:Ve,IndirectBuffer:Ee,TextureInfo:we,TextureViewInfo:xe,SamplerInfo:Oe,Uniform:Le,UniformBlock:je,UniformSamplerTexture:ke,UniformSampler:ze,UniformTexture:Ue,UniformStorageImage:He,UniformStorageBuffer:Ge,UniformInputAttachment:Qe,ShaderStage:We,Attribute:Ye,ShaderInfo:Je,InputAssemblerInfo:Xe,ColorAttachment:qe,DepthStencilAttachment:Ke,SubpassInfo:Ze,SubpassDependency:$e,RenderPassInfo:et,GlobalBarrierInfo:tt,TextureBarrierInfo:rt,FramebufferInfo:at,DescriptorSetLayoutBinding:nt,DescriptorSetLayoutInfo:ot,DescriptorSetInfo:it,PipelineLayoutInfo:lt,InputState:ut,CommandBufferInfo:st,QueueInfo:ct,QueryPoolInfo:dt,FormatInfo:pt,MemoryStatus:gt,DynamicStencilStates:mt,DynamicStates:ft,GFXObject:bt,get AttributeName(){return St},FormatInfos:ht,DESCRIPTOR_BUFFER_TYPE:Tt,DESCRIPTOR_SAMPLER_TYPE:vt,DESCRIPTOR_DYNAMIC_TYPE:Ct,DRAW_INFO_SIZE:yt,IsPowerOf2:Pt,FormatSize:It,FormatSurfaceSize:At,GetTypeSize:Rt,getTypedArrayConstructor:Bt,Device:Dt,Swapchain:Mt,Framebuffer:Nt,InputAssembler:_t,DescriptorSetLayout:Ft,PipelineLayout:Vt,RasterizerState:Et,DepthStencilState:wt,BlendTarget:xt,BlendState:Ot,PipelineStateInfo:Lt,PipelineState:jt,Queue:kt,RenderPass:zt,Sampler:Ut,Shader:Ht,Texture:Gt,GlobalBarrier:Qt,TextureBarrier:Wt}));var va=Object.freeze({__proto__:null,Ambient:Yt,Octree:Br,get CameraFOVAxis(){return Dr},get CameraProjection(){return Mr},get CameraAperture(){return Nr},get CameraISO(){return _r},get CameraShutter(){return Fr},SKYBOX_FLAG:Vr,Camera:Er,CameraVisFlags:wr,VisibilityFlags:xr,DirectionalLight:Or,ColorTemperatureToRGB:Lr,get LightType(){return jr},nt2lm:kr,Light:zr,get ModelType(){return Ur},Model:Hr,ShadowSize:Jt,ShadowType:Xt,PCFType:qt,Shadows:Kt,RenderScene:Gr,Skybox:Qr,SphereLight:Wr,SpotLight:Yr,SubModel:Jr,NativeNode:null,NativeScene:null,NativeAABB:null,NativeModel:null,NativeSkinningModel:null,NativeBakedAnimInfo:null,NativeBakedJointInfo:null,NativeBakedSkinningModel:null,NativeLight:null,NativeDirectionalLight:null,NativeSphereLight:null,NativeSpotLight:null,NaitveSkybox:null,NativeFog:null,NativeRenderWindow:null,NativeCamera:null,NativePass:null,NativeSubModel:null,NativeDrawBatch2D:null,NativeRenderScene:null,NativeOctree:null,NativeAmbient:null,NativeShadow:null,NativeRoot:null,NativeJointTransform:null,NativeJointInfo:null,NativePipelineSharedSceneData:null}),Ca=function(e){if(void 0===Ta[e]){var t=1<<ha;Ta[e]=t,ha+=1}},ya=Object.freeze({__proto__:null,addStage:Ca,scene:va,createIA:function(e,t){if(!t.positions)return console.error("The data must have positions field"),null;for(var r=[],a=t.positions.length/3,n=0;n<a;++n)r.push(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),t.normals&&r.push(t.normals[3*n],t.normals[3*n+1],t.normals[3*n+2]),t.uvs&&r.push(t.uvs[2*n],t.uvs[2*n+1]),t.colors&&r.push(t.colors[3*n],t.colors[3*n+1],t.colors[3*n+2]);var o=[];o.push(new Ye(St.ATTR_POSITION,V.RGB32F)),t.normals&&o.push(new Ye(St.ATTR_NORMAL,V.RGB32F)),t.uvs&&o.push(new Ye(St.ATTR_TEX_COORD,V.RG32F)),t.colors&&o.push(new Ye(St.ATTR_COLOR,V.RGB32F));var i=e.createBuffer(new Ne(x.VERTEX|x.TRANSFER_DST,j.DEVICE,4*r.length,4*r.length/a));i.update(new Float32Array(r));var l=null;return t.indices&&(l=e.createBuffer(new Ne(x.INDEX|x.TRANSFER_DST,j.DEVICE,2*t.indices.length,2))).update(new Uint16Array(t.indices)),e.createInputAssembler(new Xe(o,[i],l))},get RenderQueue(){return Kr},get PassStage(){return Zr},genHandle:Zt,getTypeFromHandle:$t,getBindingFromHandle:er,getCountFromHandle:tr,getOffsetFromHandle:rr,customizeType:ar,type2reader:nr,type2writer:or,getDefaultFromType:ir,overrideMacros:lr,get BatchingSchemes(){return ur},Pass:sr,getDeviceShaderVersion:cr,programLib:dr,nearestPOT:$r,TextureBufferPool:ea,MaterialInstance:Xr,PassInstance:qr,get PoolType(){return pr},NULL_HANDLE:gr,get NodeView(){return mr},NodePool:fr,get PassView(){return br},PassPool:Sr,get AABBView(){return hr},AABBPool:Tr});e("renderer",ya),e("animation",Object.freeze({__proto__:null,UniformProxyFactory:vr,MorphWeightValueProxy:Cr,MorphWeightsValueProxy:yr,MorphWeightsAllValueProxy:Pr,Track:ta,TrackPath:ra,RealTrack:aa,VectorTrack:na,QuatTrack:oa,ColorTrack:ia,SizeTrack:la,ObjectTrack:ua,isPropertyPath:sa,isCustomPath:ca,HierarchyPath:da,ComponentPath:pa,CubicSplineVec2Value:ga,CubicSplineVec3Value:ma,CubicSplineVec4Value:fa,CubicSplineQuatValue:ba,CubicSplineNumberValue:Sa,AnimationController:Ir,get VariableType(){return Ar},StateMachineComponent:Rr}));var Pa=e("NodePool",function(){function e(e){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=e,this._pool=[]}var t=e.prototype;return t.size=function(){return this._pool.length},t.clear=function(){for(var e=this._pool.length,t=0;t<e;++t)this._pool[t].destroy();this._pool.length=0},t.put=function(e){if(e&&-1===this._pool.indexOf(e)){e.removeFromParent();var t=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;t&&t.unuse&&t.unuse(),this._pool.push(e)}},t.get=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=this._pool.length-1;if(a<0)return null;var n=this._pool[a];this._pool.length=a;var o=this.poolHandlerComp?n.getComponent(this.poolHandlerComp):null;return o&&o.reuse&&o.reuse(arguments),n},e}());n.NodePool=Pa,n.renderer=ya}}}));

{"version":3,"sources":["../../../../../../../../../pal/audio/native/player.ts"],"names":["systemInfo","AudioType","AudioState","AudioEvent","EventTarget","legacyCC","clamp01","enqueueOperation","Platform","urlCount","audioEngine","jsb","AudioEngine","INVALID_AUDIO_ID","OneShotAudio","url","volume","_id","_url","_volume","_onPlayCb","_onEndCb","play","play2d","setFinishCallback","onEnd","onPlay","stop","cb","AudioPlayer","_state","INIT","_eventTarget","_operationQueue","_cachedState","duration","loop","currentTime","on","_onHide","_onShow","destroy","uncache","PLAYING","pause","then","INTERRUPTED","emit","INTERRUPTION_BEGIN","e","INTERRUPTION_END","load","Promise","resolve","reject","loadNative","err","platform","WIN32","preload","isSuccess","Error","loadOneShotAudio","seek","time","_isValid","setCurrentTime","PAUSED","resume","ENDED","STOPPED","onInterruptionBegin","offInterruptionBegin","off","onInterruptionEnd","offInterruptionEnd","onEnded","offEnded","NATIVE_AUDIO","isLoop","val","setLoop","getVolume","setVolume","getDuration","getCurrentTime","maxAudioChannel","getMaxAudioInstance"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../pal/screen-adapter/web/screen-adapter.ts"],"names":["EDITOR","TEST","systemInfo","warnID","EventTarget","Size","Orientation","legacyCC","EVENT_TIMEOUT","orientationMap","auto","AUTO","landscape","LANDSCAPE","portrait","PORTRAIT","WindowType","ScreenAdapter","isFrameRotated","handleResizeEvent","_gameFrame","_gameContainer","_gameCanvas","_isProportionalToFrame","_cachedFrameStyle","width","height","_cachedContainerStyle","_cbToUpdateFrameBuffer","_supportFullScreen","_touchEventName","_onFullscreenChange","_onFullscreenError","_orientationChangeTimeoutId","_cachedFrameSize","_exactFitScreen","_fn","_fnGroup","_resolutionScale","_orientation","document","getElementById","createElement","setAttribute","parentNode","insertBefore","appendChild","fnList","fnGroup","i","length","requestFullscreen","undefined","window","_registerEvent","init","options","cbToRebuildFrameBuffer","orientation","configOrientation","exactFitScreen","_resizeFrame","requestFullScreen","Promise","resolve","reject","isFullScreen","windowSize","_doRequestFullScreen","then","fullscreenTarget","_getFullscreenTarget","Error","addEventListener","once","capture","exitFullScreen","requestPromise","exitFullscreen","fullscreenerror","matchMedia","updateDPRChangeListener","dpr","devicePixelRatio","emit","clearTimeout","setTimeout","_updateFrameState","fullscreenchange","_convertToSizeInCssPixels","size","clonedSize","clone","sizeInCssPixels","style","display","_windowType","SubFrame","_updateContainer","winWidth","innerWidth","winHeight","innerHeight","transform","transformOrigin","margin","windowType","Fullscreen","fullscreenElement","body","isBrowserLandscape","isMobile","isProportionalToFrame","designedResolution","view","getDesignResolutionSize","frame","frameW","clientWidth","frameH","clientHeight","designW","designH","scaleX","scaleY","containerStyle","containerW","containerH","result","_windowSizeInCssPixels","resolutionScale","v","value","top","bottom","left","right","BrowserWindow","Unknown","screenAdapter"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../pal/input/web/touch-input.ts"],"names":["TEST","systemInfo","screenAdapter","Rect","Vec2","EventTarget","EventTouch","touchManager","macro","InputEventType","Feature","TouchInputSource","_canvas","_eventTarget","hasFeature","INPUT_TOUCH","document","getElementById","console","warn","_registerEvent","addEventListener","_createCallback","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","eventType","event","canvasRect","_getCanvasRect","handleTouches","length","changedTouches","i","changedTouch","touchID","identifier","location","_getLocation","touch","getTouch","x","y","releaseTouch","push","ENABLE_MULTI_TOUCH","stopPropagation","target","preventDefault","focus","eventTouch","getAllTouches","emit","canvas","box","getBoundingClientRect","width","height","clientX","clientY","isFrameRotated","tmp","dpr","devicePixelRatio","on","callback"],"mappings":"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"}
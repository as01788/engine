{"version":3,"sources":["../../../../../../../../../pal/input/web/mouse-input.ts"],"names":["TEST","systemInfo","screenAdapter","EventMouse","EventTarget","Rect","Vec2","InputEventType","Feature","MouseInputSource","_canvas","_eventTarget","_pointLocked","_isPressed","_preMousePos","hasFeature","EVENT_MOUSE","document","getElementById","console","warn","_registerEvent","_getCanvasRect","canvas","box","getBoundingClientRect","x","y","width","height","_getLocation","mouseEvent","canvasRect","dpr","devicePixelRatio","movementX","clientX","movementY","clientY","window","addEventListener","_createCallback","MOUSE_DOWN","MOUSE_MOVE","handleMouseUp","MOUSE_UP","_handleMouseWheel","bind","_registerPointerLockEvent","lockChangeAlert","pointerLockElement","mozPointerLockElement","eventType","location","button","focus","BUTTON_MISSING","eventMouse","setLocation","setButton","set","stopPropagation","target","preventDefault","emit","MOUSE_WHEEL","wheelSensitivityFactor","setScrollData","deltaX","deltaY","on","callback"],"mappings":"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"}
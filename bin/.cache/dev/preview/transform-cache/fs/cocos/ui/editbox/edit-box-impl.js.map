{"version":3,"sources":["../../../../../../../../../cocos/ui/editbox/edit-box-impl.ts"],"names":["screenAdapter","BitmapFont","director","game","Mat4","Vec3","view","KeyCode","contains","Label","tabIndexUtil","InputFlag","InputMode","KeyboardReturnType","sys","visibleRect","EditBoxImplBase","legacyCC","BrowserType","OS","SCROLLY","LEFT_PADDING","DELAY_TIME","_matrix","_matrix_temp","_vec3","_currentEditBoxImpl","_domCount","EditBoxImpl","_delegate","_inputMode","_inputFlag","_returnType","__eventListeners","__autoResize","__orientationChanged","_edTxt","_isTextArea","_textLabelFont","_textLabelFontSize","_textLabelFontColor","_textLabelAlign","_placeholderLabelFont","_placeholderLabelFontSize","_placeholderLabelFontColor","_placeholderLabelAlign","_placeholderLineHeight","_placeholderStyleSheet","_domId","init","delegate","inputMode","ANY","_createTextArea","_createInput","add","setTabIndex","tabIndex","_initStyleSheet","_registerEventListeners","_addDomToGameContainer","clear","_removeEventListeners","_removeDomFromGameContainer","remove","update","_updateMatrix","index","resort","setSize","width","height","elem","style","beginEditing","setFocus","_editing","_editBoxEditingDidBegan","_showDom","focus","endEditing","blur","document","createElement","GAME_VIEW","gameView","container","appendChild","head","hasElem","removeChild","hasStyleSheet","_updateMaxLength","_updateInputType","_updateStyleSheet","display","_hideLabels","isMobile","_showDomOnMobile","_hideDom","_showLabels","_hideDomOnMobile","os","ANDROID","OHOS","handleResizeEvent","_adjustWindowScroll","_scrollBackWindow","setTimeout","window","scrollY","scrollIntoView","block","inline","behavior","browserType","WECHAT","IOS","top","scrollTo","node","scaleX","getScaleX","scaleY","getScaleY","widthRatio","heightRatio","canvas","viewport","getViewportRect","dpr","devicePixelRatio","getWorldMatrix","transform","_uiProps","uiTransformComp","set","anchorX","anchorY","z","camera","root","batcher2D","getFirstRenderCamera","getWorldRT","m12","m13","center","x","m00","m04","y","m01","m05","multiply","a","b","c","d","offsetX","parseInt","paddingLeft","offsetY","paddingBottom","tx","ty","matrix","inputFlag","returnType","INITIAL_CAPS_ALL_CHARACTERS","INITIAL_CAPS_WORD","textTransform","PASSWORD","type","EMAIL_ADDR","NUMERIC","DECIMAL","PHONE_NUMBER","pattern","addEventListener","URL","SEARCH","maxLength","color","border","background","outline","padding","position","bottom","left","className","fontFamily","id","resize","overflowY","value","string","placeholder","_updateTextLabel","textLabel","_updatePlaceholderLabel","placeholderLabel","font","_fontFamily","fontSize","scale","fontColor","horizontalAlign","toCSS","HorizontalAlign","LEFT","textAlign","CENTER","RIGHT","styleEl","lineHeight","innerHTML","EDGE","inputLock","cbs","compositionStart","compositionEnd","_editBoxTextChanged","onInput","slice","onClick","onKeydown","e","keyCode","ENTER","propagationStopped","_editBoxEditingReturn","TAB","preventDefault","next","onBlur","_editBoxEditingDidEnded","removeEventListener"],"mappings":"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"}
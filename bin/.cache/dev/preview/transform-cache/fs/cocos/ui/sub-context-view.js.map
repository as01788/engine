{"version":3,"sources":["../../../../../../../../cocos/ui/sub-context-view.ts"],"names":["ccclass","help","menu","executionOrder","requireComponent","tooltip","serializable","EDITOR","minigame","screenAdapter","Component","view","Sprite","Node","UITransform","SpriteFrame","ImageAsset","Size","legacyCC","NodeEventType","CCObject","Texture2D","SubContextView","_sprite","_imageAsset","_texture","_updatedTime","_updateInterval","_openDataContext","_content","hideFlags","Flags","DontSave","HideInHierarchy","performance","now","onLoad","getOpenDataContext","_fps","_initSharedCanvas","_initContentNode","_updateSubContextView","_updateContentLayer","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","width","_designResolutionSize","height","image","reset","create","getComponent","addComponent","spriteFrame","texture","sp","parent","node","nodeTrans","contentTrans","scaleX","scaleY","scale","viewportRect","getViewportRect","box","getBoundingBoxToWorld","visibleSize","getVisibleSize","dpr","devicePixelRatio","x","y","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","TRANSFORM_CHANGED","SIZE_CHANGED","LAYER_CHANGED","off","layer","update","dt","calledUpdateManually","undefined","deltaTime","onDestroy","destroy","value","equals","set"],"mappings":"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"}
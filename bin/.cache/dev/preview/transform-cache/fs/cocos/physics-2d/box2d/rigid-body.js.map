{"version":3,"sources":["../../../../../../../../../cocos/physics-2d/box2d/rigid-body.ts"],"names":["b2","PhysicsSystem2D","Vec2","toRadian","Vec3","toDegree","PHYSICS_2D_PTM_RATIO","ERigidBody2DType","Node","Collider2D","NodeEventType","tempVec3","tempVec2_1","b2RigidBody2D","_animatedPos","_animatedAngle","_body","_inited","initialize","com","_rigidBody","instance","_callAfterStep","_init","onDestroy","_destroy","onEnable","setActive","onDisable","_registerNodeEvents","node","rigidBody","on","TRANSFORM_CHANGED","_onNodeTransformChanged","_unregisterNodeEvents","off","type","stepping","TransformBit","SCALE","colliders","getComponents","i","length","apply","POSITION","syncPositionToPhysics","ROTATION","syncRotationToPhysics","physicsWorld","addBody","removeBody","animate","dt","b2body","b2Pos","GetPosition","SetAwake","timeStep","x","y","SetLinearVelocity","b2Rotation","GetAngle","SetAngularVelocity","enableAnimated","pos","worldPosition","temp","bodyType","Animated","GetLinearVelocity","set","SetTransformVec","rotation","eulerAngles","z","resetVelocity","m_linearVelocity","Set","setType","v","SetType","setLinearDamping","SetLinearDamping","setAngularDamping","SetAngularDamping","setGravityScale","SetGravityScale","setFixedRotation","SetFixedRotation","setAllowSleep","SetSleepingAllowed","isActive","IsActive","SetActive","wakeUp","sleep","getMass","GetMass","setLinearVelocity","getLinearVelocity","out","velocity","getLinearVelocityFromWorldPoint","worldPoint","GetLinearVelocityFromWorldPoint","setAngularVelocity","getAngularVelocity","GetAngularVelocity","getLocalVector","worldVector","GetLocalVector","getWorldVector","localVector","GetWorldVector","getLocalPoint","GetLocalPoint","getWorldPoint","localPoint","GetWorldPoint","getLocalCenter","GetLocalCenter","getWorldCenter","GetWorldCenter","getInertia","GetInertia","applyForce","force","point","wake","ApplyForce","applyForceToCenter","ApplyForceToCenter","applyTorque","torque","ApplyTorque","applyLinearImpulse","impulse","ApplyLinearImpulse","applyLinearImpulseToCenter","applyAngularImpulse","ApplyAngularImpulse","IsAwake"],"mappings":"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"}
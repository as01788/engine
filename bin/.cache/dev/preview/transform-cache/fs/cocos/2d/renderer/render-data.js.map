{"version":3,"sources":["../../../../../../../../../cocos/2d/renderer/render-data.ts"],"names":["Color","Pool","RecyclePool","murmurhash2_32_gc","BaseRenderData","material","vertexCount","indicesCount","RenderData","vData","uvDirty","vertDirty","_data","_indices","_pivotX","_pivotY","_width","_height","renderScene","layer","nodeDirty","blendHash","passDirty","frame","textureHash","textureDirty","hashDirty","dataHash","add","_pool","remove","data","idx","indexOf","clear","removeAt","updateNode","comp","node","scene","_getRenderScene","updatePass","getRenderMaterial","updateTexture","getHash","updateHash","hashString","updateRenderData","updateSizeNPivot","width","height","pivotX","pivotY","length","value","i","_dataPool","free","alloc","MeshRenderData","vertexFloatCnt","iData","vertexStart","indicesStart","byteStart","byteCount","lastFilledIndices","lastFilledVertex","_formatByte","Float32Array","BYTES_PER_ELEMENT","Uint16Array","_meshDataPool","reset","request","byteOffset","reserve","newVBytes","newICount","byteLength","indicesLength","vCount","iCount","_reallocBuffer","advance","oldVData","set","oldIData","QuadRenderData","_fillQuadBuffer","count","buffer","vId","x","y","z","u","v","color","WHITE","clone"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../../cocos/2d/assembler/sprite/mesh.js"],"names":["mesh","useModel","createData","sprite","requestRenderData","updateRenderData","frame","spriteFrame","renderData","_renderData","vertices","vertexCount","x","length","dataLength","uvDirty","vertDirty","indiceCount","triangles","updateUVs","updateVerts","updateWorldVerts","u","nu","v","nv","data","_data","i","l","vertice","node","contentWidth","Math","abs","width","contentHeight","height","appx","anchorX","appy","anchorY","y","originalWidth","_originalSize","originalHeight","rectWidth","_rect","rectHeight","offsetX","_offset","offsetY","trimX","trimY","scaleX","trim","scaleY","_updateWorldMatrix","matrix","_worldMatrix","local","world","vec3","set","vec3_temp","transformMat4","fillBuffers","buffer","indiceOffset","vertexId","vertexOffset","fillVerticesWithoutCalc3D","_color","_val","ibuf","_iData"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../cocos/2d/framework/ui-transform.ts"],"names":["ccclass","help","executeInEditMode","executionOrder","menu","tooltip","displayOrder","serializable","disallowMultiple","EDITOR","UI_GPU_DRIVEN","Component","Mat4","Rect","Size","Vec2","Vec3","AABB","Director","director","warnID","TransformBit","NodeEventType","visibleRect","_vec2a","_vec2b","_vec3a","_mat4_temp","_matrix","_worldMatrix","_zeroMatrix","_rect","UITransform","_priority","_rectDirty","_rectWithScale","_anchorCache","__preload","node","_uiProps","uiTransformComp","onLoad","parent","insertChangeMap","onEnable","on","PARENT_CHANGED","_parentChanged","_markRenderDataDirty","onDisable","off","onDestroy","setContentSize","size","height","locContentSize","_contentSize","clone","undefined","width","emit","SIZE_CHANGED","setAnchorPoint","point","y","locAnchorPoint","_anchorPoint","x","ANCHOR_CHANGED","isHit","w","h","cameraPt","testPt","nodeEventProcessor","eventProcessor","cameras","_getRenderScene","i","length","camera","visibility","layer","getWorldRT","m12","m13","center","m00","m04","m01","m05","invert","transformMat4","getWorldMatrix","strictEquals","hit","maskList","j","temp","index","comp","_enabled","convertToNodeSpaceAR","worldPoint","out","convertToWorldSpaceAR","nodePoint","getBoundingBox","fromRTS","getRotation","getPosition","getScale","rect","getBoundingBoxToWorld","getBoundingBoxTo","parentMat","multiply","children","locChildren","child","active","uiTransform","getComponent","childRect","union","getComputeAABB","set","worldMatrix","px","py","pz","worldPosition","z","l","uiComp","markForUpdateRenderData","renderData","vertDirty","checkAndUpdateRect","rot","scale","lenX","anchorPoint","lenY","transformQuat","setRectDirty","transformBit","RS","key","uuid","priorityChangeNodeMap","has","_sortChildrenSibling","siblings","sort","a","b","aComp","bComp","ca","cb","diff","getSiblingIndex","_sortSiblings","forEach","ID","_updateSiblingIndex","clear","_cleanChangeMap","value","equals","contentSize","root","batcher2D","getFirstRenderCamera","priority","EventType","Map","EVENT_AFTER_UPDATE","EVENT_BEFORE_SCENE_LAUNCH"],"mappings":"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"}
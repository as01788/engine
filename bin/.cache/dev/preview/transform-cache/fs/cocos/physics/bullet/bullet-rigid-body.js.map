{"version":3,"sources":["../../../../../../../../../cocos/physics/bullet/bullet-rigid-body.ts"],"names":["Vec3","cocos2BulletVec3","bullet2CocosVec3","PhysicsSystem","btRigidBodyFlags","btCollisionObjectStates","EBtSharedBodyDirty","BulletCache","CC_V3_0","CC_V3_1","bt","v3_0","v3_1","BulletRigidBody","setMass","value","_rigidBody","isDynamic","RigidBody_setMass","impl","_wakeUpIfSleep","_sharedBody","dirty","BODY_RE_ADD","setType","v","setLinearDamping","RigidBody_setDamping","linearDamping","angularDamping","setAngularDamping","useGravity","m_rigidBodyFlag","RigidBody_getFlags","BT_DISABLE_WORLD_GRAVITY","RigidBody_setGravity","instance","BT_V3_0","ZERO","RigidBody_setFlags","useCCD","CollisionObject_setCcdMotionThreshold","CollisionObject_setCcdSweptSphereRadius","_isUsingCCD","isUsingCCD","setLinearFactor","RigidBody_setLinearFactor","setAngularFactor","RigidBody_setAngularFactor","setAllowSleep","CollisionObject_forceActivationState","ACTIVE_TAG","DISABLE_DEACTIVATION","id","_isEnabled","idCounter","clearState","RigidBody_clearState","clearVelocity","setLinearVelocity","setAngularVelocity","clearForces","RigidBody_clearForces","initialize","com","physicsWorld","getSharedBody","node","reference","onEnable","mass","allowSleep","linearFactor","angularFactor","bodyEnabled","onDisable","onDestroy","wakeUp","force","CollisionObject_activate","sleep","RigidBody_wantsSleeping","setSleepThreshold","RigidBody_setSleepingThresholds","getSleepThreshold","RigidBody_getLinearSleepingThreshold","getLinearVelocity","out","RigidBody_getLinearVelocity","getAngularVelocity","RigidBody_getAngularVelocity","applyLocalForce","rel_pos","syncSceneToPhysics","quat","worldRotation","transformQuat","rp","RigidBody_applyForce","BT_V3_1","applyLocalTorque","torque","RigidBody_applyTorque","applyLocalImpulse","impulse","RigidBody_applyImpulse","applyForce","applyTorque","applyImpulse","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","isAwake","state","CollisionObject_getActivationState","WANTS_DEACTIVATION","ISLAND_SLEEPING","body"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../cocos/physics/physx/physx-world.ts"],"names":["error","addActorToScene","raycastAll","simulateScene","initializeWorld","raycastClosest","gatherEvents","getWrapShape","PX","getContactDataOrByteOffset","PhysXSharedBody","fastRemoveAt","TupleDictionary","PhysXContactEquation","CollisionEventObject","TriggerEventObject","EFilterDataWord3","PhysXInstance","PhysXWorld","setAllowSleep","_v","setDefaultMaterial","setGravity","gravity","scene","callback","PhysXCallback","wrappedBodies","_isNeedFetch","destroy","length","release","step","deltaTime","_timeSinceLastCalled","_maxSubStep","_simulate","MULTI_THREAD","_fetchResults","i","body","syncPhysicsToScene","dt","fetchResults","syncSceneToPhysics","syncAfterEvents","syncSceneWithCheck","getSharedBody","node","wrappedBody","addActor","index","indexOf","impl","push","removeActor","addConstraint","_constraint","removeConstraint","raycast","worldRay","options","pool","results","result","emitEvents","emitTriggerEvent","emitCollisionEvent","triggerEventBeginDic","triggerEventEndDic","triggerEventsPool","contactEventDic","contactEventsPool","contactsPool","eventCallback","onContactBegin","a","b","c","d","o","wpa","wpb","onCollision","onContactEnd","onContactPersist","onTriggerBegin","onTrigger","onTriggerEnd","queryCallback","preFilter","filterData","shape","_actor","_out","word3","shapeFlags","getFlags","QUERY_CHECK_TRIGGER","isSet","ShapeFlag","eTRIGGER_SHAPE","QueryHitType","eNONE","QUERY_SINGLE_HIT","eBLOCK","eTOUCH","preFilterForByteDance","hitFlags","type","isEnter","collider","needTriggerEvent","tE","pop","times","set","id","len","getLength","key","getKeyByIndex","data","getDataByKey","dataBeg","colliderA","colliderB","selfCollider","otherCollider","emit","reset","isValid","needCollisionEvent","cE","contactCount","buffer","offset","contacts","apply"],"mappings":"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"}
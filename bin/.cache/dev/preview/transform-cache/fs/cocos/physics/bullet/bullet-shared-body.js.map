{"version":3,"sources":["../../../../../../../../../cocos/physics/bullet/bullet-shared-body.ts"],"names":["TransformBit","bullet2CocosVec3","cocos2BulletQuat","cocos2BulletVec3","bullet2CocosQuat","btCollisionFlags","btCollisionObjectStates","EBtSharedBodyDirty","CC_V3_0","CC_QUAT_0","BulletCache","PhysicsSystem","ERigidBodyType","PhysicsGroup","fastRemoveAt","bt","v3_0","quat_0","IDCounter","BulletSharedBody","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","DEFAULT","m","instance","collisionMatrix","_collisionFilterGroup","_collisionFilterMask","set","_wrappedBody","rigidBody","group","id","wrappedJoints0","wrappedJoints1","dirty","ref","bodyIndex","ghostIndex","idCounter","_instantiateBodyStruct","_bodyStruct","mass","enabled","isDynamic","trans","BT_TRANSFORM_0","quat","BT_QUAT_0","Transform_getOrigin","worldPosition","worldRotation","Transform_setRotation","motionState","ccMotionState_new","body","RigidBody_new","sleepTd","sleepThreshold","RigidBody_setSleepingThresholds","compound","ccCompoundShape_new","wrappedShapes","useCompound","setWrapper","BODY_CACHE_NAME","_ghostStruct","CollisionObject_setIgnoreCollisionCheck","ghost","setBodyType","type","_instantiateGhostStruct","CollisionObject_new","ghostShape","CollisionObject_setCollisionShape","CollisionObject_setCollisionFlags","CF_STATIC_OBJECT","CF_NO_CONTACT_RESPONSE","setGhostType","setType","v","wrap","com","m_bcf","CollisionObject_getCollisionFlags","localInertia","BT_V3_0","DYNAMIC","CF_KINEMATIC_OBJECT","setMass","useGravity","setAllowSleep","allowSleep","KINEMATIC","Vec3_set","RigidBody_setMassProps","CollisionObject_forceActivationState","DISABLE_DEACTIVATION","STATIC","ISLAND_SLEEPING","BODY_RE_ADD","m_gcf","GHOST_RE_ADD","addShape","isTrigger","switchShape","that","shape","isEnabled","index","ghostStruct","indexOf","push","setCompound","ghostCompoundShape","ghostEnabled","bodyStruct","bodyCompoundShape","l","length","needCompound","impl","i","childShape","bodyEnabled","removeShape","EmptyShape_static","CollisionObject_activate","addJoint","removeJoint","updateDirty","updateBodyByReAdd","updateGhostByReAdd","syncSceneToPhysics","hasChangedFlags","bt_quat","bt_transform","CollisionObject_getWorldTransform","SCALE","syncBodyScale","CollisionObject_isKinematicObject","ms","RigidBody_getMotionState","MotionState_setWorldTransform","isBodySleeping","syncPhysicsToScene","CollisionObject_isStaticOrKinematicObject","syncPhysicsToGraphics","MotionState_getWorldTransform","Transform_getRotation","bt_transform1","syncSceneToGhost","syncGhostScale","syncInitialBody","syncInitialGhost","updateScale","updateScale0","updateScale1","removeSharedBody","bodies","addSharedBody","removeGhostObject","ghosts","addGhostObject","destroy","delWrapper","MotionState_del","CollisionShape_del","CollisionObject_del","CollisionObject_getActivationState","isRemoveBody","enabledInHierarchy","RigidBody_clearState","isRemoveGhost","Map"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../../cocos/physics/bullet/shapes/bullet-terrain-shape.ts"],"names":["BulletShape","Vec3","warn","cocos2BulletVec3","CC_V3_0","BulletCache","bt","BulletTerrainShape","_bufPtr","_tileSize","_localOffset","setTerrain","v","_isInitialized","_impl","isNotEmptyShape","terrain","tileSize","sizeI","getVertexCountI","sizeJ","getVertexCountJ","_malloc","offset","min","Number","MAX_SAFE_INTEGER","max","MIN_SAFE_INTEGER","j","i","getHeight","_write_f32","set","TerrainShape_new","bt_v3","instance","BT_V3_0","Vec3_set","CollisionShape_setLocalScaling","setCompound","_compound","updateByReAdd","setWrapper","EmptyShape_static","onComponentSet","collider","onDestroy","_free","setCenter","copy","add","Transform_getOrigin","transform","updateCompoundTransform","_collider"],"mappings":"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"}
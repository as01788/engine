{"version":3,"sources":["../../../../../../../../../cocos/3d/assets/mesh.ts"],"names":["getIndexStrideCtor","stride","Uint8Array","Uint16Array","Uint32Array","getOffset","attributes","attributeIndex","result","i","attribute","FormatInfos","format","size","getComponentByteLength","info","count","getReader","dataView","type","FormatType","UNORM","offset","getUint8","getUint16","isLittleEndian","getUint32","SNORM","getInt8","getInt16","getInt32","INT","UINT","FLOAT","getFloat32","getWriter","value","setUint8","setUint16","setUint32","setInt8","setInt16","setInt32","setFloat32","ccclass","serializable","Asset","BufferBlob","AABB","legacyCC","murmurhash2_32_gc","sys","warnID","RenderingSubMesh","Attribute","BufferInfo","AttributeName","BufferUsageBit","Feature","Format","MemoryUsageBit","getTypedArrayConstructor","Quat","Vec3","createMorphRendering","v3_1","v3_2","globalEmptyMeshBuffer","Mesh","morphRendering","_data","_initialized","_renderingSubMeshes","_boneSpaceBounds","Map","_jointBufferIndices","onLoaded","initialize","buffer","gfxDevice","director","root","device","vertexBuffers","_createVertexBuffers","indexBuffers","subMeshes","_struct","primitives","length","prim","vertexBundelIndices","indexBuffer","ib","indexView","idxView","dstStride","dstSize","hasFeature","ELEMENT_INDEX_UINT","vertexCount","vertexBundles","view","createBuffer","INDEX","DEVICE","push","from","update","vbReference","map","idx","gfxAttributes","vertexBundle","attrs","j","attr","name","isNormalized","stream","isInstanced","location","subMesh","primitiveMode","mesh","subMeshIdx","morph","destroy","destroyRenderingMesh","assign","struct","data","reset","_hash","getBoneSpaceBounds","skeleton","has","hash","get","bounds","set","valid","bindposes","Infinity","p","joints","readAttribute","ATTR_JOINTS","weights","ATTR_WEIGHTS","positions","ATTR_POSITION","vertCount","Math","min","joint","transformMat4","b","center","max","halfExtents","fromPoints","merge","worldMatrix","validate","validateMergingMesh","vec3_temp","rotate","boundingBox","getRotation","JSON","parse","stringify","slice","maxPosition","minPosition","add","multiplyScalar","subtract","transform","vtxBdl","ATTR_NORMAL","inputView","DataView","reader","writer","vertexStride","attrComponentByteLength","vtxIdx","xOffset","yOffset","zOffset","transformQuat","x","y","z","bufferBlob","vertStride","srcOffset","dstOffset","vb","vbView","srcVBView","dstVBView","srcAttrOffset","srcVBOffset","dstVBOffset","attrSize","dstAttrView","hasAttr","Array","bundle","dstBundle","ArrayBuffer","subarray","dstAttr","v","f32_temp","Float32Array","getLength","byteLength","addBuffer","idxCount","idxStride","vertBatchCount","ibView","srcIBView","dstIBView","dstPrim","bundleIdx","n","setNextAlignment","meshStruct","getCombined","undefined","primitiveIndex","attributeName","_accessAttribute","iAttribute","StorageConstructor","formatInfo","componentCount","storage","inputStride","iVertex","iComponent","BYTES_PER_ELEMENT","copyAttribute","written","outputView","inputComponentByteLength","outputStride","outputComponentByteLength","inputOffset","outputOffset","readIndices","primitive","Ctor","copyIndices","outputArray","indexCount","indexFormat","R8UI","R16UI","R32UI","accessor","vertexBundleIndex","findIndex","a","vertexBuffer","VERTEX","initDefault","uuid","renderingMesh","renderingSubMeshes","jointMapIndex"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../cocos/3d/framework/mesh-renderer.ts"],"names":["ccclass","help","executeInEditMode","executionOrder","menu","tooltip","visible","type","formerlySerializedAs","serializable","editable","disallowAnimation","Mesh","Vec4","scene","MorphModel","TransformBit","Enum","builtinResMgr","RenderableComponent","legacyCC","assertIsTrue","ModelShadowCastingMode","OFF","ON","ModelShadowReceivingMode","ModelLightmapSettings","_bakeable","val","_castShadow","_receiveShadow","_lightmapSize","MeshRenderer","mesh","struct","morph","subMeshMorphs","some","subMeshMorph","_subMeshShapesWeights","_modelType","_model","_morphInstance","Model","onLoad","_mesh","initialize","_validateShapeWeights","_initSubMeshShapesWeights","_watchMorphInMesh","_updateModels","_updateCastShadow","_updateReceiveShadow","onRestore","onEnable","_attachToScene","onDisable","_detachFromScene","onDestroy","director","root","destroyModel","_models","length","destroy","getWeight","subMeshIndex","shapeIndex","subMeshShapesWeights","shapeWeights","setWeights","weights","slice","_uploadSubMeshShapesWeights","setWeight","weight","setInstancedAttribute","name","value","model","instancedAttributes","attributes","views","i","set","_updateLightmap","lightmap","uOff","vOff","uScale","vScale","lightmapSettings","texture","uvParam","x","y","z","w","_onUpdateLightingmap","enabledInHierarchy","node","transform","_createModel","createBoundingShape","minPosition","maxPosition","_updateModelParams","preferMorphOverPlain","modelType","createModel","visFlags","visibility","push","setMorphRendering","renderScene","_getRenderScene","addModel","removeModel","hasChangedFlags","POSITION","isDynamicBatching","_isBatchingEnabled","meshCount","renderingSubMeshes","renderingMesh","material","getRenderMaterial","isValid","subMeshData","initSubModel","_getBuiltinMaterial","enabled","updateLightingmap","_onMaterialModified","idx","inited","_onRebuildPSO","setSubModelMaterial","_onMeshChanged","old","_clearMaterials","subModels","get","_onVisibilityChange","_shadowCastingMode","castShadow","_shadowReceivingMode","receiveShadow","_materials","mat","p","passes","pass","batchingScheme","_enableMorph","morphRendering","createInstance","nSubMeshes","primitives","iSubMesh","commonWeights","map","targets","Array","fill","every","shapeCount","ShadowCastingMode","ShadowReceivingMode"],"mappings":"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"}
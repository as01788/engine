{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/weak-cache.ts"],"names":["js","WeakCache","map","_weakMap","window","WeakRef","Error","key","add","val","has","deref","get","remove","out","clear","createMap","forEach","func","find","predicate","destroy","Object","values","filter","weakRef","length"],"mappings":";;;;;;;;;;;AAASA,MAAAA,E,cAAAA,E;;;yBAQYC,S;AAGjB,2BAAaC,GAAb,EAAsC;AAAA,eAF5BC,QAE4B,GAFW,EAEX;AAClC,cAAI,OAAOC,MAAM,CAACC,OAAd,KAA0B,WAA9B,EAA2C,MAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;;AAC3C,cAAIJ,GAAJ,EAAS;AACL,iBAAK,IAAMK,IAAX,IAAkBL,GAAlB,EAAuB;AACnB,mBAAKC,QAAL,CAAcI,IAAd,IAAqB,IAAIF,OAAJ,CAAYH,GAAG,CAACK,IAAD,CAAf,CAArB;AACH;AACJ;AACJ;;;;eAEMC,G,GAAP,aAAYD,GAAZ,EAAyBE,GAAzB,EAAoC;AAChC,eAAKN,QAAL,CAAcI,GAAd,IAAqB,IAAIF,OAAJ,CAAYI,GAAZ,CAArB;AACA,iBAAOA,GAAP;AACH,S;;eAEMC,G,GAAP,aAAYH,GAAZ,EAAkC;AAC9B,iBAAOA,GAAG,IAAI,KAAKJ,QAAZ,IAAwB,CAAC,CAAC,KAAKA,QAAL,CAAcI,GAAd,EAAmBI,KAAnB,EAAjC;AACH,S;;eAEMC,G,GAAP,aAAYL,GAAZ,EAA+C;AAC3C,iBAAO,KAAKJ,QAAL,CAAcI,GAAd,KAAsB,KAAKJ,QAAL,CAAcI,GAAd,EAAmBI,KAAnB,EAA7B;AACH,S;;eAEME,M,GAAP,gBAAeN,GAAf,EAAkD;AAC9C,cAAMO,GAAG,GAAG,KAAKX,QAAL,CAAcI,GAAd,CAAZ;AACA,iBAAO,KAAKJ,QAAL,CAAcI,GAAd,CAAP;AACA,iBAAOO,GAAG,IAAIA,GAAG,CAACH,KAAJ,EAAd;AACH,S;;eAEMI,K,GAAP,iBAAsB;AAClB,eAAKZ,QAAL,GAAgBH,EAAE,CAACgB,SAAH,CAAa,IAAb,CAAhB;AACH,S;;eAEMC,O,GAAP,iBAAgBC,IAAhB,EAA2D;AACvD,eAAK,IAAMX,KAAX,IAAkB,KAAKJ,QAAvB,EAAiC;AAC7B,gBAAMM,IAAG,GAAG,KAAKG,GAAL,CAASL,KAAT,CAAZ;;AACA,gBAAIE,IAAJ,EAAS;AACLS,cAAAA,IAAI,CAACT,IAAD,EAAMF,KAAN,CAAJ;AACH;AACJ;AACJ,S;;eAEMY,I,GAAP,cAAaC,SAAb,EAAoE;AAChE,eAAK,IAAMb,KAAX,IAAkB,KAAKJ,QAAvB,EAAiC;AAC7B,gBAAMM,KAAG,GAAG,KAAKG,GAAL,CAASL,KAAT,CAAZ;;AACA,gBAAIE,KAAG,IAAIW,SAAS,CAACX,KAAD,EAAMF,KAAN,CAApB,EAAgC;AAC5B,qBAAO,KAAKJ,QAAL,CAAcI,KAAd,EAAmBI,KAAnB,EAAP;AACH;AACJ;;AACD,iBAAO,IAAP;AACH,S;;eAMMU,O,GAAP,mBAAwB;AACpB,eAAKlB,QAAL,GAAgB,EAAhB;AACH,S;;;;eAND,eAAqB;AACjB,mBAAOmB,MAAM,CAACC,MAAP,CAAc,KAAKpB,QAAnB,EAA6BqB,MAA7B,CAAoC,UAACC,OAAD;AAAA,qBAAaA,OAAO,CAACd,KAAR,EAAb;AAAA,aAApC,EAAkEe,MAAzE;AACH"}
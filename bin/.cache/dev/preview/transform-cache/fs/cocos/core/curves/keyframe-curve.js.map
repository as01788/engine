{"version":3,"sources":["../../../../../../../../../cocos/core/curves/keyframe-curve.ts"],"names":["isSorted","values","every","value","index","array","approx","binarySearchEpsilon","ccclass","serializable","assertIsTrue","KeyframeCurve","Symbol","iterator","next","_times","length","done","undefined","_values","keyframes","times","getKeyframeTime","getKeyframeValue","addKeyFrame","time","keyframeValue","_insertNewKeyframe","removeKeyframe","splice","indexOfKeyframe","updateTime","assignSorted","Array","isArray","setKeyframes","slice","from","map","clear","searchKeyframe","nFrames","iNext","unshift","push"],"mappings":"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"}
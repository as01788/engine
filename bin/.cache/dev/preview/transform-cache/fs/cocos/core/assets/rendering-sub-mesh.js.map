{"version":3,"sources":["../../../../../../../../../cocos/core/assets/rendering-sub-mesh.ts"],"names":["legacyCC","mapBuffer","Attribute","InputAssemblerInfo","BufferInfo","AttributeName","BufferUsageBit","Format","FormatInfos","MemoryUsageBit","Vec3","RenderingSubMesh","_init","vertexBuffers","attributes","primitiveMode","indexBuffer","indirectBuffer","mesh","subMeshIdx","_flatBuffers","_jointMappedBuffers","_jointMappedBufferIndices","_vertexIdChannel","_geometricInfo","_vertexBuffers","_attributes","_indexBuffer","_indirectBuffer","_primitiveMode","_iaInfo","genFlatBuffers","length","undefined","idxCount","prim","struct","primitives","indexView","count","i","vertexBundelIndices","bundleIdx","vertexBundle","vertexBundles","vbCount","view","vbStride","stride","vbSize","Uint8Array","data","buffer","offset","sharedView","set","subarray","push","ibView","readIndices","n","idx","srcOffset","m","destroy","enableVertexIdChannel","device","streamIndex","attributeIndex","vertexIdBuffer","_allocVertexIdBuffer","R32F","stream","index","vertexCount","size","vertexIds","Float32Array","iVertex","createBuffer","VERTEX","TRANSFER_DST","DEVICE","byteLength","BYTES_PER_ELEMENT","update","positions","indices","boundingBox","min","ZERO","max","readAttribute","ATTR_POSITION","pAttri","find","element","name","conut","format","x","y","z","buffers","jointMaps","jointMapIndex","jointFormat","jointOffset","director","root","bundle","UNKNOWN","j","attr","ATTR_JOINTS","dataView","DataView","slice","idxMap","cur","indexOf"],"mappings":"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"}
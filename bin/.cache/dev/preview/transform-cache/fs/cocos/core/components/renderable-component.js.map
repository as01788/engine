{"version":3,"sources":["../../../../../../../../../cocos/core/components/renderable-component.ts"],"names":["EDITOR","ccclass","type","displayOrder","displayName","serializable","Material","Component","MaterialInstance","Layers","warnID","legacyCC","_matInsInfo","parent","owner","subModelIdx","RenderableComponent","_materialInstances","_models","getMaterial","idx","_materials","length","setMaterial","material","index","console","error","inst","destroy","_onMaterialModified","getMaterialInstance","mat","instantiated","setMaterialInstance","matInst","temp","curInst","getRenderMaterial","_collectModels","_attachToScene","_detachFromScene","_onRebuildPSO","_clearMaterials","_onVisibilityChange","val","_visFlags","slice","i","splice","dLen","Enum","NONE"],"mappings":"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"}
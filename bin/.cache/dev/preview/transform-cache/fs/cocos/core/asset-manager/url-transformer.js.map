{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/url-transformer.ts"],"names":["parse","task","options","input","Array","isArray","output","i","item","out","RequestItem","create","config","info","Object","__requestType__","RequestType","UUID","js","addon","preset","presets","key","uuid","decodeUuid","bundle","bundles","find","getAssetInfo","name","has","get","redirect","Error","ext","extension","DIR","getDirWithPath","dir","type","infos","assetInfo","push","__isNative__","length","recycle","PATH","getInfoWithPath","path","SCENE","getSceneInfo","scene","isNative","URL","url","extname","undefined","JSON","stringify","combine","base","nativeBase","legacyCC","assetManager","generalNativeBase","importBase","generalImportBase","ver","nativeVer","slice","__nativeName__"],"mappings":"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"}
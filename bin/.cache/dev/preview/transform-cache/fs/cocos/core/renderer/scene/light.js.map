{"version":3,"sources":["../../../../../../../../../../cocos/core/renderer/scene/light.ts"],"names":["ColorTemperatureToRGB","rgb","kelvin","kSqr","u","v","d","x","y","z","X","Z","JSB","Vec3","TransformBit","NativeDirectionalLight","NativeSphereLight","NativeSpotLight","LightType","nt2lm","size","Math","PI","Light","_baked","_color","_colorTemp","_colorTempRGB","_scene","_node","_name","_useColorTemperature","_type","UNKNOWN","_init","DIRECTIONAL","_nativeObj","SPHERE","SPOT","setType","_destroy","initialize","color","colorTemperature","attachToScene","scene","detachFromScene","destroy","update","val","setBaked","set","setColor","enable","setUseColorTemperature","setColorTemperatureRGB","n","hasChangedFlags","ROTATION","setNode"],"mappings":"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"}
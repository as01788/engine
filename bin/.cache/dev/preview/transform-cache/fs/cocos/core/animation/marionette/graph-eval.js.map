{"version":3,"sources":["../../../../../../../../../../cocos/core/animation/marionette/graph-eval.ts"],"names":["createStateStatusCache","progress","calcProgressUpdate","currentProgress","duration","deltaTime","normalizeProgress","Math","trunc","DEBUG","isAnimationTransition","SubStateMachine","assertIsTrue","assertIsNonNullable","createEval","bindOr","VariableType","TriggerCondition","MotionState","warnID","BlendStateBuffer","clearWeightsStats","getWeightsStats","graphDebug","graphDebugGroup","graphDebugGroupEnd","GRAPH_DEBUG_ENABLED","StateMachineComponent","AnimationGraphEval","graph","root","controller","_blendBuffer","_currentTransitionCache","time","_varInstances","variables","name","type","value","VarInstance","context","blendBuffer","node","getVar","id","triggerResetFn","setValue","_layerEvaluations","Array","from","layers","map","layer","layerEval","LayerEval","mask","undefined","update","apply","getVariables","Object","entries","getCurrentStateStatus","getCurrentClipStatuses","getCurrentTransition","currentTransition","isInTransition","getNextStateStatus","getNextClipStatuses","getValue","varInstance","_weight","_nodes","_topLevelEntry","_topLevelExit","_currentNode","_currentTransitionToNode","_currentTransitionPath","_transitionProgress","_fromWeight","_toWeight","_fromUpdated","_toUpdated","_controller","weight","_addStateMachine","stateMachine","entry","exit","_resetTrigger","exited","_eval","_sample","currentNode","kind","NodeKind","animation","getFromPortStatus","getClipStatuses","emptyClipStatusesIterable","transitionStatus","currentTransitionPath","length","lastNode","to","normalizedDuration","durationInSeconds","getToPortStatus","nCurrentTransitionPath","parentStateMachineInfo","__DEBUG_ID__","nodes","states","entryEval","anyNode","exitEval","nodeEvaluations","MotionStateEval","entryState","SpecialStateEval","exitState","anyState","any","stateMachineInfo","components","parent","iNode","nodeEval","subStateMachineInfos","subStateMachineInfo","InstantiatedComponents","outgoingTemplates","getOutgoings","outgoingTransitions","fromNode","outgoing","outgoingNode","iOutgoingNode","findIndex","nodeTemplate","toNode","transitionEval","conditions","condition","relativeDuration","exitConditionEnabled","exitCondition","triggers","forEach","conditionEval","iCondition","trigger","push","haltOnNonMotionState","_continueDanglingTransition","MAX_ITERATIONS","passConsumed","remainTimePiece","continueNextIterationForce","iterations","currentUpdatingConsume","_updateCurrentTransition","transitionMatch","_matchCurrentNodeTransition","transition","updateRequires","requires","updateFromPort","ranIntoNonMotionState","_switchTo","triggerFromPortUpdate","triggerToPortUpdate","currentTransitionToNode","fromWeight","sampleFromPort","sampleToPort","minDeltaTimeRequired","Infinity","transitionRequiringMinDeltaTime","match0","_matchTransition","transitionMatchCacheRegular","ancestor","anyMatch","transitionMatchCacheAny","result","transitionMatchCache","set","realNode","nTransitions","iTransition","nConditions","deltaTimeRequired","exitTime","max","fromPortTime","satisfied","eval","_consumeTransition","motionNode","_matchTransitionPathUntilMotion","_doTransitionToMotion","lenCurrentTransitionPath","lastTransition","tailNode","_callEnterMethods","_resetTriggersAlongThePath","_resetTriggersOnTransition","targetNode","resetToPort","transitionDuration","contrib","ratio","transitionProgress","durationSeconds","progressSeconds","remain","min","toNodeName","shouldUpdatePorts","hasFinished","updateToPort","_callExitMethods","transitions","nTransition","finishTransition","nTriggers","iTrigger","_triggerReset","callMotionStateEnterMethods","callStateMachineEnterMethods","callMotionStateExitMethods","callStateMachineExitMethods","emptyClipStatusesIterator","freeze","next","done","Symbol","iterator","TransitionMatchCache","StateEval","_components","instantiateComponents","status","_callMotionStateCallbackIfNonDefault","callMotionStateUpdateMethods","_callStateMachineCallbackIfNonDefault","methodName","nComponents","iComponent","component","prototype","_source","_speed","_fromPort","statusCache","_toPort","speed","FLOAT","_setSpeed","sourceEvalContext","sourceEval","motion","defineProperty","stateStatus","sample","baseWeight","source","_value","_refs","bind","fn","thisArg","args","call"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA84BA,WAASA,sBAAT,GAAsD;AAClD,WAAO;AACHC,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;;AAuQD,WAASC,kBAAT,CAA6BC,eAA7B,EAAsDC,QAAtD,EAAwEC,SAAxE,EAA2F;AACvF,QAAID,QAAQ,KAAK,GAAjB,EAAsB;AAClB;AACA,aAAO,GAAP;AACH;;AACD,QAAMH,QAAQ,GAAGE,eAAe,GAAGE,SAAS,GAAGD,QAA/C;AACA,WAAOH,QAAP;AACH;;AAED,WAASK,iBAAT,CAA4BL,QAA5B,EAA8C;AAC1C,WAAOA,QAAQ,GAAGM,IAAI,CAACC,KAAL,CAAWP,QAAX,CAAlB;AACH;;;;AApqCQQ,MAAAA,K,mCAAAA,K;;AACwDC,MAAAA,qB,qBAAAA,qB;AAAuBC,MAAAA,e,qBAAAA,e;;AAC/EC,MAAAA,Y,uBAAAA,Y;AAAcC,MAAAA,mB,uBAAAA,mB;;AAGdC,MAAAA,U,iBAAAA,U;;AAEaC,MAAAA,M,iBAAAA,M;AAAQC,MAAAA,Y,iBAAAA,Y;;AACNC,MAAAA,gB,gBAAAA,gB;;AAEfC,MAAAA,W,kBAAAA,W;;AAEOC,MAAAA,M,oBAAAA,M;;AACPC,MAAAA,gB,kDAAAA,gB;;AACAC,MAAAA,iB,iBAAAA,iB;AAAmBC,MAAAA,e,iBAAAA,e;AAAiBC,MAAAA,U,iBAAAA,U;AAAYC,MAAAA,e,iBAAAA,e;AAAiBC,MAAAA,kB,iBAAAA,kB;AAAoBC,MAAAA,mB,iBAAAA,mB;;AAGrFC,MAAAA,qB,4BAAAA,qB;;;oCAGIC,kB;AAQT,oCAAaC,KAAb,EAAoCC,IAApC,EAAgDC,UAAhD,EAAiF;AAAA;;AAAA,eANzEC,YAMyE,GAN1D,IAAIZ,gBAAJ,EAM0D;AAAA,eALzEa,uBAKyE,GAL7B;AAChD7B,YAAAA,QAAQ,EAAE,GADsC;AAEhD8B,YAAAA,IAAI,EAAE;AAF0C,WAK6B;AAAA,eAsFzEC,aAtFyE,GAsF5B,EAtF4B;;AAC7E,+DAAsCN,KAAK,CAACO,SAA5C,wCAAuD;AAAA;AAAA,gBAA3CC,KAA2C;AAAA;AAAA,gBAAnCC,IAAmC,gBAAnCA,IAAmC;AAAA,gBAA7BC,MAA6B,gBAA7BA,KAA6B;AACnD,iBAAKJ,aAAL,CAAmBE,KAAnB,IAA2B,IAAIG,WAAJ,CAAgBF,IAAhB,EAAsBC,MAAtB,CAA3B;AACH;;AAED,cAAME,OAAqB,GAAG;AAC1BV,YAAAA,UAAU,EAAVA,UAD0B;AAE1BW,YAAAA,WAAW,EAAE,KAAKV,YAFQ;AAG1BW,YAAAA,IAAI,EAAEb,IAHoB;AAI1Bc,YAAAA,MAAM,EAAE,gBAACC,EAAD;AAAA,qBAAyC,KAAI,CAACV,aAAL,CAAmBU,EAAnB,CAAzC;AAAA,aAJkB;AAK1BC,YAAAA,cAAc,EAAE,wBAACT,IAAD,EAAkB;AAC9B,cAAA,KAAI,CAACU,QAAL,CAAcV,IAAd,EAAoB,KAApB;AACH;AAPyB,WAA9B;AAUA,eAAKW,iBAAL,GAAyBC,KAAK,CAACC,IAAN,CAAWrB,KAAK,CAACsB,MAAjB,EAAyBC,GAAzB,CAA6B,UAACC,KAAD,EAAW;AAAA;;AAC7D,gBAAMC,SAAS,GAAG,IAAIC,SAAJ,CAAcF,KAAd,eACXZ,OADW;AAEde,cAAAA,IAAI,iBAAEH,KAAK,CAACG,IAAR,qDAAgBC;AAFN,eAAlB;AAIA,mBAAOH,SAAP;AACH,WANwB,CAAzB;AAOH;;;;eAEMI,M,GAAP,gBAAerD,SAAf,EAAkC;AAC9BmB,UAAAA,eAAe,sBAAf;;AACA,cAAIE,mBAAJ,EAAyB;AACrBL,YAAAA,iBAAiB;AACpB;;AACD,gEAAwB,KAAK2B,iBAA7B,2CAAgD;AAAA,gBAArCM,SAAqC;AAC5CA,YAAAA,SAAS,CAACI,MAAV,CAAiBrD,SAAjB;AACH;;AACD,cAAIqB,mBAAJ,EAAyB;AACrBH,YAAAA,UAAU,eAAaD,eAAe,EAA5B,CAAV;AACH;;AACD,eAAKU,YAAL,CAAkB2B,KAAlB;;AACAlC,UAAAA,kBAAkB;AACrB,S;;eAEMmC,Y,GAAP,wBAAuF;AACnF,iBAAOC,MAAM,CAACC,OAAP,CAAe,KAAK3B,aAApB,CAAP;AACH,S;;eAEM4B,qB,GAAP,+BAA8BV,KAA9B,EAAiF;AAC7E,iBAAO,KAAKL,iBAAL,CAAuBK,KAAvB,EAA8BU,qBAA9B,EAAP;AACH,S;;eAEMC,sB,GAAP,gCAA+BX,KAA/B,EAA8E;AAC1E,iBAAO,KAAKL,iBAAL,CAAuBK,KAAvB,EAA8BW,sBAA9B,EAAP;AACH,S;;eAEMC,oB,GAAP,8BAA6BZ,KAA7B,EAA+E;AAAA,cAEpDF,MAFoD,GAIvE,IAJuE,CAEvEH,iBAFuE;AAAA,cAG9CkB,iBAH8C,GAIvE,IAJuE,CAGvEjC,uBAHuE;AAK3E,cAAMkC,cAAc,GAAGhB,MAAM,CAACE,KAAD,CAAN,CAAcY,oBAAd,CAAmCC,iBAAnC,CAAvB;AACA,iBAAOC,cAAc,GAAGD,iBAAH,GAAuB,IAA5C;AACH,S;;eAEME,kB,GAAP,4BAA2Bf,KAA3B,EAA8E;AAC1E,iBAAO,KAAKL,iBAAL,CAAuBK,KAAvB,EAA8Be,kBAA9B,EAAP;AACH,S;;eAEMC,mB,GAAP,6BAA4BhB,KAA5B,EAA2E;AACvExC,UAAAA,mBAAmB,CAAC,KAAKoD,oBAAL,CAA0BZ,KAA1B,CAAD,EAAmC,oCAAnC,CAAnB;AACA,iBAAO,KAAKL,iBAAL,CAAuBK,KAAvB,EAA8BgB,mBAA9B,EAAP;AACH,S;;eAEMC,Q,GAAP,kBAAiBjC,IAAjB,EAA+B;AAC3B,cAAMkC,WAAW,GAAG,KAAKpC,aAAL,CAAmBE,IAAnB,CAApB;;AACA,cAAI,CAACkC,WAAL,EAAkB;AACd,mBAAOd,SAAP;AACH,WAFD,MAEO;AACH,mBAAOc,WAAW,CAAChC,KAAnB;AACH;AACJ,S;;eAEMQ,Q,GAAP,kBAAiBV,IAAjB,EAA+BE,KAA/B,EAA6C;AACzC,cAAMgC,WAAW,GAAG,KAAKpC,aAAL,CAAmBE,IAAnB,CAApB;;AACA,cAAI,CAACkC,WAAL,EAAkB;AACd;AACH;;AACDA,UAAAA,WAAW,CAAChC,KAAZ,GAAoBA,KAApB;AACH,S;;;;;AAuDCgB,MAAAA,S;AAGF,2BAAaF,KAAb,EAA2BZ,OAA3B,EAAkD;AAAA,eAmF1C+B,OAnF0C;AAAA,eAoF1CC,MApF0C,GAoFrB,EApFqB;AAAA,eAqF1CC,cArF0C;AAAA,eAsF1CC,aAtF0C;AAAA,eAuF1CC,YAvF0C;AAAA,eAwF1CC,wBAxF0C,GAwFS,IAxFT;AAAA,eAyF1CC,sBAzF0C,GAyFC,EAzFD;AAAA,eA0F1CC,mBA1F0C,GA0FpB,CA1FoB;AAAA,eA4F1CC,WA5F0C,GA4F5B,GA5F4B;AAAA,eA6F1CC,SA7F0C,GA6F9B,GA7F8B;AAAA,eA8F1CC,YA9F0C,GA8F3B,KA9F2B;AAAA,eA+F1CC,UA/F0C,GA+F7B,KA/F6B;AAC9C,eAAK9C,IAAL,GAAYgB,KAAK,CAAChB,IAAlB;AACA,eAAK+C,WAAL,GAAmB3C,OAAO,CAACV,UAA3B;AACA,eAAKyC,OAAL,GAAenB,KAAK,CAACgC,MAArB;;AAH8C,sCAItB,KAAKC,gBAAL,CAAsBjC,KAAK,CAACkC,YAA5B,EAA0C,IAA1C,eACjB9C,OADiB,GAErBY,KAAK,CAAChB,IAFe,CAJsB;AAAA,cAItCmD,KAJsC,yBAItCA,KAJsC;AAAA,cAI/BC,IAJ+B,yBAI/BA,IAJ+B;;AAO9C,eAAKf,cAAL,GAAsBc,KAAtB;AACA,eAAKb,aAAL,GAAqBc,IAArB;AACA,eAAKb,YAAL,GAAoBY,KAApB;AACA,eAAKE,aAAL,GAAqBjD,OAAO,CAACK,cAA7B;AACH;AAED;AACJ;AACA;;;;;gBAKWY,M,GAAP,gBAAerD,SAAf,EAAkC;AAC9B,cAAI,CAAC,KAAKsF,MAAV,EAAkB;AACd,iBAAKX,WAAL,GAAmB,GAAnB;AACA,iBAAKC,SAAL,GAAiB,GAAjB;;AACA,iBAAKW,KAAL,CAAWvF,SAAX;;AACA,iBAAKwF,OAAL;AACH;AACJ,S;;gBAEM9B,qB,GAAP,iCAAoE;AAAA,cAC1C+B,WAD0C,GAC1B,IAD0B,CACxDlB,YADwD;;AAEhE,cAAIkB,WAAW,CAACC,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzC,mBAAOH,WAAW,CAACI,iBAAZ,EAAP;AACH,WAFD,MAEO;AACH,mBAAO,IAAP;AACH;AACJ,S;;gBAEMlC,sB,GAAP,kCAAuD;AAAA,cAC7B8B,WAD6B,GACb,IADa,CAC3ClB,YAD2C;;AAEnD,cAAIkB,WAAW,CAACC,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzC,mBAAOH,WAAW,CAACK,eAAZ,CAA4B,KAAKnB,WAAjC,CAAP;AACH,WAFD,MAEO;AACH,mBAAOoB,yBAAP;AACH;AACJ,S;;gBAEMnC,oB,GAAP,8BAA6BoC,gBAA7B,EAA0E;AAAA,cACtCC,qBADsC,GACZ,IADY,CAC9DxB,sBAD8D;;AAEtE,cAAIwB,qBAAqB,CAACC,MAAtB,KAAiC,CAArC,EAAwC;AACpC,gBAAMC,QAAQ,GAAGF,qBAAqB,CAACA,qBAAqB,CAACC,MAAtB,GAA+B,CAAhC,CAAtC;;AACA,gBAAIC,QAAQ,CAACC,EAAT,CAAYV,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzC,qBAAO,KAAP;AACH;;AAJmC,wCAQhCK,qBAAqB,CAAC,CAAD,CARW;AAAA,gBAMhClG,QANgC,yBAMhCA,QANgC;AAAA,gBAOhCsG,kBAPgC,yBAOhCA,kBAPgC;AASpC,gBAAMC,iBAAiB,GAAGN,gBAAgB,CAACjG,QAAjB,GAA4BsG,kBAAkB,GAClEtG,QAAQ,IAAI,KAAKwE,YAAL,CAAkBmB,IAAlB,KAA2BC,QAAQ,CAACC,SAApC,GAAgD,KAAKrB,YAAL,CAAkBxE,QAAlE,GAA6E,GAAjF,CAD0D,GAElEA,QAFN;AAGAiG,YAAAA,gBAAgB,CAACnE,IAAjB,GAAwB,KAAK6C,mBAAL,GAA2B4B,iBAAnD;AACA,mBAAO,IAAP;AACH,WAdD,MAcO;AACH,mBAAO,KAAP;AACH;AACJ,S;;gBAEMvC,kB,GAAP,8BAAiE;AAC7DxD,UAAAA,YAAY,CAAC,KAAKiE,wBAAN,EAAgC,4CAAhC,CAAZ;AACA,iBAAO,KAAKA,wBAAL,CAA8B+B,eAA9B,EAAP;AACH,S;;gBAEMvC,mB,GAAP,+BAAoD;AAAA;;AAAA,cAChBiC,qBADgB,GACU,IADV,CACxCxB,sBADwC;AAEhD,cAAM+B,sBAAsB,GAAGP,qBAAqB,CAACC,MAArD;AACA3F,UAAAA,YAAY,CAACiG,sBAAsB,GAAG,CAA1B,EAA6B,4CAA7B,CAAZ;AACA,cAAMJ,EAAE,GAAGH,qBAAqB,CAACO,sBAAsB,GAAG,CAA1B,CAArB,CAAkDJ,EAA7D;AACA7F,UAAAA,YAAY,CAAC6F,EAAE,CAACV,IAAH,KAAYC,QAAQ,CAACC,SAAtB,CAAZ;AACA,wCAAOQ,EAAE,CAACN,eAAH,CAAmB,KAAKlB,SAAxB,CAAP,qEAA6CmB,yBAA7C;AACH,S;;gBAiBOd,gB,GAAR,0BACIzD,KADJ,EACyBiF,sBADzB,EAC0ErE,OAD1E,EACiGsE,YADjG,EAEoB;AAAA;;AAChB,cAAMC,KAAK,GAAG/D,KAAK,CAACC,IAAN,CAAWrB,KAAK,CAACoF,MAAN,EAAX,CAAd;AAEA,cAAIC,SAAJ;AACA,cAAIC,OAAJ;AACA,cAAIC,QAAJ;AAEA,cAAMC,eAAe,GAAGL,KAAK,CAAC5D,GAAN,CAAU,UAACT,IAAD,EAA2B;AACzD,gBAAIA,IAAI,YAAYzB,WAApB,EAAiC;AAC7B,qBAAO,IAAIoG,eAAJ,CAAoB3E,IAApB,EAA0BF,OAA1B,CAAP;AACH,aAFD,MAEO,IAAIE,IAAI,KAAKd,KAAK,CAAC0F,UAAnB,EAA+B;AAClC,qBAAOL,SAAS,GAAG,IAAIM,gBAAJ,CAAqB7E,IAArB,EAA2BqD,QAAQ,CAACR,KAApC,EAA2C7C,IAAI,CAACN,IAAhD,CAAnB;AACH,aAFM,MAEA,IAAIM,IAAI,KAAKd,KAAK,CAAC4F,SAAnB,EAA8B;AACjC,qBAAOL,QAAQ,GAAG,IAAII,gBAAJ,CAAqB7E,IAArB,EAA2BqD,QAAQ,CAACP,IAApC,EAA0C9C,IAAI,CAACN,IAA/C,CAAlB;AACH,aAFM,MAEC,IAAIM,IAAI,KAAKd,KAAK,CAAC6F,QAAnB,EAA6B;AACjC,qBAAOP,OAAO,GAAG,IAAIK,gBAAJ,CAAqB7E,IAArB,EAA2BqD,QAAQ,CAAC2B,GAApC,EAAyChF,IAAI,CAACN,IAA9C,CAAjB;AACH,aAFO,MAED;AACHzB,cAAAA,YAAY,CAAC+B,IAAI,YAAYhC,eAAjB,CAAZ;AACA,qBAAO,IAAP;AACH;AACJ,WAbuB,CAAxB;AAeAE,UAAAA,mBAAmB,CAACqG,SAAD,EAAY,uBAAZ,CAAnB;AACArG,UAAAA,mBAAmB,CAACuG,QAAD,EAAW,sBAAX,CAAnB;AACAvG,UAAAA,mBAAmB,CAACsG,OAAD,EAAU,qBAAV,CAAnB;AAEA,cAAMS,gBAAkC,GAAG;AACvCC,YAAAA,UAAU,EAAE,IAD2B;AAEvCC,YAAAA,MAAM,EAAEhB,sBAF+B;AAGvCtB,YAAAA,KAAK,EAAE0B,SAHgC;AAIvCzB,YAAAA,IAAI,EAAE2B,QAJiC;AAKvCO,YAAAA,GAAG,EAAER;AALkC,WAA3C;;AAQA,eAAK,IAAIY,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGf,KAAK,CAACT,MAAlC,EAA0C,EAAEwB,KAA5C,EAAmD;AAC/C,gBAAMC,QAAQ,GAAGX,eAAe,CAACU,KAAD,CAAhC;;AACA,gBAAIC,QAAJ,EAAc;AACVA,cAAAA,QAAQ,CAACzC,YAAT,GAAwBqC,gBAAxB;AACH;AACJ;;AAED,cAAMK,oBAAoB,GAAGjB,KAAK,CAAC5D,GAAN,CAAU,UAACT,IAAD,EAAU;AAC7C,gBAAIA,IAAI,YAAYhC,eAApB,EAAqC;AACjC,kBAAMuH,mBAAmB,GAAG,MAAI,CAAC5C,gBAAL,CAAsB3C,IAAI,CAAC4C,YAA3B,EAAyCqC,gBAAzC,EAA2DnF,OAA3D,EAAuEsE,YAAvE,SAAuFpE,IAAI,CAACN,IAA5F,CAA5B;;AACA6F,cAAAA,mBAAmB,CAACL,UAApB,GAAiC,IAAIM,sBAAJ,CAA2BxF,IAA3B,CAAjC;AACA,qBAAOuF,mBAAP;AACH,aAJD,MAIO;AACH,qBAAO,IAAP;AACH;AACJ,WAR4B,CAA7B;;AAUA,cAAIzH,KAAJ,EAAW;AACP,kEAAuB4G,eAAvB,2CAAwC;AAAA,kBAA7BW,SAA6B;;AACpC,kBAAIA,SAAJ,EAAc;AACVA,gBAAAA,SAAQ,CAACjB,YAAT,GAA2BiB,SAAQ,CAAC3F,IAApC,cAAiD0E,YAAjD;AACH;AACJ;AACJ;;AAED,eAAK,IAAIgB,MAAK,GAAG,CAAjB,EAAoBA,MAAK,GAAGf,KAAK,CAACT,MAAlC,EAA0C,EAAEwB,MAA5C,EAAmD;AAC/C,gBAAMpF,IAAI,GAAGqE,KAAK,CAACe,MAAD,CAAlB;AACA,gBAAMK,iBAAiB,GAAGvG,KAAK,CAACwG,YAAN,CAAmB1F,IAAnB,CAA1B;AACA,gBAAM2F,mBAAqC,GAAG,EAA9C;AAEA,gBAAIC,QAAkB,SAAtB;;AACA,gBAAI5F,IAAI,YAAYhC,eAApB,EAAqC;AACjC,kBAAMuH,mBAAmB,GAAGD,oBAAoB,CAACF,MAAD,CAAhD;AACAlH,cAAAA,mBAAmB,CAACqH,mBAAD,CAAnB;AACAK,cAAAA,QAAQ,GAAGL,mBAAmB,CAACzC,IAA/B;AACH,aAJD,MAIO;AACH,kBAAMuC,UAAQ,GAAGX,eAAe,CAACU,MAAD,CAAhC;AACAlH,cAAAA,mBAAmB,CAACmH,UAAD,CAAnB;AACAO,cAAAA,QAAQ,GAAGP,UAAX;AACH;;AAd8C;AAAA,kBAgBpCQ,QAhBoC;AAiB3C,kBAAMC,YAAY,GAAGD,QAAQ,CAAC/B,EAA9B;AACA,kBAAMiC,aAAa,GAAG1B,KAAK,CAAC2B,SAAN,CAAgB,UAACC,YAAD;AAAA,uBAAkBA,YAAY,KAAKJ,QAAQ,CAAC/B,EAA5C;AAAA,eAAhB,CAAtB;;AACA,kBAAIiC,aAAa,GAAG,CAApB,EAAuB;AACnB9H,gBAAAA,YAAY,CAAC,KAAD,EAAQ,oBAAR,CAAZ;AACH;;AAED,kBAAIiI,MAAgB,SAApB;;AACA,kBAAIJ,YAAY,YAAY9H,eAA5B,EAA6C;AACzC,oBAAMuH,oBAAmB,GAAGD,oBAAoB,CAACS,aAAD,CAAhD;AACA7H,gBAAAA,mBAAmB,CAACqH,oBAAD,CAAnB;AACAW,gBAAAA,MAAM,GAAGX,oBAAmB,CAAC1C,KAA7B;AACH,eAJD,MAIO;AACH,oBAAMwC,UAAQ,GAAGX,eAAe,CAACqB,aAAD,CAAhC;AACA7H,gBAAAA,mBAAmB,CAACmH,UAAD,CAAnB;AACAa,gBAAAA,MAAM,GAAGb,UAAT;AACH;;AAED,kBAAMc,cAA8B,GAAG;AACnCrC,gBAAAA,EAAE,EAAEoC,MAD+B;AAEnCE,gBAAAA,UAAU,EAAEP,QAAQ,CAACO,UAAT,CAAoB3F,GAApB,CAAwB,UAAC4F,SAAD;AAAA,yBAAeA,SAAS,CAAClI,UAAD,CAAT,CAAsB2B,OAAtB,CAAf;AAAA,iBAAxB,CAFuB;AAGnCrC,gBAAAA,QAAQ,EAAEM,qBAAqB,CAAC8H,QAAD,CAArB,GAAkCA,QAAQ,CAACpI,QAA3C,GAAsD,GAH7B;AAInCsG,gBAAAA,kBAAkB,EAAEhG,qBAAqB,CAAC8H,QAAD,CAArB,GAAkCA,QAAQ,CAACS,gBAA3C,GAA8D,KAJ/C;AAKnCC,gBAAAA,oBAAoB,EAAExI,qBAAqB,CAAC8H,QAAD,CAArB,GAAkCA,QAAQ,CAACU,oBAA3C,GAAkE,KALrD;AAMnCC,gBAAAA,aAAa,EAAEzI,qBAAqB,CAAC8H,QAAD,CAArB,GAAkCA,QAAQ,CAACW,aAA3C,GAA2D,GANvC;AAOnCC,gBAAAA,QAAQ,EAAE3F;AAPyB,eAAvC;AASAqF,cAAAA,cAAc,CAACC,UAAf,CAA0BM,OAA1B,CAAkC,UAACC,aAAD,EAAgBC,UAAhB,EAA+B;AAC7D,oBAAMP,SAAS,GAAGR,QAAQ,CAACO,UAAT,CAAoBQ,UAApB,CAAlB;;AACA,oBAAIP,SAAS,YAAY/H,gBAArB,IAAyC+H,SAAS,CAACQ,OAAvD,EAAgE;AAAA;;AAC5D;AACA,4CAACV,cAAc,CAACM,QAAhB,yEAACN,cAAc,CAACM,QAAhB,GAA6B,EAA7B,EAAiCK,IAAjC,CAAsCT,SAAS,CAACQ,OAAhD;AACH;AACJ,eAND;AAOAlB,cAAAA,mBAAmB,CAACmB,IAApB,CAAyBX,cAAzB;AAlD2C;;AAgB/C,kEAAuBV,iBAAvB,2CAA0C;AAAA;AAmCzC;;AAEDG,YAAAA,QAAQ,CAACD,mBAAT,GAA+BA,mBAA/B;AACH;;AAED,iBAAOV,gBAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;gBACYhC,K,GAAR,eAAevF,SAAf,EAA4C;AACxCO,UAAAA,YAAY,CAAC,CAAC,KAAK+E,MAAP,CAAZ;AACAnE,UAAAA,eAAe,aAAW,KAAKa,IAAhB,uBAAsChC,SAAtC,OAAf;;AAEA,cAAMqJ,oBAAoB,GAAG,KAAKC,2BAAL,EAA7B;;AACA,cAAID,oBAAJ,EAA0B;AACtB,mBAAO,GAAP;AACH;;AAED,cAAME,cAAc,GAAG,GAAvB;AACA,cAAIC,YAAY,GAAG,GAAnB;AAEA,cAAIC,eAAe,GAAGzJ,SAAtB;;AACA,eAAK,IAAI0J,0BAA0B,GAAG,IAAjC,EAAuC;AACxCC,UAAAA,UAAU,GAAG,CADjB,EAEID,0BAA0B,IAAID,eAAe,GAAG,GAFpD,GAGE;AACEC,YAAAA,0BAA0B,GAAG,KAA7B;;AAEA,gBAAIC,UAAU,KAAK,CAAnB,EAAsB;AAClBzI,cAAAA,UAAU,yBAAuBsI,YAAvB,mBAAiDC,eAAjD,OAAV;AACH;;AAED,gBAAIE,UAAU,KAAKJ,cAAnB,EAAmC;AAC/BzI,cAAAA,MAAM,CAAC,KAAD,EAAQyI,cAAR,CAAN;AACA;AACH;;AAEDrI,YAAAA,UAAU,WAASyI,UAAT,eAAV;;AAEA,gBAAItI,mBAAJ,EAAyB;AACrBmI,cAAAA,YAAY,GAAG,GAAf;AACH;;AAED,cAAEG,UAAF,CAlBF,CAoBE;AACA;;AACA,gBAAI,KAAKlF,sBAAL,CAA4ByB,MAA5B,GAAqC,CAAzC,EAA4C;AACxC,kBAAM0D,sBAAsB,GAAG,KAAKC,wBAAL,CAA8BJ,eAA9B,CAA/B;;AACA,kBAAIpI,mBAAJ,EAAyB;AACrBmI,gBAAAA,YAAY,GAAGI,sBAAf;AACH;;AACDH,cAAAA,eAAe,IAAIG,sBAAnB;;AACA,kBAAI,KAAKrF,YAAL,CAAkBmB,IAAlB,KAA2BC,QAAQ,CAACP,IAAxC,EAA8C;AAC1C;AACH;;AACD,kBAAI,KAAKX,sBAAL,CAA4ByB,MAA5B,KAAuC,CAA3C,EAA8C;AAC1C;AACA;AACAwD,gBAAAA,0BAA0B,GAAG,IAA7B;AACH;;AACD;AACH;;AArCH,gBAuCwBjE,WAvCxB,GAuCwC,IAvCxC,CAuCUlB,YAvCV;;AAyCE,gBAAMuF,eAAe,GAAG,KAAKC,2BAAL,CAAiCN,eAAjC,CAAxB;;AAEA,gBAAIK,eAAJ,EAAqB;AAAA,kBAEbE,UAFa,GAIbF,eAJa,CAEbE,UAFa;AAAA,kBAGHC,cAHG,GAIbH,eAJa,CAGbI,QAHa;AAMjBhJ,cAAAA,UAAU,uBAAqB,KAAKc,IAA1B,8BAAuDyD,WAAW,CAACzD,IAAnE,CAAV;;AACA,kBAAIX,mBAAJ,EAAyB;AACrBmI,gBAAAA,YAAY,GAAGS,cAAf;AACH;;AACDR,cAAAA,eAAe,IAAIQ,cAAnB;;AAEA,kBAAIxE,WAAW,CAACC,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzCH,gBAAAA,WAAW,CAAC0E,cAAZ,CAA2BF,cAA3B;AACA,qBAAKpF,YAAL,GAAoB,IAApB;AACH;;AAED,kBAAMuF,qBAAqB,GAAG,KAAKC,SAAL,CAAeL,UAAf,CAA9B;;AACA,kBAAII,qBAAJ,EAA2B;AACvB;AACH;;AAEDV,cAAAA,0BAA0B,GAAG,IAA7B;AACH,aAvBD,MAuBO;AAAE;AACLxI,cAAAA,UAAU,uBAAqB,KAAKc,IAA1B,8BAAuDyD,WAAW,CAACzD,IAAnE,CAAV;;AACA,kBAAIyD,WAAW,CAACC,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzCH,gBAAAA,WAAW,CAAC0E,cAAZ,CAA2BV,eAA3B;AACA,qBAAK5E,YAAL,GAAoB,IAApB,CAFyC,CAGzC;;AACA4E,gBAAAA,eAAe,GAAG,GAAlB;AACH;;AACD,kBAAIpI,mBAAJ,EAAyB;AACrBmI,gBAAAA,YAAY,GAAGC,eAAf;AACH;;AACD;AACH;AACJ;;AAEDvI,UAAAA,UAAU,uBAAqB,KAAKc,IAA1B,kBAAV;AACAZ,UAAAA,kBAAkB;;AAElB,cAAI,KAAKyD,YAAL,IAAqB,KAAKN,YAAL,CAAkBmB,IAAlB,KAA2BC,QAAQ,CAACC,SAA7D,EAAwE;AACpE,iBAAKf,YAAL,GAAoB,KAApB;;AACA,iBAAKN,YAAL,CAAkB+F,qBAAlB,CAAwC,KAAKvF,WAA7C;AACH;;AAED,cAAI,KAAKP,wBAAL,IAAiC,KAAKM,UAAtC,IAAoD,KAAKP,YAAL,CAAkBmB,IAAlB,KAA2BC,QAAQ,CAACC,SAA5F,EAAuG;AACnG,iBAAKd,UAAL,GAAkB,KAAlB;;AACA,iBAAKN,wBAAL,CAA8B+F,mBAA9B,CAAkD,KAAKxF,WAAvD;AACH;;AAED,iBAAO0E,eAAP;AACH,S;;gBAEOjE,O,GAAR,mBAAmB;AAAA,cAEGC,WAFH,GAKX,IALW,CAEXlB,YAFW;AAAA,cAGeiG,uBAHf,GAKX,IALW,CAGXhG,wBAHW;AAAA,cAIEiG,UAJF,GAKX,IALW,CAIX9F,WAJW;;AAMf,cAAIc,WAAW,CAACC,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzCH,YAAAA,WAAW,CAACiF,cAAZ,CAA2BD,UAA3B;AACH;;AACD,cAAID,uBAAJ,EAA6B;AACzB,gBAAIA,uBAAuB,CAAC9E,IAAxB,KAAiCC,QAAQ,CAACC,SAA9C,EAAyD;AACrD4E,cAAAA,uBAAuB,CAACG,YAAxB,CAAqC,KAAK/F,SAA1C;AACH;AACJ;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;;;gBACYmF,2B,GAAR,qCAAqC/J,SAArC,EAAkE;AAC9D,cAAMyF,WAAW,GAAG,KAAKlB,YAAzB;AAEA,cAAIqG,oBAAoB,GAAGC,QAA3B;AACA,cAAIC,+BAAsD,GAAG,IAA7D;;AAEA,cAAMC,MAAM,GAAG,KAAKC,gBAAL,CACXvF,WADW,EAEXA,WAFW,EAGXzF,SAHW,EAIXiL,2BAJW,CAAf;;AAMA,cAAIF,MAAJ,EAAY;AAEMH,YAAAA,oBAFN,GAIJG,MAJI,CAEJb,QAFI;AAGQY,YAAAA,+BAHR,GAIJC,MAJI,CAGJf,UAHI;AAKX;;AAED,cAAIvE,WAAW,CAACC,IAAZ,KAAqBC,QAAQ,CAACC,SAAlC,EAA6C;AACzC,iBAAK,IAAIsF,QAAiC,GAAGzF,WAAW,CAACP,YAAzD,EACIgG,QAAQ,KAAK,IADjB,EAEIA,QAAQ,GAAGA,QAAQ,CAACzD,MAFxB,EAEgC;AAC5B,kBAAM0D,QAAQ,GAAG,KAAKH,gBAAL,CACbE,QAAQ,CAAC5D,GADI,EAEb7B,WAFa,EAGbzF,SAHa,EAIboL,uBAJa,CAAjB;;AAMA,kBAAID,QAAQ,IAAIA,QAAQ,CAACjB,QAAT,GAAoBU,oBAApC,EAA0D;AAExCA,gBAAAA,oBAFwC,GAIlDO,QAJkD,CAElDjB,QAFkD;AAGtCY,gBAAAA,+BAHsC,GAIlDK,QAJkD,CAGlDnB,UAHkD;AAKzD;AACJ;AACJ;;AAED,cAAMqB,MAAM,GAAGC,oBAAf;;AAEA,cAAIR,+BAAJ,EAAqC;AACjC,mBAAOO,MAAM,CAACE,GAAP,CAAWT,+BAAX,EAA4CF,oBAA5C,CAAP;AACH;;AAED,iBAAO,IAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;gBACYI,gB,GAAR,0BACI1I,IADJ,EACoBkJ,QADpB,EACwCxL,SADxC,EACqEqL,MADrE,EAE0B;AACtB9K,UAAAA,YAAY,CAAC+B,IAAI,KAAKkJ,QAAT,IAAqBlJ,IAAI,CAACoD,IAAL,KAAcC,QAAQ,CAAC2B,GAA7C,CAAZ;AADsB,cAEdW,mBAFc,GAEU3F,IAFV,CAEd2F,mBAFc;AAGtB,cAAMwD,YAAY,GAAGxD,mBAAmB,CAAC/B,MAAzC;AACA,cAAI0E,oBAAoB,GAAGC,QAA3B;AACA,cAAIC,+BAAsD,GAAG,IAA7D;;AACA,eAAK,IAAIY,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGD,YAAxC,EAAsD,EAAEC,WAAxD,EAAqE;AACjE,gBAAM1B,UAAU,GAAG/B,mBAAmB,CAACyD,WAAD,CAAtC;AADiE,gBAEzDhD,UAFyD,GAE1CsB,UAF0C,CAEzDtB,UAFyD;AAGjE,gBAAMiD,WAAW,GAAGjD,UAAU,CAACxC,MAA/B,CAHiE,CAKjE;;AACA,gBAAIyF,WAAW,KAAK,CAApB,EAAuB;AACnB,kBAAIrJ,IAAI,CAACoD,IAAL,KAAcC,QAAQ,CAACR,KAAvB,IAAgC7C,IAAI,CAACoD,IAAL,KAAcC,QAAQ,CAACP,IAA3D,EAAiE;AAC7D;AACA,uBAAOiG,MAAM,CAACE,GAAP,CAAWvB,UAAX,EAAuB,GAAvB,CAAP;AACH;;AACD,kBAAI,CAACA,UAAU,CAACnB,oBAAhB,EAAsC;AAClC;AACA;AACH;AACJ;;AAED,gBAAI+C,iBAAiB,GAAG,GAAxB;;AAEA,gBAAIJ,QAAQ,CAAC9F,IAAT,KAAkBC,QAAQ,CAACC,SAA3B,IAAwCoE,UAAU,CAACnB,oBAAvD,EAA6E;AACzE,kBAAMgD,QAAQ,GAAGL,QAAQ,CAACzL,QAAT,GAAoBiK,UAAU,CAAClB,aAAhD;AACA8C,cAAAA,iBAAiB,GAAG1L,IAAI,CAAC4L,GAAL,CAASD,QAAQ,GAAGL,QAAQ,CAACO,YAA7B,EAA2C,GAA3C,CAApB;;AACA,kBAAIH,iBAAiB,GAAG5L,SAAxB,EAAmC;AAC/B;AACH;AACJ;;AAED,gBAAIgM,SAAS,GAAG,IAAhB;;AACA,iBAAK,IAAI9C,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAGyC,WAAtC,EAAmD,EAAEzC,UAArD,EAAiE;AAC7D,kBAAMP,SAAS,GAAGD,UAAU,CAACQ,UAAD,CAA5B;;AACA,kBAAI,CAACP,SAAS,CAACsD,IAAV,EAAL,EAAuB;AACnBD,gBAAAA,SAAS,GAAG,KAAZ;AACA;AACH;AACJ;;AACD,gBAAI,CAACA,SAAL,EAAgB;AACZ;AACH;;AAED,gBAAIJ,iBAAiB,KAAK,GAA1B,EAA+B;AAC3B;AACA,qBAAOP,MAAM,CAACE,GAAP,CAAWvB,UAAX,EAAuB,GAAvB,CAAP;AACH;;AAED,gBAAI4B,iBAAiB,GAAGhB,oBAAxB,EAA8C;AAC1CA,cAAAA,oBAAoB,GAAGgB,iBAAvB;AACAd,cAAAA,+BAA+B,GAAGd,UAAlC;AACH;AACJ;;AACD,cAAIc,+BAAJ,EAAqC;AACjC,mBAAOO,MAAM,CAACE,GAAP,CAAWT,+BAAX,EAA4CF,oBAA5C,CAAP;AACH;;AACD,iBAAO,IAAP;AACH;AAED;AACJ;AACA;AACA;AACA;;;gBACYP,S,GAAR,mBAAmBL,UAAnB,EAA+C;AAAA,cACrBvE,WADqB,GACL,IADK,CACnClB,YADmC;AAG3CpD,UAAAA,eAAe,uBAAqB,KAAKa,IAA1B,mBAA4CyD,WAAW,CAACzD,IAAxD,YAAmEgI,UAAU,CAAC5D,EAAX,CAAcpE,IAAjF,OAAf;AAH2C,cAKXiE,qBALW,GAKe,IALf,CAKnCxB,sBALmC;;AAO3C,eAAKyH,kBAAL,CAAwBlC,UAAxB;;AACA/D,UAAAA,qBAAqB,CAACmD,IAAtB,CAA2BY,UAA3B;;AAEA,cAAMmC,UAAU,GAAG,KAAKC,+BAAL,EAAnB;;AACA,cAAID,UAAJ,EAAgB;AACZ;AACA,iBAAKE,qBAAL,CAA2BF,UAA3B;;AACA,mBAAO,KAAP;AACH,WAJD,MAIO;AACH,mBAAO,IAAP;AACH;AACJ;AAED;AACJ;AACA;AACA;;;gBACY7C,2B,GAAR,uCAAuC;AAAA,cAEPrD,qBAFO,GAG/B,IAH+B,CAE/BxB,sBAF+B;AAKnC,cAAM6H,wBAAwB,GAAGrG,qBAAqB,CAACC,MAAvD;;AAEA,cAAIoG,wBAAwB,KAAK,CAAjC,EAAoC;AAChC,mBAAO,KAAP;AACH;;AAED,cAAMC,cAAc,GAAGtG,qBAAqB,CAACqG,wBAAwB,GAAG,CAA5B,CAA5C;AACA,cAAME,QAAQ,GAAGD,cAAc,CAACnG,EAAhC;;AAEA,cAAIoG,QAAQ,CAAC9G,IAAT,KAAkBC,QAAQ,CAACC,SAA/B,EAA0C;AACtC,gBAAMuG,UAAU,GAAG,KAAKC,+BAAL,EAAnB;;AACA,gBAAID,UAAJ,EAAgB;AACZ;AACA,mBAAKE,qBAAL,CAA2BF,UAA3B;;AACA,qBAAO,KAAP;AACH,aAJD,MAIO;AACH,qBAAO,IAAP;AACH;AACJ;;AAED,iBAAO,KAAP;AACH,S;;gBAEOC,+B,GAAR,2CAA2C;AAAA,cAEXnG,qBAFW,GAGnC,IAHmC,CAEnCxB,sBAFmC;AAKvC,cAAM6H,wBAAwB,GAAGrG,qBAAqB,CAACC,MAAvD;AACA3F,UAAAA,YAAY,CAAC+L,wBAAwB,KAAK,CAA9B,CAAZ;AAEA,cAAMC,cAAc,GAAGtG,qBAAqB,CAACqG,wBAAwB,GAAG,CAA5B,CAA5C;AACA,cAAIE,QAAQ,GAAGD,cAAc,CAACnG,EAA9B;;AACA,iBAAOoG,QAAQ,CAAC9G,IAAT,KAAkBC,QAAQ,CAACC,SAAlC,GAA8C;AAC1C,gBAAMkE,eAAe,GAAG,KAAKkB,gBAAL,CACpBwB,QADoB,EAEpBA,QAFoB,EAGpB,GAHoB,EAIpBlB,oBAJoB,CAAxB;;AAMA,gBAAI,CAACxB,eAAL,EAAsB;AAClB;AACH;;AACD,gBAAME,UAAU,GAAGF,eAAe,CAACE,UAAnC;;AACA,iBAAKkC,kBAAL,CAAwBlC,UAAxB;;AACA/D,YAAAA,qBAAqB,CAACmD,IAAtB,CAA2BY,UAA3B;AACAwC,YAAAA,QAAQ,GAAGxC,UAAU,CAAC5D,EAAtB;AACH;;AAED,iBAAOoG,QAAQ,CAAC9G,IAAT,KAAkBC,QAAQ,CAACC,SAA3B,GAAuC4G,QAAvC,GAAkD,IAAzD;AACH,S;;gBAEON,kB,GAAR,4BAA4BlC,UAA5B,EAAwD;AAAA,cAC5C5D,EAD4C,GACrC4D,UADqC,CAC5C5D,EAD4C;;AAGpD,cAAIA,EAAE,CAACV,IAAH,KAAYC,QAAQ,CAACR,KAAzB,EAAgC;AAC5B;AACA,iBAAKsH,iBAAL,CAAuBrG,EAAvB;AACH;AACJ,S;;gBAEOsG,0B,GAAR,sCAAsC;AAAA,cACFzG,qBADE,GACwB,IADxB,CAC1BxB,sBAD0B;AAGlC,cAAMgH,YAAY,GAAGxF,qBAAqB,CAACC,MAA3C;;AACA,eAAK,IAAIwF,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGD,YAAxC,EAAsD,EAAEC,WAAxD,EAAqE;AACjE,gBAAM1B,UAAU,GAAG/D,qBAAqB,CAACyF,WAAD,CAAxC;;AACA,iBAAKiB,0BAAL,CAAgC3C,UAAhC;AACH;AACJ,S;;gBAEOqC,qB,GAAR,+BAA+BO,UAA/B,EAA4D;AACxD;AACA,eAAKF,0BAAL;;AAEA,eAAKhI,mBAAL,GAA2B,GAA3B;AACA,eAAKF,wBAAL,GAAgCoI,UAAhC;AACA,eAAK9H,UAAL,GAAkB,KAAlB;AAEA8H,UAAAA,UAAU,CAACC,WAAX;;AACA,eAAKJ,iBAAL,CAAuBG,UAAvB;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;gBACY/C,wB,GAAR,kCAAkC7J,SAAlC,EAAqD;AAAA;;AAAA,cAErBiG,qBAFqB,GAI7C,IAJ6C,CAE7CxB,sBAF6C;AAAA,cAGnB+F,uBAHmB,GAI7C,IAJ6C,CAG7ChG,wBAH6C;AAMjDhE,UAAAA,mBAAmB,CAACyF,qBAAqB,CAACC,MAAtB,GAA+B,CAAhC,CAAnB;AACA1F,UAAAA,mBAAmB,CAACgK,uBAAD,CAAnB;AAEA,cAAM3G,iBAAiB,GAAGoC,qBAAqB,CAAC,CAAD,CAA/C;AATiD,cAYnC6G,kBAZmC,GAc7CjJ,iBAd6C,CAY7C9D,QAZ6C;AAAA,cAa7CsG,kBAb6C,GAc7CxC,iBAd6C,CAa7CwC,kBAb6C;AAgBjD,cAAM6B,QAAQ,GAAG,KAAK3D,YAAtB;AACA,cAAMiE,MAAM,GAAGgC,uBAAf;AAEA,cAAIuC,OAAO,GAAG,GAAd;AACA,cAAIC,KAAK,GAAG,GAAZ;;AACA,cAAIF,kBAAkB,IAAI,CAA1B,EAA6B;AACzBC,YAAAA,OAAO,GAAG,GAAV;AACAC,YAAAA,KAAK,GAAG,GAAR;AACH,WAHD,MAGO;AACHzM,YAAAA,YAAY,CAAC2H,QAAQ,CAACxC,IAAT,KAAkBC,QAAQ,CAACC,SAA5B,CAAZ;AADG,gBAE0BqH,kBAF1B,GAEiD,IAFjD,CAEKvI,mBAFL;AAGH,gBAAMwI,eAAe,GAAG7G,kBAAkB,GAAGyG,kBAAkB,GAAG5E,QAAQ,CAACnI,QAAjC,GAA4C+M,kBAAtF;AACA,gBAAMK,eAAe,GAAGF,kBAAkB,GAAGC,eAA7C;AACA,gBAAME,MAAM,GAAGF,eAAe,GAAGC,eAAjC;AACA5M,YAAAA,YAAY,CAAC6M,MAAM,IAAI,GAAX,CAAZ;AACAL,YAAAA,OAAO,GAAG7M,IAAI,CAACmN,GAAL,CAASD,MAAT,EAAiBpN,SAAjB,CAAV;AACAgN,YAAAA,KAAK,GAAG,KAAKtI,mBAAL,GAA2B,CAACyI,eAAe,GAAGJ,OAAnB,IAA8BG,eAAjE;AACA3M,YAAAA,YAAY,CAACyM,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAA1B,CAAZ;AACH;;AAED,cAAMM,UAAU,mBAAG9E,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CAAExG,IAAX,uDAAmB,SAAnC;AAEA,cAAMgD,MAAM,GAAG,KAAKb,OAApB;AACAhD,UAAAA,eAAe,CACX,sBAAoB,KAAKa,IAAzB,6BAAqDkG,QAAQ,CAAClG,IAA9D,YAAyEsL,UAAzE,oBACgBN,KADhB,wBACwC,KAAK7I,OAD7C,OADW,CAAf;AAKA,eAAKQ,WAAL,GAAmBK,MAAM,IAAI,MAAMgI,KAAV,CAAzB;AACA,eAAKpI,SAAL,GAAiBI,MAAM,GAAGgI,KAA1B;AAEA,cAAMO,iBAAiB,GAAGR,OAAO,KAAK,CAAtC;AACA,cAAMS,WAAW,GAAGR,KAAK,KAAK,GAA9B;;AAEA,cAAI9E,QAAQ,CAACxC,IAAT,KAAkBC,QAAQ,CAACC,SAA3B,IAAwC2H,iBAA5C,EAA+D;AAC3DpM,YAAAA,eAAe,aAAW+G,QAAQ,CAAClG,IAApB,CAAf;AACAkG,YAAAA,QAAQ,CAACiC,cAAT,CAAwB4C,OAAxB;AACA,iBAAKlI,YAAL,GAAoB,IAApB;AACAzD,YAAAA,kBAAkB;AACrB;;AAED,cAAIoH,MAAM,IAAI+E,iBAAd,EAAiC;AAC7BpM,YAAAA,eAAe,aAAWqH,MAAM,CAACxG,IAAlB,CAAf;AACAwG,YAAAA,MAAM,CAACiF,YAAP,CAAoBV,OAApB;AACA,iBAAKjI,UAAL,GAAkB,IAAlB;AACA1D,YAAAA,kBAAkB;AACrB;;AAEDA,UAAAA,kBAAkB;;AAElB,cAAIoM,WAAJ,EAAiB;AACb;AACAtM,YAAAA,UAAU,uBAAqB,KAAKc,IAA1B,iCAA0DkG,QAAQ,CAAClG,IAAnE,YAA8EsL,UAA9E,OAAV;;AAEA,iBAAKI,gBAAL,CAAsBxF,QAAtB,EAJa,CAKb;AACA;AACA;;;AAPa,gBAQmByF,WARnB,GAQmC,IARnC,CAQLlJ,sBARK;AASb,gBAAMmJ,WAAW,GAAGD,WAAW,CAACzH,MAAhC;;AACA,iBAAK,IAAIwF,WAAW,GAAG,CAAvB,EAA0BA,WAAW,GAAGkC,WAAxC,EAAqD,EAAElC,WAAvD,EAAoE;AAAA,kBACxDtF,EADwD,GACjDuH,WAAW,CAACjC,WAAD,CADsC,CACxDtF,EADwD;;AAEhE,kBAAIA,EAAE,CAACV,IAAH,KAAYC,QAAQ,CAACP,IAAzB,EAA+B;AAC3B,qBAAKsI,gBAAL,CAAsBtH,EAAtB;AACH;AACJ;;AACD,iBAAKvB,YAAL,GAAoB,KAAKC,UAAzB;AACA,iBAAKA,UAAL,GAAkB,KAAlB;AACA0D,YAAAA,MAAM,CAACqF,gBAAP;AACA,iBAAKtJ,YAAL,GAAoBiE,MAApB;AACA,iBAAKhE,wBAAL,GAAgC,IAAhC;AACA,iBAAKC,sBAAL,CAA4ByB,MAA5B,GAAqC,CAArC;AACA,iBAAKvB,WAAL,GAAmB,GAAnB;AACA,iBAAKC,SAAL,GAAiB,GAAjB;AACH;;AAED,iBAAOmI,OAAP;AACH,S;;gBAEOJ,0B,GAAR,oCAAoC3C,UAApC,EAAgE;AAAA,cACpDjB,QADoD,GACvCiB,UADuC,CACpDjB,QADoD;;AAE5D,cAAIA,QAAJ,EAAc;AACV,gBAAM+E,SAAS,GAAG/E,QAAQ,CAAC7C,MAA3B;;AACA,iBAAK,IAAI6H,QAAQ,GAAG,CAApB,EAAuBA,QAAQ,GAAGD,SAAlC,EAA6C,EAAEC,QAA/C,EAAyD;AACrD,kBAAM5E,OAAO,GAAGJ,QAAQ,CAACgF,QAAD,CAAxB;;AACA,mBAAK1I,aAAL,CAAmB8D,OAAnB;AACH;AACJ;AACJ,S;;gBAEO9D,a,GAAR,uBAAuBrD,IAAvB,EAAqC;AAAA,cACVS,cADU,GACS,IADT,CACzBuL,aADyB;AAEjCvL,UAAAA,cAAc,CAACT,IAAD,CAAd;AACH,S;;gBAEOyK,iB,GAAR,2BAA2BnK,IAA3B,EAA2C;AAAA;;AAAA,cAClBZ,UADkB,GACH,IADG,CAC/BqD,WAD+B;;AAEvC,kBAAQzC,IAAI,CAACoD,IAAb;AACA;AACI;;AACJ,iBAAKC,QAAQ,CAACC,SAAd;AAAyB;AACrBtD,gBAAAA,IAAI,CAACkF,UAAL,CAAgByG,2BAAhB,CAA4CvM,UAA5C,EAAwDY,IAAI,CAACiE,eAAL,EAAxD;AACA;AACH;;AACD,iBAAKZ,QAAQ,CAACR,KAAd;AACI,uCAAA7C,IAAI,CAAC4C,YAAL,CAAkBsC,UAAlB,gFAA8B0G,4BAA9B,CAA2DxM,UAA3D;AACA;AATJ;AAWH,S;;gBAEOgM,gB,GAAR,0BAA0BpL,IAA1B,EAA0C;AAAA;;AAAA,cACjBZ,UADiB,GACF,IADE,CAC9BqD,WAD8B;;AAEtC,kBAAQzC,IAAI,CAACoD,IAAb;AACA;AACI;;AACJ,iBAAKC,QAAQ,CAACC,SAAd;AAAyB;AACrBtD,gBAAAA,IAAI,CAACkF,UAAL,CAAgB2G,0BAAhB,CAA2CzM,UAA3C,EAAuDY,IAAI,CAACuD,iBAAL,EAAvD;AACA;AACH;;AACD,iBAAKF,QAAQ,CAACP,IAAd;AACI,wCAAA9C,IAAI,CAAC4C,YAAL,CAAkBsC,UAAlB,kFAA8B4G,2BAA9B,CAA0D1M,UAA1D;AACA;AATJ;AAWH,S;;;;eAjtBD,eAAc;AACV,mBAAO,KAAK6C,YAAL,KAAsB,KAAKD,aAAlC;AACH;;;;;;AAwtBC+J,MAAAA,yB,GAAkD7K,MAAM,CAAC8K,MAAP,CAAc;AAClEC,QAAAA,IADkE,kBAC1D;AACJ,iBAAO;AACHC,YAAAA,IAAI,EAAE,IADH;AAEHtM,YAAAA,KAAK,EAAEkB;AAFJ,WAAP;AAIH;AANiE,OAAd,C;AASlD2C,MAAAA,yB,GAAkDvC,MAAM,CAAC8K,MAAP,sCACnDG,MAAM,CAACC,QAD4C,gBAC/B;AACjB,eAAOL,yBAAP;AACH,OAHmD,kB;;AAkBlDM,MAAAA,oB;;eACK3E,U,GAAmD,I;eAEnDE,Q,GAAW,G;;;;;gBAEXqB,G,GAAP,aAAYvB,UAAZ,EAAuDE,QAAvD,EAAyE;AACrE,eAAKF,UAAL,GAAkBA,UAAlB;AACA,eAAKE,QAAL,GAAgBA,QAAhB;AACA,iBAAO,IAAP;AACH,S;;;;;AAGCoB,MAAAA,oB,GAAuB,IAAIqD,oBAAJ,E;AAEvB1D,MAAAA,2B,GAA8B,IAAI0D,oBAAJ,E;AAE9BvD,MAAAA,uB,GAA0B,IAAIuD,oBAAJ,E;;iBAE3BhJ,Q;AAAAA,QAAAA,Q,CAAAA,Q;AAAAA,QAAAA,Q,CAAAA,Q;AAAAA,QAAAA,Q,CAAAA,Q;AAAAA,QAAAA,Q,CAAAA,Q;SAAAA,Q,KAAAA,Q;;2BAIQiJ,S,GAKT,mBAAatM,IAAb,EAA0B;AAAA,aAIVN,IAJU;AAAA,aAMnBiG,mBANmB,GAM8B,EAN9B;AACtB,aAAKjG,IAAL,GAAYM,IAAI,CAACN,IAAjB;AACH,O;;AAiBC8F,MAAAA,sB;AACF,wCAAaxF,IAAb,EAAqC;AACjC,eAAKuM,WAAL,GAAmBvM,IAAI,CAACwM,qBAAL,EAAnB;AACH;;;;gBAEMb,2B,GAAP,qCAAoCvM,UAApC,EAAqEqN,MAArE,EAA0G;AACtG,eAAKC,oCAAL,CAA0C,oBAA1C,EAAgEtN,UAAhE,EAA4EqN,MAA5E;AACH,S;;gBAEME,4B,GAAP,sCAAqCvN,UAArC,EAAsEqN,MAAtE,EAA2G;AACvG,eAAKC,oCAAL,CAA0C,qBAA1C,EAAiEtN,UAAjE,EAA6EqN,MAA7E;AACH,S;;gBAEMZ,0B,GAAP,oCAAmCzM,UAAnC,EAAoEqN,MAApE,EAAyG;AACrG,eAAKC,oCAAL,CAA0C,mBAA1C,EAA+DtN,UAA/D,EAA2EqN,MAA3E;AACH,S;;gBAEMb,4B,GAAP,sCAAqCxM,UAArC,EAAsE;AAClE,eAAKwN,qCAAL,CAA2C,qBAA3C,EAAkExN,UAAlE;AACH,S;;gBAEM0M,2B,GAAP,qCAAoC1M,UAApC,EAAqE;AACjE,eAAKwN,qCAAL,CAA2C,oBAA3C,EAAiExN,UAAjE;AACH,S;;gBAIOsN,oC,GAAR,8CAGIG,UAHJ,EAIIzN,UAJJ,EAKIqN,MALJ,EAME;AAAA,cACuBvH,UADvB,GACsC,IADtC,CACUqH,WADV;AAEE,cAAMO,WAAW,GAAG5H,UAAU,CAACtB,MAA/B;;AACA,eAAK,IAAImJ,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAGD,WAAtC,EAAmD,EAAEC,UAArD,EAAiE;AAC7D,gBAAMC,SAAS,GAAG9H,UAAU,CAAC6H,UAAD,CAA5B;;AACA,gBAAIC,SAAS,CAACH,UAAD,CAAT,KAA0B7N,qBAAqB,CAACiO,SAAtB,CAAgCJ,UAAhC,CAA9B,EAA2E;AACvEG,cAAAA,SAAS,CAACH,UAAD,CAAT,CAAsBzN,UAAtB,EAAkCqN,MAAlC;AACH;AACJ;AACJ,S;;gBAEOG,qC,GAAR,+CAGIC,UAHJ,EAIIzN,UAJJ,EAKE;AAAA,cACuB8F,UADvB,GACsC,IADtC,CACUqH,WADV;AAEE,cAAMO,WAAW,GAAG5H,UAAU,CAACtB,MAA/B;;AACA,eAAK,IAAImJ,UAAU,GAAG,CAAtB,EAAyBA,UAAU,GAAGD,WAAtC,EAAmD,EAAEC,UAArD,EAAiE;AAC7D,gBAAMC,SAAS,GAAG9H,UAAU,CAAC6H,UAAD,CAA5B;;AACA,gBAAIC,SAAS,CAACH,UAAD,CAAT,KAA0B7N,qBAAqB,CAACiO,SAAtB,CAAgCJ,UAAhC,CAA9B,EAA2E;AACvEG,cAAAA,SAAS,CAACH,UAAD,CAAT,CAAsBzN,UAAtB;AACH;AACJ;AACJ,S;;;;;iCAWQuF,e;;;AACT,iCAAa3E,IAAb,EAAgCF,OAAhC,EAAuD;AAAA;;AAAA;;AACnD,yCAAME,IAAN;AADmD,iBAqBvCoD,IArBuC,GAqBhCC,QAAQ,CAACC,SArBuB;AAAA,iBAsG/C4J,OAtG+C,GAsGlB,IAtGkB;AAAA,iBAuG/CC,MAvG+C,GAuGtC,GAvGsC;AAAA,iBAwG/CC,SAxG+C,GAwGnB;AAChC9P,YAAAA,QAAQ,EAAE,GADsB;AAEhC+P,YAAAA,WAAW,EAAEhQ,sBAAsB;AAFH,WAxGmB;AAAA,iBA4G/CiQ,OA5G+C,GA4GrB;AAC9BhQ,YAAAA,QAAQ,EAAE,GADoB;AAE9B+P,YAAAA,WAAW,EAAEhQ,sBAAsB;AAFL,WA5GqB;AAEnD,cAAMkQ,KAAK,GAAGnP,MAAM,CAChB0B,OADgB,EAEhBE,IAAI,CAACuN,KAFW,EAGhBlP,YAAY,CAACmP,KAHG,EAIhB,OAAKC,SAJW,iCAApB;AAOA,iBAAKN,MAAL,GAAcI,KAAd;;AACA,cAAMG,iBAAoC,gBACnC5N,OADmC,CAA1C;;AAGA,cAAM6N,UAAU,4CAAG3N,IAAI,CAAC4N,MAAR,iDAAG,aAAczP,UAAd,EAA0BuP,iBAA1B,CAAH,yEAAmD,IAAnE;;AACA,cAAIC,UAAJ,EAAgB;AACZzM,YAAAA,MAAM,CAAC2M,cAAP,CAAsBF,UAAtB,EAAkC,cAAlC,EAAkD;AAAE/N,cAAAA,KAAK,EAAE,OAAKF;AAAd,aAAlD;AACH;;AACD,iBAAKwN,OAAL,GAAeS,UAAf;AACA,iBAAKzI,UAAL,GAAkB,IAAIM,sBAAJ,CAA2BxF,IAA3B,CAAlB;AAlBmD;AAmBtD;;;;gBAcM6H,c,GAAP,wBAAuBnK,SAAvB,EAA0C;AACtC,eAAK0P,SAAL,CAAe9P,QAAf,GAA0BC,kBAAkB,CACxC,KAAK6P,SAAL,CAAe9P,QADyB,EAExC,KAAKG,QAFmC,EAGxCC,SAAS,GAAG,KAAKyP,MAHuB,CAA5C;AAKH,S;;gBAEMhC,Y,GAAP,sBAAqBzN,SAArB,EAAwC;AACpC,eAAK4P,OAAL,CAAahQ,QAAb,GAAwBC,kBAAkB,CACtC,KAAK+P,OAAL,CAAahQ,QADyB,EAEtC,KAAKG,QAFiC,EAGtCC,SAAS,GAAG,KAAKyP,MAHqB,CAA1C;AAKH,S;;gBAEMnF,qB,GAAP,+BAA8B5I,UAA9B,EAA+D;AAC3D,eAAK8F,UAAL,CAAgByH,4BAAhB,CAA6CvN,UAA7C,EAAyD,KAAKmE,iBAAL,EAAzD;AACH,S;;gBAEM0E,mB,GAAP,6BAA4B7I,UAA5B,EAA6D;AACzD,eAAK8F,UAAL,CAAgByH,4BAAhB,CAA6CvN,UAA7C,EAAyD,KAAK6E,eAAL,EAAzD;AACH,S;;gBAEMV,iB,GAAP,6BAAyD;AAAA,cAChCuK,WADgC,GAChB,KAAKV,SADW,CAC7CC,WAD6C;;AAErD,cAAIvP,KAAJ,EAAW;AACPgQ,YAAAA,WAAW,CAAC1J,YAAZ,GAA2B,KAAK1E,IAAhC;AACH;;AACDoO,UAAAA,WAAW,CAACxQ,QAAZ,GAAuBK,iBAAiB,CAAC,KAAKyP,SAAL,CAAe9P,QAAhB,CAAxC;AACA,iBAAOwQ,WAAP;AACH,S;;gBAEM7J,e,GAAP,2BAAuD;AAAA,cAC9B6J,WAD8B,GACd,KAAKR,OADS,CAC3CD,WAD2C;;AAEnD,cAAIvP,KAAJ,EAAW;AACPgQ,YAAAA,WAAW,CAAC1J,YAAZ,GAA2B,KAAK1E,IAAhC;AACH;;AACDoO,UAAAA,WAAW,CAACxQ,QAAZ,GAAuBK,iBAAiB,CAAC,KAAK2P,OAAL,CAAahQ,QAAd,CAAxC;AACA,iBAAOwQ,WAAP;AACH,S;;gBAEMvD,W,GAAP,uBAAsB;AAClB,eAAK+C,OAAL,CAAahQ,QAAb,GAAwB,GAAxB;AACH,S;;gBAEMiO,gB,GAAP,4BAA2B;AACvB,eAAK6B,SAAL,CAAe9P,QAAf,GAA0B,KAAKgQ,OAAL,CAAahQ,QAAvC;AACH,S;;gBAEM8K,c,GAAP,wBAAuB1F,MAAvB,EAAuC;AAAA;;AACnC,gCAAKwK,OAAL,gEAAca,MAAd,CAAqB,KAAKX,SAAL,CAAe9P,QAApC,EAA8CoF,MAA9C;AACH,S;;gBAEM2F,Y,GAAP,sBAAqB3F,MAArB,EAAqC;AAAA;;AACjC,iCAAKwK,OAAL,kEAAca,MAAd,CAAqB,KAAKT,OAAL,CAAahQ,QAAlC,EAA4CoF,MAA5C;AACH,S;;gBAEMc,e,GAAP,yBAAwBwK,UAAxB,EAAkE;AAAA,cAC7CC,MAD6C,GAClC,IADkC,CACtDf,OADsD;;AAE9D,cAAI,CAACe,MAAL,EAAa;AACT,mBAAOxK,yBAAP;AACH,WAFD,MAEO;AAAA;;AACH,mCACK0I,MAAM,CAACC,QADZ,IACuB;AAAA,qBAAM6B,MAAM,CAACzK,eAAP,CAAuBwK,UAAvB,CAAN;AAAA,aADvB;AAGH;AACJ,S;;gBAaOP,S,GAAR,mBAAmB7N,KAAnB,EAAkC;AAC9B,eAAKuN,MAAL,GAAcvN,KAAd;AACH,S;;;;eA1FD,eAAgB;AAAA;;AACZ,8DAAO,KAAKsN,OAAZ,mDAAO,eAAczP,QAArB,yEAAiC,GAAjC;AACH;;;eAED,eAAoB;AAChB,mBAAO,KAAK2P,SAAL,CAAe9P,QAAf,GAA0B,KAAKG,QAAtC;AACH;;;;QAhCgC6O,S;;kCAyIxBzH,gB;;;AACT,kCAAa7E,IAAb,EAA0BoD,IAA1B,EAA0D1D,IAA1D,EAAwE;AAAA;;AACpE,0CAAMM,IAAN;AADoE,iBAKxDoD,IALwD;AAEpE,iBAAKA,IAAL,GAAYA,IAAZ;AAFoE;AAGvE;;;QAJiCkJ,S;;AAwBhCzM,MAAAA,W;AAGF,6BAAaF,IAAb,EAAiCC,KAAjC,EAA+C;AAAA,eAFxCD,IAEwC;AAAA,eA6BvCuO,MA7BuC;AAAA,eA8BvCC,KA9BuC,GA8BrB,EA9BqB;AAC3C,eAAKxO,IAAL,GAAYA,IAAZ;AACA,eAAKuO,MAAL,GAActO,KAAd;AACH;;;;gBAaMwO,I,GAAP,cACIC,EADJ,EAEIC,OAFJ,EAIE;AAAA,4CADKC,IACL;AADKA,YAAAA,IACL;AAAA;;AACE,eAAKJ,KAAL,CAAWrH,IAAX,CAAgB;AACZuH,YAAAA,EAAE,EAAEA,EADQ;AAEZC,YAAAA,OAAO,EAAPA,OAFY;AAGZC,YAAAA,IAAI,EAAJA;AAHY,WAAhB;;AAKA,iBAAO,KAAKL,MAAZ;AACH,S;;;;eAtBD,eAAa;AACT,mBAAO,KAAKA,MAAZ;AACH,W;eAED,aAAWtO,KAAX,EAAkB;AACd,iBAAKsO,MAAL,GAActO,KAAd;;AACA,kEAAoC,KAAKuO,KAAzC,2CAAgD;AAAA;AAAA,kBAAnCE,EAAmC,gBAAnCA,EAAmC;AAAA,kBAA/BC,OAA+B,gBAA/BA,OAA+B;AAAA,kBAAtBC,IAAsB,gBAAtBA,IAAsB;AAC5CF,cAAAA,EAAE,CAACG,IAAH,OAAAH,EAAE,GAAMC,OAAN,EAAe1O,KAAf,SAAyB2O,IAAzB,EAAF;AACH;AACJ"}
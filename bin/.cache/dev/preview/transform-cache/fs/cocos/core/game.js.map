{"version":3,"sources":["../../../../../../../../cocos/core/game.ts"],"names":["EDITOR","HTML5","JSB","PREVIEW","RUNTIME_BASED","TEST","systemInfo","EventTarget","input","debug","Device","DeviceInfo","SwapchainInfo","sys","macro","legacyCC","VERSION","bindingMappingInfo","RenderPipeline","BrowserType","Layers","log2","garbageCollectionManager","screen","Game","frame","container","canvas","renderType","eventTargetOn","on","eventTargetOnce","once","config","onStart","frameTime","collisionMatrix","groupList","_persistRootNodes","_gfxDevice","_swapchain","_configLoaded","_isCloning","_inited","_engineInited","_rendererInitialized","_paused","_frameRate","_intervalId","_initTime","_startTime","_deltaTime","setFrameRate","frameRate","getFrameRate","step","director","tick","pause","window","cAF","resume","_clearEvents","_updateCallback","rAF","_frameCB","isPaused","restart","endFramePromise","Promise","resolve","Director","EVENT_END_FRAME","then","id","removePersistRootNode","getScene","destroy","Object","_deferredDestroy","reset","_setRenderPipelineNShowSplash","_safeEmit","EVENT_RESTART","end","close","type","callback","target","EVENT_ENGINE_INITED","EVENT_GAME_INITED","EVENT_RENDERER_INITED","call","init","_initConfig","_init","configOrientation","orientation","exactFitScreen","assetOptions","assetManager","layers","userLayers","i","length","layer","bitNum","value","addLayer","name","_initEngine","_initEvents","root","dataPoolManager","jointTexturePool","registerCustomTextureLayouts","customJointTextureLayouts","run","configOrCallback","initPromise","addPersistRootNode","node","Node","isNode","uuid","warnID","scene","_scene","isValid","parent","Scene","_originalSceneId","_persistNode","_releaseManager","_addPersistNodeRef","_removePersistNodeRef","isPersistRootNode","_initDevice","view","log","emit","internal","dynamicAtlasManager","enabled","CLEANUP_IMAGE_CACHE","_setAnimFrame","jsb","setPreferredFramesPerSecond","requestAnimationFrame","cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_stTime","bind","_ctTime","cancelRequestAnimationFrame","msCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","ocancelAnimationFrame","currTime","performance","now","elapseTime","Math","max","timeToCall","setTimeout","clearTimeout","_calculateDT","DEBUG_DT_THRESHOLD","skip","time","_runMainLoop","GAME_VIEW","setDisplayStats","showFPS","startAnimation","debugMode","DebugMode","NONE","exposeClassName","renderMode","_resetDebugSetting","_determineRenderType","userRenderMode","parseInt","RENDER_TYPE_CANVAS","supportRender","RENDER_TYPE_WEBGL","RENDER_TYPE_HEADLESS","Error","getError","adapter","deviceInfo","gfx","DeviceManager","create","useWebGL2","WebGL2RenderingContext","userAgent","navigator","toLowerCase","indexOf","browserType","UC","deviceCtors","WebGL2Device","push","WebGLDevice","EmptyDevice","initialize","error","swapchainInfo","windowSize","width","height","createSwapchain","oncontextmenu","_onShow","_onHide","EVENT_HIDE","EVENT_SHOW","_setupRenderPipeline","_showSplashScreen","renderPipeline","_setRenderPipeline","reject","loadAny","err","asset","reason","warn","SplashScreen","splashScreen","instance","main","setOnFinish","loadFinish","rppl","setRenderPipeline","event","e","Number","isNaN","EVENT_LOW_MEMORY","RENDER_TYPE_OPENGL","game"],"mappings":"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"}
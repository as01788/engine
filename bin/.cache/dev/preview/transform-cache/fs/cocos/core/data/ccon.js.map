{"version":3,"sources":["../../../../../../../../../cocos/core/data/ccon.ts"],"names":["encodeCCONJson","ccon","chunkURLs","version","VERSION","document","chunks","parseCCONJson","json","cconPreface","encodeCCONBinary","jsonString","JSON","stringify","jsonBytes","encodeJson","ccobBuilder","BufferBuilder","header","ArrayBuffer","headerView","DataView","setUint32","MAGIC","append","uint32Bytes","byteLength","chunk","alignAs","CHUNK_ALIGN_AS","get","value","bytes","view","decodeCCONBinary","length","InvalidCCONError","getError","dataView","buffer","byteOffset","magic","getUint32","dataByteLength","chunksStart","jsonDataLength","jsonData","Uint8Array","decodeJson","parse","err","padding","chunkDataLength","push","CCON","input","TextEncoder","encode","globalThis","Buffer","from","Error","data","TextDecoder","decode","toString","legacyCC","_document","_chunks","_viewOrPaddings","_length","align","remainder","result","counter","forEach","viewOrPadding","set","internal"],"mappings":"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"}
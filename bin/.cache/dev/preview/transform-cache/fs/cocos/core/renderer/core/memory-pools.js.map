{"version":3,"sources":["../../../../../../../../../../cocos/core/renderer/core/memory-pools.ts"],"names":["DEBUG","NativeBufferPool","contains","a","t","i","length","BufferDataType","BufferPool","poolType","dataType","dataMembers","enumType","entryBits","_dataType","_dataMembers","_elementCount","_entryBits","_stride","_entriesPerChunk","_entryMask","_chunkMask","_poolFlag","_arrayBuffers","_freeLists","_uint32BufferViews","_float32BufferViews","_hasUint32","_hasFloat32","_nativePool","COUNT","bytesPerElement","type","NEVER","hasFloat32","hasUint32","e","FLOAT32","UINT32","alloc","list","j","buffer","allocateNewChunk","float32BufferViews","uint32BufferViews","freeList","push","Float32Array","Uint32Array","handle","getBuffer","chunk","entry","bufferViews","console","warn","getTypedArray","element","index","view","count","subarray","free","fill","PoolType","NULL_HANDLE","NodeView","NodeViewDataType","DIRTY_FLAG","LAYER","WORLD_SCALE","WORLD_POSITION","WORLD_ROTATION","WORLD_MATRIX","LOCAL_SCALE","LOCAL_POSITION","LOCAL_ROTATION","NodeViewDataMembers","NodePool","NODE","PassView","PassViewDataType","PRIORITY","STAGE","PHASE","PRIMITIVE","BATCHING_SCHEME","DYNAMIC_STATE","HASH","PassViewDataMembers","PassPool","PASS","AABBView","AABBViewDataType","CENTER","HALFEXTENTS","AABBViewDataMembers","AABBPool","AABB"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../cocos/core/animation/animation-clip.ts"],"names":["relativeTransform","out","from","to","Mat4","invert","multiply","createBoneTransformBinding","boneTransform","property","undefined","setValue","value","Vec3","copy","position","Quat","rotation","scale","eulerAngles","wrapIterations","iterations","getEventGroupIndexAtRatio","ratio","ratios","result","binarySearchEpsilon","ccclass","serializable","Asset","errorID","warnID","murmurhash2_32_gc","SkelAnimDataHub","AnimationWrapMode","WrapMode","WrapModeMask","legacyCC","Node","assertIsTrue","legacy","BAKE_SKELETON_CURVE_SYMBOL","trackBindingTag","TrackPath","createEvalSymbol","UntypedTrack","ObjectTrack","array","searchForRootBonePathSymbol","Symbol","exoticAnimationTag","AnimationClip","frameRate","_legacyData","_legacyDataDirty","_runtimeEvents","eventGroups","createWithSpriteFrames","spriteFrames","sample","clip","duration","length","step","track","path","toComponent","toProperty","curve","channels","assignSorted","map","spriteFrame","index","addTrack","onLoaded","events","_events","range","min","Infinity","max","tracks","_tracks","nTracks","iTrack","trackRange","Math","getTrack","push","removeTrack","splice","clearTracks","createEventEvaluator","targetNode","EventEvaluator","wrapMode","createEvaluator","context","target","binder","binding","trackTarget","createRuntimeBinding","enableTrsBlending","pose","_createEvalWithBinder","rootMotion","destroy","director","root","dataPoolManager","releaseAnimationClip","start","samples","frames","animatedJoints","_collectAnimatedJoints","nAnimatedJoints","jointsBakeInfo","iAnimatedJoint","joint","transforms","Array","skeletonFrames","reduce","BoneGlobalTransform","skeletonFrame","parentJoint","lastIndexOf","parentJointName","substring","parentJointFrame","parent","trsPath","parseTrsPath","jointFrame","node","evaluator","iFrame","time","evaluate","globalTransform","invalidate","joints","upgradeUntypedTracks","refine","newTracks","removals","newTrack","upgrade","nRemovalTracks","iRemovalTrack","remove","_searchForRootBonePath","getPropertyCurves","_getLegacyData","updateEventDatas","hasEvents","syncLegacyData","_fromLegacy","rootMotionOptions","rootMotionTrackExcludes","rootMotionEvaluation","_createRootMotionEvaluation","trackEvalStatues","exoticAnimationEvaluator","includes","every","keyFramesCount","trackEval","_exoticAnimation","evaluation","AnimationClipEvaluation","rootBonePath","rootBone","getChildByPath","BoneTransform","rootMotionsTrackEvaluations","trackBinding","bonePath","RootMotionEvaluation","_duration","paths","nodePath","rank","split","sort","a","b","iNonEmptyPath","findIndex","p","nPaths","firstPath","highestPathsAreSame","iPath","_toLegacy","keys","legacyCurves","commonTargets","legacyClipData","AnimationClipLegacyData","curves","legacyData","toTracks","nNewTracks","iNewTrack","Set","add","collectAnimatedJoints","_hash","hashString","toHashString","frame","nEvents","iEvent","eventData","i","r","functionName","func","parameters","params","data","Normal","trackEvalStatuses","_exoticAnimationEvaluator","_trackEvalStatues","_rootMotionEvaluation","nTrackEvalStatuses","iTrackEvalStatus","evaluateRootMotion","motionLength","getTransform","fromRTS","_dirty","_transform","transform","motionTransformCache","_rootBone","_boneTransform","_trackEvalStatuses","_initialTransformCache","_clipEndTransformCache","_startTransformCache","_endTransformCache","_motionTransformCache","_translationMotionCache","_rotationMotionCache","_scaleMotionCache","motionTransform","_calcMotionTransform","translationMotion","rotationMotion","scaleMotion","toRTS","setPosition","setRotation","setScale","outTransform","remainLength","startTransform","_evaluateAt","endTransform","identity","accumulateMotionTransform","diff","repeatCount","floor","lastRemainTime","clipStartTransform","clipEndTransform","InvalidIndex","_targetNode","_ratios","_eventGroups","_wrapMode","_lastFrameIndex","_lastIterations","_lastDirection","_ignoreIndex","_sampled","setWrapMode","ignore","direction","frameIndex","eventIndex","_doFire","currentIterations","lastIterations","lastIndex","lastDirection","iterationsChanged","PingPong","delay","getAnimationManager","pushDelayEvent","_checkAndFire","isValid","eventGroup","components","event","nComponents","iComponent","component","fx","apply"],"mappings":"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"}
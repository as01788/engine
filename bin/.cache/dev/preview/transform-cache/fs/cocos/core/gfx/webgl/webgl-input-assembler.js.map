{"version":3,"sources":["../../../../../../../../../../cocos/core/gfx/webgl/webgl-input-assembler.ts"],"names":["InputAssembler","WebGLCmdFuncCreateInputAssember","WebGLCmdFuncDestroyInputAssembler","WebGLDeviceManager","WebGLInputAssembler","_gpuInputAssembler","initialize","info","vertexBuffers","length","console","error","_attributes","attributes","_attributesHash","computeAttributesHash","_vertexBuffers","indexBuffer","_indexBuffer","_drawInfo","indexCount","size","stride","firstIndex","vertBuff","vertexCount","firstVertex","vertexOffset","instanceCount","firstInstance","_indirectBuffer","indirectBuffer","gpuVertexBuffers","Array","i","vb","gpuBuffer","gpuIndexBuffer","glIndexType","gpuIndirectBuffer","glAttribs","glVAOs","Map","instance","destroy","device","extensions","useVAO"],"mappings":"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"}
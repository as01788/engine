{"version":3,"sources":["../../../../../../../../../cocos/core/scene-graph/base-node-dev.ts"],"names":["baseNodePolyfill","BaseNode","EDITOR","TEST","prototype","_checkMultipleComp","ctor","existing","getComponent","_disallowMultiple","constructor","Error","getError","js","getClassName","_name","_addComponentAt","comp","index","_objFlags","Destroying","error","legacyCC","Component","errorID","_components","length","undefined","node","splice","EditorExtends","Node","getNode","_id","add","_activeInHierarchy","director","_nodeActivator","activateComp","_getDependComponent","depended","dependant","i","isValid","Object","_willDestroy","reqComps","_requireComponent","Array","isArray","push","onRestore","shouldActiveNow","_active","_parent","activateNode","_onPreDestroy","destroyByParent","_onPreDestroyBase","_onRestoreBase","_registerIfAttached","register","attachedObjsForEditor","engine","console","name","emit","children","_children","len","child","DEV","get","path","Scene","CCObject","Flags"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../../cocos/core/gfx/webgl2/webgl2-input-assembler.ts"],"names":["InputAssembler","WebGL2CmdFuncCreateInputAssember","WebGL2CmdFuncDestroyInputAssembler","WebGL2DeviceManager","WebGL2InputAssembler","_gpuInputAssembler","initialize","info","vertexBuffers","length","console","error","_attributes","attributes","_attributesHash","computeAttributesHash","_vertexBuffers","indexBuffer","_indexBuffer","_drawInfo","indexCount","size","stride","firstIndex","vertBuff","vertexCount","firstVertex","vertexOffset","instanceCount","firstInstance","_indirectBuffer","indirectBuffer","gpuVertexBuffers","Array","i","vb","gpuBuffer","gpuIndexBuffer","glIndexType","gpuIndirectBuffer","glAttribs","glVAOs","Map","instance","destroy","device","extensions","useVAO"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../cocos/input/input.ts"],"names":["EDITOR","NATIVE","TouchInputSource","MouseInputSource","KeyboardInputSource","AccelerometerInputSource","touchManager","sys","EventTarget","EventTouch","InputEventType","pointerEventTypeMap","MOUSE_DOWN","TOUCH_START","MOUSE_MOVE","TOUCH_MOVE","MOUSE_UP","TOUCH_END","Input","_dispatchImmediately","_eventTarget","_touchInput","_mouseInput","_keyboardInput","_accelerometerInput","_eventTouchList","_eventMouseList","_eventKeyboardList","_eventAccelerationList","_needSimulateTouchMoveEvent","_registerEvent","_simulateEventTouch","eventMouse","eventType","type","touchID","touch","getTouch","getLocationX","getLocationY","changedTouches","eventTouch","releaseTouch","_dispatchOrPushEventTouch","hasFeature","Feature","INPUT_TOUCH","eventTouchList","on","event","TOUCH_CANCEL","EVENT_MOUSE","eventMouseList","_dispatchOrPushEvent","MOUSE_WHEEL","EVENT_KEYBOARD","eventKeyboardList","KEY_DOWN","KEY_PRESSING","KEY_UP","EVENT_ACCELEROMETER","eventAccelerationList","DEVICEMOTION","_clearEvents","length","eventList","emit","push","touchEventList","touches","getTouches","touchesLength","i","propagationStopped","propagationImmediateStopped","_frameDispatchEvents","j","eventKeyboard","eventAcceleration","callback","target","once","off","setAccelerometerEnabled","isEnable","start","stop","setAccelerometerInterval","intervalInMileSeconds","setInterval","EventType","input"],"mappings":"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"}
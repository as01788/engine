{"version":3,"sources":["../../../../../../../../cocos/particle/particle-culler.ts"],"names":["Particle","PARTICLE_MODULE_ORDER","TransformBit","RenderMode","Space","Mat4","pseudoRandom","Quat","randomRangeInt","Vec3","Vec4","INT_MAX","particleEmitZAxis","AABB","_node_mat","_node_rol","_node_scale","_anim_module","ParticleCuller","ps","_particleSystem","_processor","_node","_particlesAll","_updateList","Map","_animateList","_runAnimateList","Array","_localMat","_gravity","minPos","maxPos","_nodePos","_nodeSize","processor","node","_initModuleList","_updateBoundingNode","set","x","y","z","setBoundingBoxSize","halfExt","setBoundingBoxCenter","px","py","pz","forEach","val","pm","enable","needUpdate","name","needAnimate","length","i","len","p","push","_emit","count","dt","particleLst","loopDelta","time","duration","invalidateChildren","POSITION","simulationSpace","World","getWorldMatrix","getWorldRotation","particle","particleSystem","reset","rand","_shapeModule","emit","position","copy","velocity","_textureAnimationModule","init","curveStartSpeed","startSpeed","evaluate","multiplyScalar","transformMat4","transformQuat","ultimateVelocity","rotation","startSize3D","startSize","startSizeX","startSizeY","startSizeZ","size","startLifetime","remainingLifetime","_updateParticles","scaleSpace","Local","getScale","getWorldScale","value","key","update","r","getRotation","fromQuat","transpose","animatedVelocity","gravityFactor","gravityModifier","randomSeed","w","animate","scaleAndAdd","_calculateBounding","isInit","subPos","addPos","meshSize","getInfo","renderMode","Mesh","mesh","struct","minPosition","maxPosition","meshAABB","fromPoints","meshMax","Math","max","halfExtents","multiply","_mat","subtract","add","min","calculatePositions","capacity","clear","destroy"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../../cocos/particle/animator/curve-range.ts"],"names":["evaluateCurve","cr","time","index","mode","Mode","Constant","constant","Curve","spline","evaluate","multiplier","TwoCurves","splineMin","splineMax","TwoConstants","constantMin","constantMax","evaluateHeight","packTexture","data","width","height","image","ImageAsset","_data","_compressed","format","PixelFormat","RGBA32F","texture","Texture2D","setFilters","Filter","NEAREST","setMipFilter","NONE","setWrapMode","WrapMode","CLAMP_TO_EDGE","packCurveRangeZ","samples","discrete","Float32Array","interval","sum","average","offset","h","j","value","packCurveRangeN","packCurveRangeXY","x","y","Math","max","curves","i","packCurveRangeXYZ","z","packCurveRangeXYZW","w","ccclass","type","serializable","editable","lerp","Enum","AnimationCurve","constructLegacyCurveAndConvert","RealCurve","SerializableTable","CurveRange","_curve","_curveMin","_curveMax","rndRatio","getMax","_onBeforeSerialize","props","_internalCurve"],"mappings":"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"}
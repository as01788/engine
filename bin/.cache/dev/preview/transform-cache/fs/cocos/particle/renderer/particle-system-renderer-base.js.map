{"version":3,"sources":["../../../../../../../../../cocos/particle/renderer/particle-system-renderer-base.ts"],"names":["ParticleBatchModel","RenderMode","legacyCC","ParticleSystemRendererBase","info","_particleSystem","_model","_renderInfo","_vertAttrs","getInfo","onInit","ps","onEnable","attachToScene","model","node","transform","enabled","enabledInHierarchy","onDisable","detachFromScene","onDestroy","director","root","destroyModel","scene","_getRenderScene","addModel","removeModel","setVertexAttributes","renderMode","Mesh","mesh","clear","getModel","_initModel","createModel","setCapacity","capacity","visFlags","visibility","updateTrailMaterial","getDefaultTrailMaterial"],"mappings":"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"}
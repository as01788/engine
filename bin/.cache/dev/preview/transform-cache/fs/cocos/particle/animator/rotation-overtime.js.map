{"version":3,"sources":["../../../../../../../../../cocos/particle/animator/rotation-overtime.ts"],"names":["ccclass","tooltip","displayOrder","range","type","radian","serializable","Mat4","pseudoRandom","Quat","Vec3","Particle","ParticleModuleBase","PARTICLE_MODULE_NAME","CurveRange","ModuleRandSeed","RenderMode","ROTATION_OVERTIME_RAND_OFFSET","ROTATION","RotationOvertimeModule","name","_startMat","_matRot","_quatRot","_otherEuler","_processRotation","p","r2d","renderMode","particleSystem","processor","getInfo","Mesh","StrecthedBillboard","set","normalize","w","x","INDENTIFY_NEG_QUAT","animate","dt","normalizedTime","remainingLifetime","startLifetime","rotationRand","randomSeed","_separateAxes","VerticalBillboard","HorizontalBillboard","fromEuler","deltaQuat","z","evaluate","R2D","y","deltaMat","fromQuat","localMat","multiply","startRotated","startEuler","Billboard","startRotation","getRotation","rotation","_enable","val","target","enableModule"],"mappings":"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"}
{"version":3,"sources":["../../../../../../../../cocos/terrain/terrain-lod.ts"],"names":["TERRAIN_LOD_VERTS","TERRAIN_LOD_TILES","TERRAIN_LOD_LEVELS","TERRAIN_LOD_NORTH_INDEX","TERRAIN_LOD_SOUTH_INDEX","TERRAIN_LOD_WEST_INDEX","TERRAIN_LOD_EAST_INDEX","TERRAIN_LOD_MAX_DISTANCE","TerrainLodKey","level","north","south","west","east","equals","rk","TerrainIndexPool","size","indices","TerrainIndexData","key","start","buffer","primCount","TerrainLod","mapIndex","i","j","k","_bodyIndexPool","_connecterIndexPool","_indexMap","_indexBuffer","Uint16Array","Array","_genBodyIndex","_genConnecterIndexNorth","_genConnecterIndexSouth","_genConnecterIndexWest","_genConnecterIndexEast","levels","l","n","s","w","e","_genIndexData","getIndexData","length","step","tiles","count","index","row_c","row_n","y","x","connecter","connecterIndex","self_step","neighbor_step","self_tile","x1","y1","x0","y0","index0","index1","_getConnenterIndex","data","body","a","b","c","d","push","temp","set"],"mappings":"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"}
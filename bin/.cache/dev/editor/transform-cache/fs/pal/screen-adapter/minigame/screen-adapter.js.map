{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/pal/screen-adapter/minigame/screen-adapter.ts"],"names":["rotateLandscape","ALIPAY","systemInfo","os","OS","IOS","minigame","isDevTool","fs","my","getFileSystemManager","screenOrientation","JSON","parse","readFileSync","filePath","encoding","data","COCOSPLAY","ral","deviceOrientation","e","console","error","ScreenAdapter","EventTarget","supportFullScreen","isFullScreen","devicePixelRatio","sysInfo","getSystemInfoSync","pixelRatio","windowSize","dpr","ANDROID","VIVO","screenWidth","screenHeight","temp","Size","size","resolution","resolutionScale","width","height","_resolutionScale","value","_cbToUpdateFrameBuffer","orientation","warn","safeAreaEdge","minigameSafeArea","getSafeArea","topEdge","top","bottomEdge","bottom","leftEdge","left","rightEdge","right","Orientation","PORTRAIT","isProportionalToFrame","_isProportionalToFrame","v","constructor","isFrameRotated","handleResizeEvent","init","options","cbToRebuildFrameBuffer","requestFullScreen","Promise","reject","Error","exitFullScreen","screenAdapter"],"mappings":"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"}
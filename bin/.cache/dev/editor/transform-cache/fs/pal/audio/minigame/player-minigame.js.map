{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/pal/audio/minigame/player-minigame.ts"],"names":["OneShotAudioMinigame","onPlay","_onPlayCb","cb","onEnd","_onEndCb","constructor","nativeAudio","volume","_innerAudioContext","onEnded","destroy","play","stop","AudioPlayerMinigame","innerAudioContext","_state","AudioState","INIT","_onPlay","_onPause","_onStop","_onSeeked","_onEnded","_audioTimer","_readyToHandleOnShow","_eventTarget","EventTarget","_operationQueue","AudioTimer","systemInfo","on","_onHide","_onShow","eventTarget","PLAYING","emit","AudioEvent","PLAYED","PAUSED","onPause","STOPPED","onStop","SEEKED","onSeeked","ENDED","off","forEach","event","_offEvent","pause","then","INTERRUPTED","INTERRUPTION_BEGIN","catch","e","once","INTERRUPTION_END","eventName","src","type","AudioType","MINIGAME_AUDIO","load","url","Promise","resolve","loadNative","reject","minigame","createInnerAudioContext","timer","setTimeout","clearEvent","offCanplay","success","offError","fail","clearTimeout","err","console","error","Error","onCanplay","onError","loadOneShotAudio","state","loop","val","duration","currentTime","seek","time","start","onInterruptionBegin","offInterruptionBegin","onInterruptionEnd","offInterruptionEnd","offEnded","enqueueOperation"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/pal/input/web/accelerometer-input.ts"],"names":["AccelerometerInputSource","constructor","_intervalInMileSeconds","_accelTimer","_eventTarget","EventTarget","_deviceEventName","_globalEventClass","_didAccelerateFunc","window","DeviceMotionEvent","DeviceOrientationEvent","systemInfo","browserType","BrowserType","MOBILE_QQ","_didAccelerate","bind","_registerEvent","performance","now","addEventListener","_unregisterEvent","removeEventListener","event","x","y","z","deviceMotionEvent","eventAcceleration","accelerationIncludingGravity","deviceOrientationEvent","gamma","beta","alpha","screenAdapter","isFrameRotated","tmp","PORTRAIT","LANDSCAPE_LEFT","PORTRAIT_UPSIDE_DOWN","LANDSCAPE_RIGHT","tmpX","orientation","os","OS","ANDROID","timestamp","acceleration","Acceleration","EventAcceleration","emit","InputEventType","DEVICEMOTION","start","requestPermission","then","response","catch","e","stop","setInterval","intervalInMileSeconds","on","eventType","callback","target"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/pal/input/web/touch-input.ts"],"names":["TouchInputSource","constructor","_canvas","_eventTarget","EventTarget","systemInfo","hasFeature","Feature","INPUT_TOUCH","document","getElementById","TEST","console","warn","_registerEvent","addEventListener","_createCallback","InputEventType","TOUCH_START","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","eventType","event","canvasRect","_getCanvasRect","handleTouches","length","changedTouches","i","changedTouch","touchID","identifier","location","_getLocation","touch","touchManager","getTouch","x","y","releaseTouch","push","macro","ENABLE_MULTI_TOUCH","stopPropagation","target","preventDefault","focus","eventTouch","EventTouch","getAllTouches","emit","canvas","box","getBoundingClientRect","Rect","width","height","clientX","clientY","screenAdapter","isFrameRotated","tmp","dpr","devicePixelRatio","Vec2","on","callback"],"mappings":"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"}
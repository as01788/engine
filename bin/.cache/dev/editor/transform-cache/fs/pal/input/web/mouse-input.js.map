{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/pal/input/web/mouse-input.ts"],"names":["MouseInputSource","constructor","_canvas","_eventTarget","EventTarget","_pointLocked","_isPressed","_preMousePos","Vec2","systemInfo","hasFeature","Feature","EVENT_MOUSE","document","getElementById","TEST","console","warn","_registerEvent","_getCanvasRect","canvas","box","getBoundingClientRect","Rect","x","y","width","height","_getLocation","mouseEvent","canvasRect","dpr","screenAdapter","devicePixelRatio","movementX","clientX","movementY","clientY","window","addEventListener","_createCallback","InputEventType","MOUSE_DOWN","MOUSE_MOVE","handleMouseUp","MOUSE_UP","_handleMouseWheel","bind","_registerPointerLockEvent","lockChangeAlert","pointerLockElement","mozPointerLockElement","eventType","location","button","focus","EventMouse","BUTTON_MISSING","eventMouse","setLocation","setButton","set","stopPropagation","target","preventDefault","emit","MOUSE_WHEEL","wheelSensitivityFactor","setScrollData","deltaX","deltaY","on","callback"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/ui/editbox/edit-box-impl.ts"],"names":["SCROLLY","LEFT_PADDING","DELAY_TIME","_matrix","Mat4","_matrix_temp","_vec3","Vec3","_currentEditBoxImpl","_domCount","EditBoxImpl","EditBoxImplBase","_delegate","_inputMode","_inputFlag","_returnType","__eventListeners","__autoResize","__orientationChanged","_edTxt","_isTextArea","_textLabelFont","_textLabelFontSize","_textLabelFontColor","_textLabelAlign","_placeholderLabelFont","_placeholderLabelFontSize","_placeholderLabelFontColor","_placeholderLabelAlign","_placeholderLineHeight","_placeholderStyleSheet","_domId","init","delegate","inputMode","InputMode","ANY","_createTextArea","_createInput","tabIndexUtil","add","setTabIndex","tabIndex","_initStyleSheet","_registerEventListeners","_addDomToGameContainer","clear","_removeEventListeners","_removeDomFromGameContainer","remove","update","_updateMatrix","index","resort","setSize","width","height","elem","style","beginEditing","setFocus","_editing","_editBoxEditingDidBegan","_showDom","focus","endEditing","blur","document","createElement","legacyCC","GAME_VIEW","gameView","container","appendChild","head","game","hasElem","removeChild","hasStyleSheet","_updateMaxLength","_updateInputType","_updateStyleSheet","display","_hideLabels","sys","isMobile","_showDomOnMobile","_hideDom","_showLabels","_hideDomOnMobile","os","OS","ANDROID","OHOS","screenAdapter","handleResizeEvent","_adjustWindowScroll","_scrollBackWindow","setTimeout","window","scrollY","scrollIntoView","block","inline","behavior","browserType","BrowserType","WECHAT","IOS","top","scrollTo","node","scaleX","view","getScaleX","scaleY","getScaleY","widthRatio","heightRatio","canvas","viewport","getViewportRect","dpr","devicePixelRatio","getWorldMatrix","transform","_uiProps","uiTransformComp","set","anchorX","anchorY","z","camera","director","root","batcher2D","getFirstRenderCamera","getWorldRT","m12","m13","center","visibleRect","x","m00","m04","y","m01","m05","multiply","a","b","c","d","offsetX","parseInt","paddingLeft","offsetY","paddingBottom","tx","ty","matrix","inputFlag","returnType","InputFlag","INITIAL_CAPS_ALL_CHARACTERS","INITIAL_CAPS_WORD","textTransform","PASSWORD","type","EMAIL_ADDR","NUMERIC","DECIMAL","PHONE_NUMBER","pattern","addEventListener","URL","KeyboardReturnType","SEARCH","maxLength","color","border","background","outline","padding","position","bottom","left","className","fontFamily","id","resize","overflowY","value","string","placeholder","_updateTextLabel","textLabel","_updatePlaceholderLabel","placeholderLabel","font","BitmapFont","_fontFamily","fontSize","scale","fontColor","horizontalAlign","toCSS","Label","HorizontalAlign","LEFT","textAlign","CENTER","RIGHT","styleEl","lineHeight","innerHTML","EDGE","inputLock","cbs","compositionStart","compositionEnd","_editBoxTextChanged","onInput","slice","onClick","onKeydown","e","keyCode","KeyCode","ENTER","propagationStopped","_editBoxEditingReturn","TAB","preventDefault","next","onBlur","_editBoxEditingDidEnded","removeEventListener"],"mappings":";;;;;;;AAiCA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;AAlDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAqBA;AACA,MAAMA,OAAO,GAAG,EAAhB;AACA,MAAMC,YAAY,GAAG,CAArB;AACA,MAAMC,UAAU,GAAG,GAAnB;;AAEA,MAAMC,OAAO,GAAG,IAAIC,YAAJ,EAAhB;;AACA,MAAMC,YAAY,GAAG,IAAID,YAAJ,EAArB;;AACA,MAAME,KAAK,GAAG,IAAIC,YAAJ,EAAd;;AAEA,IAAIC,mBAAuC,GAAG,IAA9C;AAEA,IAAIC,SAAS,GAAG,CAAhB;;AAEO,MAAMC,WAAN,SAA0BC,gCAA1B,CAA0C;AAAA;AAAA;AAAA,SACtCC,SADsC,GACV,IADU;AAAA,SAEtCC,UAFsC,GAEd,CAAC,CAFa;AAAA,SAGtCC,UAHsC,GAGd,CAAC,CAHa;AAAA,SAItCC,WAJsC,GAIJ,CAAC,CAJG;AAAA,SAKtCC,gBALsC,GAKd,EALc;AAAA,SAMtCC,YANsC,GAMvB,KANuB;AAAA,SAOtCC,oBAPsC;AAAA,SAQtCC,MARsC,GAQkB,IARlB;AAAA,SASrCC,WATqC,GASvB,KATuB;AAAA,SAWrCC,cAXqC,GAWpB,IAXoB;AAAA,SAYrCC,kBAZqC,GAYD,IAZC;AAAA,SAarCC,mBAbqC,GAaf,IAbe;AAAA,SAcrCC,eAdqC,GAcnB,IAdmB;AAAA,SAerCC,qBAfqC,GAeb,IAfa;AAAA,SAgBrCC,yBAhBqC,GAgBM,IAhBN;AAAA,SAiBrCC,0BAjBqC,GAiBR,IAjBQ;AAAA,SAkBrCC,sBAlBqC,GAkBZ,IAlBY;AAAA,SAmBrCC,sBAnBqC,GAmBZ,IAnBY;AAAA,SAoBrCC,sBApBqC,GAoBa,IApBb;AAAA,SAqBrCC,MArBqC,GAqB3B,aAAY,EAAEtB,SAAU,EArBG;AAAA;;AAuBtCuB,EAAAA,IAAI,CAAEC,QAAF,EAAqB;AAC5B,QAAI,CAACA,QAAL,EAAe;AACX;AACH;;AAED,SAAKrB,SAAL,GAAiBqB,QAAjB;;AACA,QAAIA,QAAQ,CAACC,SAAT,KAAuBC,iBAAUC,GAArC,EAA0C;AACtC,WAAKC,eAAL;AACH,KAFD,MAEO;AACH,WAAKC,YAAL;AACH;;AAEDC,+BAAaC,GAAb,CAAiB,IAAjB;;AACA,SAAKC,WAAL,CAAiBR,QAAQ,CAACS,QAA1B;;AACA,SAAKC,eAAL;;AACA,SAAKC,uBAAL;;AACA,SAAKC,sBAAL;AACH;;AAEMC,EAAAA,KAAK,GAAI;AACZ,SAAKC,qBAAL;;AACA,SAAKC,2BAAL;;AAEAT,+BAAaU,MAAb,CAAoB,IAApB,EAJY,CAMZ;;;AACA,QAAIzC,mBAAmB,KAAK,IAA5B,EAAkC;AAC9BA,MAAAA,mBAAmB,GAAG,IAAtB;AACH;;AAED,SAAKI,SAAL,GAAiB,IAAjB;AACH;;AAEMsC,EAAAA,MAAM,GAAI;AACb,SAAKC,aAAL;AACH;;AAEMV,EAAAA,WAAW,CAAEW,KAAF,EAAiB;AAC/B,SAAKjC,MAAL,CAAauB,QAAb,GAAwBU,KAAxB;;AACAb,+BAAac,MAAb;AACH;;AAEMC,EAAAA,OAAO,CAAEC,KAAF,EAAiBC,MAAjB,EAAiC;AAC3C,UAAMC,IAAI,GAAG,KAAKtC,MAAlB;;AACA,QAAIsC,IAAJ,EAAU;AACNA,MAAAA,IAAI,CAACC,KAAL,CAAWH,KAAX,GAAoB,GAAEA,KAAM,IAA5B;AACAE,MAAAA,IAAI,CAACC,KAAL,CAAWF,MAAX,GAAqB,GAAEA,MAAO,IAA9B;AACH;AACJ;;AAEMG,EAAAA,YAAY,GAAI;AACnB,QAAInD,mBAAmB,IAAIA,mBAAmB,KAAK,IAAnD,EAAyD;AACrDA,MAAAA,mBAAmB,CAACoD,QAApB,CAA6B,KAA7B;AACH;;AAED,SAAKC,QAAL,GAAgB,IAAhB;AACArD,IAAAA,mBAAmB,GAAG,IAAtB;;AACA,SAAKI,SAAL,CAAgBkD,uBAAhB;;AACA,SAAKC,QAAL;;AACA,SAAK5C,MAAL,CAAa6C,KAAb;AACH;;AAEMC,EAAAA,UAAU,GAAI;AACjB,SAAK9C,MAAL,CAAa+C,IAAb;AACH;;AAEO5B,EAAAA,YAAY,GAAI;AACpB,SAAKlB,WAAL,GAAmB,KAAnB;AACA,SAAKD,MAAL,GAAcgD,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;AACH;;AAEO/B,EAAAA,eAAe,GAAI;AACvB,SAAKjB,WAAL,GAAmB,IAAnB;AACA,SAAKD,MAAL,GAAcgD,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd;AACH;;AAEOvB,EAAAA,sBAAsB,GAAI;AAC9B,QAAIwB,wBAASC,SAAT,IAAsB,KAAKnD,MAA/B,EAAuC;AACnCkD,8BAASE,QAAT,CAAkBC,SAAlB,CAA4BC,WAA5B,CAAwC,KAAKtD,MAA7C;;AACAkD,8BAASE,QAAT,CAAkBG,IAAlB,CAAuBD,WAAvB,CAAmC,KAAK3C,sBAAxC;AACH,KAHD,MAGO,IAAI6C,WAAKH,SAAL,IAAkB,KAAKrD,MAA3B,EAAmC;AACtCwD,iBAAKH,SAAL,CAAeC,WAAf,CAA2B,KAAKtD,MAAhC;;AACAgD,MAAAA,QAAQ,CAACO,IAAT,CAAcD,WAAd,CAA0B,KAAK3C,sBAA/B;AACH;AACJ;;AAEOkB,EAAAA,2BAA2B,GAAI;AACnC,UAAM4B,OAAO,GAAGP,wBAASC,SAAT,GAAqB,oBAASD,wBAASE,QAAT,CAAkBC,SAA3B,EAAsC,KAAKrD,MAA3C,CAArB,GACV,oBAASwD,WAAKH,SAAd,EAAyB,KAAKrD,MAA9B,CADN;;AAEA,QAAIyD,OAAO,IAAI,KAAKzD,MAApB,EAA4B;AACxB,UAAIkD,wBAASC,SAAb,EAAwB;AACpBD,gCAASE,QAAT,CAAkBC,SAAlB,CAA4BK,WAA5B,CAAwC,KAAK1D,MAA7C;AACH,OAFD,MAEO;AACHwD,mBAAKH,SAAL,CAAgBK,WAAhB,CAA4B,KAAK1D,MAAjC;AACH;AACJ;;AACD,UAAM2D,aAAa,GAAGT,wBAASC,SAAT,GAAqB,oBAASD,wBAASE,QAAT,CAAkBG,IAA3B,EAAiC,KAAK5C,sBAAtC,CAArB,GAChB,oBAASqC,QAAQ,CAACO,IAAlB,EAAwB,KAAK5C,sBAA7B,CADN;;AAEA,QAAIgD,aAAJ,EAAmB;AACf,UAAIT,wBAASC,SAAb,EAAwB;AACpBD,gCAASE,QAAT,CAAkBG,IAAlB,CAAuBG,WAAvB,CAAmC,KAAK/C,sBAAxC;AACH,OAFD,MAEO;AACHqC,QAAAA,QAAQ,CAACO,IAAT,CAAcG,WAAd,CAA0B,KAAK/C,sBAA/B;AACH;AACJ;;AAED,SAAKX,MAAL,GAAc,IAAd;AACA,SAAKW,sBAAL,GAA8B,IAA9B;AACH;;AAEOiC,EAAAA,QAAQ,GAAI;AAChB,SAAKgB,gBAAL;;AACA,SAAKC,gBAAL;;AACA,SAAKC,iBAAL;;AACA,QAAI,KAAK9D,MAAL,IAAe,KAAKP,SAAxB,EAAmC;AAC/B,WAAKO,MAAL,CAAYuC,KAAZ,CAAkBwB,OAAlB,GAA4B,EAA5B;;AACA,WAAKtE,SAAL,CAAeuE,WAAf;AACH;;AACD,QAAIC,SAAIC,QAAR,EAAkB;AACd,WAAKC,gBAAL;AACH;AACJ;;AAEOC,EAAAA,QAAQ,GAAI;AAChB,UAAM9B,IAAI,GAAG,KAAKtC,MAAlB;;AACA,QAAIsC,IAAI,IAAI,KAAK7C,SAAjB,EAA4B;AACxB6C,MAAAA,IAAI,CAACC,KAAL,CAAWwB,OAAX,GAAqB,MAArB;;AACA,WAAKtE,SAAL,CAAe4E,WAAf;AACH;;AACD,QAAIJ,SAAIC,QAAR,EAAkB;AACd,WAAKI,gBAAL;AACH;AACJ;;AAEOH,EAAAA,gBAAgB,GAAI;AACxB,QAAIF,SAAIM,EAAJ,KAAWC,WAAGC,OAAd,IAAyBR,SAAIM,EAAJ,KAAWC,WAAGE,IAA3C,EAAiD;AAC7C;AACH;;AAEDC,iCAAcC,iBAAd,GAAkC,KAAlC;;AACA,SAAKC,mBAAL;AACH;;AAEOP,EAAAA,gBAAgB,GAAI;AACxB,QAAIL,SAAIM,EAAJ,KAAWC,WAAGC,OAAd,IAAyBR,SAAIM,EAAJ,KAAWC,WAAGE,IAA3C,EAAiD;AAC7CC,mCAAcC,iBAAd,GAAkC,IAAlC;AACH;;AAED,SAAKE,iBAAL;AACH;;AAEOD,EAAAA,mBAAmB,GAAI;AAC3BE,IAAAA,UAAU,CAAC,MAAM;AACb,UAAIC,MAAM,CAACC,OAAP,GAAiBpG,OAArB,EAA8B;AAC1B,aAAKmB,MAAL,CAAakF,cAAb,CAA4B;AAAEC,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,MAAM,EAAE,SAA1B;AAAqCC,UAAAA,QAAQ,EAAE;AAA/C,SAA5B;AACH;AACJ,KAJS,EAIPtG,UAJO,CAAV;AAKH;;AAEO+F,EAAAA,iBAAiB,GAAI;AACzBC,IAAAA,UAAU,CAAC,MAAM;AACb,UAAId,SAAIqB,WAAJ,KAAoBC,oBAAYC,MAAhC,IAA0CvB,SAAIM,EAAJ,KAAWC,WAAGiB,GAA5D,EAAiE;AAC7D,YAAIT,MAAM,CAACU,GAAX,EAAgB;AACZV,UAAAA,MAAM,CAACU,GAAP,CAAWC,QAAX,CAAoB,CAApB,EAAuB,CAAvB;AACH;;AAED;AACH;;AAEDX,MAAAA,MAAM,CAACW,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,KAVS,EAUP5G,UAVO,CAAV;AAWH;;AAEOiD,EAAAA,aAAa,GAAI;AACrB,QAAI,CAAC,KAAKhC,MAAV,EAAkB;AACd;AACH;;AAED,UAAM4F,IAAI,GAAG,KAAKnG,SAAL,CAAgBmG,IAA7B;;AACA,QAAIC,MAAM,GAAGC,aAAKC,SAAL,EAAb;;AACA,QAAIC,MAAM,GAAGF,aAAKG,SAAL,EAAb;;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,WAAW,GAAG,CAAlB;;AACA,QAAIjD,wBAASC,SAAb,EAAwB;AACpB+C,MAAAA,UAAU,GAAGhD,wBAASE,QAAT,CAAkBgD,MAAlB,CAAyBhE,KAAzB,GAAiCc,wBAASM,IAAT,CAAc4C,MAAd,CAAqBhE,KAAnE;AACA+D,MAAAA,WAAW,GAAGjD,wBAASE,QAAT,CAAkBgD,MAAlB,CAAyB/D,MAAzB,GAAkCa,wBAASM,IAAT,CAAc4C,MAAd,CAAqB/D,MAArE;AACH;;AACDwD,IAAAA,MAAM,IAAIK,UAAV;AACAF,IAAAA,MAAM,IAAIG,WAAV;;AACA,UAAME,QAAQ,GAAGP,aAAKQ,eAAL,EAAjB,CAhBqB,CAiBrB;;;AACA,UAAMC,GAAG,GAAG5B,6BAAc6B,gBAA1B;AAEAZ,IAAAA,IAAI,CAACa,cAAL,CAAoBzH,OAApB;AACA,UAAM0H,SAAS,GAAGd,IAAI,CAACe,QAAL,CAAcC,eAAhC;;AACA,QAAIF,SAAJ,EAAe;AACXtH,mBAAKyH,GAAL,CAAS1H,KAAT,EAAgB,CAACuH,SAAS,CAACI,OAAX,GAAqBJ,SAAS,CAACtE,KAA/C,EAAsD,CAACsE,SAAS,CAACK,OAAX,GAAqBL,SAAS,CAACrE,MAArF,EAA6FlD,KAAK,CAAC6H,CAAnG;AACH;;AAED/H,iBAAKyH,SAAL,CAAe1H,OAAf,EAAwBA,OAAxB,EAAiCG,KAAjC;;AAEA,QAAI,CAACyG,IAAI,CAACe,QAAL,CAAcC,eAAnB,EAAoC;AAChC;AACH;;AAED,UAAMK,MAAM,GAAGC,mBAASC,IAAT,CAAeC,SAAf,CAAyBC,oBAAzB,CAA8CzB,IAA9C,CAAf;;AACA,QAAI,CAACqB,MAAL,EAAa,OAjCQ,CAmCrB;;AACAA,IAAAA,MAAM,CAACrB,IAAP,CAAY0B,UAAZ,CAAuBpI,YAAvB;AACA,UAAMqI,GAAG,GAAGrI,YAAY,CAACqI,GAAzB;AACA,UAAMC,GAAG,GAAGtI,YAAY,CAACsI,GAAzB;AACA,UAAMC,MAAM,GAAGC,qBAAYD,MAA3B;AACAvI,IAAAA,YAAY,CAACqI,GAAb,GAAmBE,MAAM,CAACE,CAAP,IAAYzI,YAAY,CAAC0I,GAAb,GAAmBL,GAAnB,GAAyBrI,YAAY,CAAC2I,GAAb,GAAmBL,GAAxD,CAAnB;AACAtI,IAAAA,YAAY,CAACsI,GAAb,GAAmBC,MAAM,CAACK,CAAP,IAAY5I,YAAY,CAAC6I,GAAb,GAAmBR,GAAnB,GAAyBrI,YAAY,CAAC8I,GAAb,GAAmBR,GAAxD,CAAnB;;AAEAvI,iBAAKgJ,QAAL,CAAc/I,YAAd,EAA4BA,YAA5B,EAA0CF,OAA1C;;AACA6G,IAAAA,MAAM,IAAIU,GAAV;AACAP,IAAAA,MAAM,IAAIO,GAAV;AAEA,UAAMlD,SAAS,GAAGH,wBAASC,SAAT,GAAqBD,wBAASE,QAAT,CAAkBC,SAAvC,GAAmDG,WAAKH,SAA1E;AACA,UAAM6E,CAAC,GAAGhJ,YAAY,CAAC0I,GAAb,GAAmB/B,MAA7B;AACA,UAAMsC,CAAC,GAAGnJ,OAAO,CAAC+I,GAAlB;AACA,UAAMK,CAAC,GAAGpJ,OAAO,CAAC6I,GAAlB;AACA,UAAMQ,CAAC,GAAGnJ,YAAY,CAAC8I,GAAb,GAAmBhC,MAA7B;AAEA,QAAIsC,OAAO,GAAGC,QAAQ,CAAElF,SAAS,IAAIA,SAAS,CAACd,KAAV,CAAgBiG,WAA9B,IAA8C,GAA/C,CAAtB;AACAF,IAAAA,OAAO,IAAIjC,QAAQ,CAACsB,CAAT,GAAazB,UAAb,GAA0BK,GAArC;AACA,QAAIkC,OAAO,GAAGF,QAAQ,CAAElF,SAAS,IAAIA,SAAS,CAACd,KAAV,CAAgBmG,aAA9B,IAAgD,GAAjD,CAAtB;AACAD,IAAAA,OAAO,IAAIpC,QAAQ,CAACyB,CAAT,GAAavB,GAAxB;AACA,UAAMoC,EAAE,GAAGzJ,YAAY,CAACqI,GAAb,GAAmB1B,MAAnB,GAA4ByC,OAAvC;AACA,UAAMM,EAAE,GAAG1J,YAAY,CAACsI,GAAb,GAAmBxB,MAAnB,GAA4ByC,OAAvC;AAEA,UAAMI,MAAM,GAAI,UAASX,CAAE,IAAG,CAACC,CAAE,IAAG,CAACC,CAAE,IAAGC,CAAE,IAAGM,EAAG,IAAG,CAACC,EAAG,GAAzD;AACA,SAAK5I,MAAL,CAAYuC,KAAZ,CAAkBmE,SAAlB,GAA8BmC,MAA9B;AACA,SAAK7I,MAAL,CAAYuC,KAAZ,CAAkB,mBAAlB,IAAyCsG,MAAzC;AACA,SAAK7I,MAAL,CAAYuC,KAAZ,CAAkB,kBAAlB,IAAwC,cAAxC;AACA,SAAKvC,MAAL,CAAYuC,KAAZ,CAAkB,0BAAlB,IAAgD,cAAhD;AACH;;AAEOsB,EAAAA,gBAAgB,GAAI;AACxB,UAAM/C,QAAQ,GAAG,KAAKrB,SAAtB;AACA,UAAMsB,SAAS,GAAGD,QAAQ,CAAEC,SAA5B;AACA,UAAM+H,SAAS,GAAGhI,QAAQ,CAAEgI,SAA5B;AACA,UAAMC,UAAU,GAAGjI,QAAQ,CAAEiI,UAA7B;AACA,QAAIzG,IAAI,GAAG,KAAKtC,MAAhB;;AAEA,QAAI,KAAKN,UAAL,KAAoBqB,SAApB,IACG,KAAKpB,UAAL,KAAoBmJ,SADvB,IAEG,KAAKlJ,WAAL,KAAqBmJ,UAF5B,EAEwC;AACpC;AACH,KAXuB,CAaxB;;;AACA,SAAKrJ,UAAL,GAAkBqB,SAAlB;AACA,SAAKpB,UAAL,GAAkBmJ,SAAlB;AACA,SAAKlJ,WAAL,GAAmBmJ,UAAnB,CAhBwB,CAkBxB;;AACA,QAAI,KAAK9I,WAAT,EAAsB;AAClB;AACA,UAAIyG,SAAS,GAAG,MAAhB;;AACA,UAAIoC,SAAS,KAAKE,iBAAUC,2BAA5B,EAAyD;AACrDvC,QAAAA,SAAS,GAAG,WAAZ;AACH,OAFD,MAEO,IAAIoC,SAAS,KAAKE,iBAAUE,iBAA5B,EAA+C;AAClDxC,QAAAA,SAAS,GAAG,YAAZ;AACH;;AACDpE,MAAAA,IAAI,CAAEC,KAAN,CAAY4G,aAAZ,GAA4BzC,SAA5B;AACA;AACH;;AAEDpE,IAAAA,IAAI,GAAGA,IAAP,CA/BwB,CAgCxB;;AACA,QAAIwG,SAAS,KAAKE,iBAAUI,QAA5B,EAAsC;AAClC9G,MAAAA,IAAI,CAAC+G,IAAL,GAAY,UAAZ;AACA/G,MAAAA,IAAI,CAACC,KAAL,CAAW4G,aAAX,GAA2B,MAA3B;AACA;AACH,KArCuB,CAuCxB;;;AACA,QAAIE,IAAI,GAAG/G,IAAI,CAAC+G,IAAhB;;AACA,QAAItI,SAAS,KAAKC,iBAAUsI,UAA5B,EAAwC;AACpCD,MAAAA,IAAI,GAAG,OAAP;AACH,KAFD,MAEO,IAAItI,SAAS,KAAKC,iBAAUuI,OAAxB,IAAmCxI,SAAS,KAAKC,iBAAUwI,OAA/D,EAAwE;AAC3EH,MAAAA,IAAI,GAAG,QAAP;AACH,KAFM,MAEA,IAAItI,SAAS,KAAKC,iBAAUyI,YAA5B,EAA0C;AAC7CJ,MAAAA,IAAI,GAAG,QAAP;AACA/G,MAAAA,IAAI,CAACoH,OAAL,GAAe,QAAf;AACApH,MAAAA,IAAI,CAACqH,gBAAL,CAAsB,OAAtB,EAA+B,MAAM,KAArC;AACH,KAJM,MAIA,IAAI5I,SAAS,KAAKC,iBAAU4I,GAA5B,EAAiC;AACpCP,MAAAA,IAAI,GAAG,KAAP;AACH,KAFM,MAEA;AACHA,MAAAA,IAAI,GAAG,MAAP;;AAEA,UAAIN,UAAU,KAAKc,0BAAmBC,MAAtC,EAA8C;AAC1CT,QAAAA,IAAI,GAAG,QAAP;AACH;AACJ;;AACD/G,IAAAA,IAAI,CAAC+G,IAAL,GAAYA,IAAZ,CA1DwB,CA4DxB;;AACA,QAAIF,aAAa,GAAG,MAApB;;AACA,QAAIL,SAAS,KAAKE,iBAAUC,2BAA5B,EAAyD;AACrDE,MAAAA,aAAa,GAAG,WAAhB;AACH,KAFD,MAEO,IAAIL,SAAS,KAAKE,iBAAUE,iBAA5B,EAA+C;AAClDC,MAAAA,aAAa,GAAG,YAAhB;AACH;;AACD7G,IAAAA,IAAI,CAACC,KAAL,CAAW4G,aAAX,GAA2BA,aAA3B;AACH;;AAEOvF,EAAAA,gBAAgB,GAAI;AACxB,QAAImG,SAAS,GAAG,KAAKtK,SAAL,CAAgBsK,SAAhC;;AACA,QAAIA,SAAS,GAAG,CAAhB,EAAmB;AACfA,MAAAA,SAAS,GAAG,KAAZ;AACH;;AACD,SAAK/J,MAAL,CAAa+J,SAAb,GAAyBA,SAAzB;AACH;;AAEOvI,EAAAA,eAAe,GAAI;AACvB,QAAI,CAAC,KAAKxB,MAAV,EAAkB;AACd;AACH;;AACD,QAAIsC,IAAI,GAAG,KAAKtC,MAAhB;AACAsC,IAAAA,IAAI,CAACC,KAAL,CAAWyH,KAAX,GAAmB,SAAnB;AACA1H,IAAAA,IAAI,CAACC,KAAL,CAAW0H,MAAX,GAAoB,KAApB;AACA3H,IAAAA,IAAI,CAACC,KAAL,CAAW2H,UAAX,GAAwB,aAAxB;AACA5H,IAAAA,IAAI,CAACC,KAAL,CAAWH,KAAX,GAAmB,MAAnB;AACAE,IAAAA,IAAI,CAACC,KAAL,CAAWF,MAAX,GAAoB,MAApB;AACAC,IAAAA,IAAI,CAACC,KAAL,CAAW4H,OAAX,GAAqB,QAArB;AACA7H,IAAAA,IAAI,CAACC,KAAL,CAAW6H,OAAX,GAAqB,GAArB;AACA9H,IAAAA,IAAI,CAACC,KAAL,CAAW4G,aAAX,GAA2B,MAA3B;AACA7G,IAAAA,IAAI,CAACC,KAAL,CAAWwB,OAAX,GAAqB,MAArB;AACAzB,IAAAA,IAAI,CAACC,KAAL,CAAW8H,QAAX,GAAsB,UAAtB;AACA/H,IAAAA,IAAI,CAACC,KAAL,CAAW+H,MAAX,GAAoB,KAApB;AACAhI,IAAAA,IAAI,CAACC,KAAL,CAAWgI,IAAX,GAAmB,GAAEzL,YAAa,IAAlC;AACAwD,IAAAA,IAAI,CAACkI,SAAL,GAAiB,cAAjB;AACAlI,IAAAA,IAAI,CAACC,KAAL,CAAWkI,UAAX,GAAwB,OAAxB;AACAnI,IAAAA,IAAI,CAACoI,EAAL,GAAU,KAAK9J,MAAf;;AAEA,QAAI,CAAC,KAAKX,WAAV,EAAuB;AACnBqC,MAAAA,IAAI,GAAGA,IAAP;AACAA,MAAAA,IAAI,CAAC+G,IAAL,GAAY,MAAZ;AACA/G,MAAAA,IAAI,CAACC,KAAL,CAAW,iBAAX,IAAgC,WAAhC;AACH,KAJD,MAIO;AACHD,MAAAA,IAAI,CAACC,KAAL,CAAWoI,MAAX,GAAoB,MAApB;AACArI,MAAAA,IAAI,CAACC,KAAL,CAAWqI,SAAX,GAAuB,QAAvB;AACH;;AAED,SAAKjK,sBAAL,GAA8BqC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAA9B;AACH;;AAEOa,EAAAA,iBAAiB,GAAI;AACzB,UAAMhD,QAAQ,GAAG,KAAKrB,SAAtB;AACA,UAAM6C,IAAI,GAAG,KAAKtC,MAAlB;;AACA,QAAIsC,IAAI,IAAIxB,QAAZ,EAAsB;AAClBwB,MAAAA,IAAI,CAACuI,KAAL,GAAa/J,QAAQ,CAACgK,MAAtB;AACAxI,MAAAA,IAAI,CAACyI,WAAL,GAAmBjK,QAAQ,CAACiK,WAA5B;;AAEA,WAAKC,gBAAL,CAAsBlK,QAAQ,CAACmK,SAA/B;;AACA,WAAKC,uBAAL,CAA6BpK,QAAQ,CAACqK,gBAAtC;AACH;AACJ;;AAEOH,EAAAA,gBAAgB,CAAEC,SAAF,EAAa;AACjC,QAAI,CAACA,SAAL,EAAgB;AACZ;AACH;;AAED,QAAIG,IAAI,GAAGH,SAAS,CAACG,IAArB;;AACA,QAAIA,IAAI,IAAI,EAAEA,IAAI,YAAYC,iBAAlB,CAAZ,EAA2C;AACvCD,MAAAA,IAAI,GAAGA,IAAI,CAACE,WAAZ;AACH,KAFD,MAEO;AACHF,MAAAA,IAAI,GAAGH,SAAS,CAACR,UAAjB;AACH;;AAED,UAAMc,QAAQ,GAAGN,SAAS,CAACM,QAAV,GAAqBN,SAAS,CAACrF,IAAV,CAAe4F,KAAf,CAAqB1D,CAA3D;;AAEA,QAAI,KAAK5H,cAAL,KAAwBkL,IAAxB,IACG,KAAKjL,kBAAL,KAA4BoL,QAD/B,IAEG,KAAKnL,mBAAL,KAA6B6K,SAAS,CAACQ,SAF1C,IAGG,KAAKpL,eAAL,KAAyB4K,SAAS,CAACS,eAH1C,EAG2D;AACvD;AACH;;AAED,SAAKxL,cAAL,GAAsBkL,IAAtB;AACA,SAAKjL,kBAAL,GAA0BoL,QAA1B;AACA,SAAKnL,mBAAL,GAA2B6K,SAAS,CAACQ,SAArC;AACA,SAAKpL,eAAL,GAAuB4K,SAAS,CAACS,eAAjC;;AAEA,QAAI,CAAC,KAAK1L,MAAV,EAAkB;AACd;AACH;;AAED,UAAMsC,IAAI,GAAG,KAAKtC,MAAlB;AACAsC,IAAAA,IAAI,CAACC,KAAL,CAAWgJ,QAAX,GAAuB,GAAEA,QAAS,IAAlC;AACAjJ,IAAAA,IAAI,CAACC,KAAL,CAAWyH,KAAX,GAAmBiB,SAAS,CAACjB,KAAV,CAAgB2B,KAAhB,EAAnB;AACArJ,IAAAA,IAAI,CAACC,KAAL,CAAWkI,UAAX,GAAwBW,IAAxB;;AAEA,YAAQH,SAAS,CAACS,eAAlB;AACA,WAAKE,aAAMC,eAAN,CAAsBC,IAA3B;AACIxJ,QAAAA,IAAI,CAACC,KAAL,CAAWwJ,SAAX,GAAuB,MAAvB;AACA;;AACJ,WAAKH,aAAMC,eAAN,CAAsBG,MAA3B;AACI1J,QAAAA,IAAI,CAACC,KAAL,CAAWwJ,SAAX,GAAuB,QAAvB;AACA;;AACJ,WAAKH,aAAMC,eAAN,CAAsBI,KAA3B;AACI3J,QAAAA,IAAI,CAACC,KAAL,CAAWwJ,SAAX,GAAuB,OAAvB;AACA;;AACJ;AACI;AAXJ;AAaH;;AAEOb,EAAAA,uBAAuB,CAAEC,gBAAF,EAAoB;AAC/C,QAAI,CAACA,gBAAL,EAAuB;AACnB;AACH;;AAED,QAAIC,IAAI,GAAGD,gBAAgB,CAACC,IAA5B;;AACA,QAAIA,IAAI,IAAI,EAAEA,IAAI,YAAYC,iBAAlB,CAAZ,EAA2C;AACvCD,MAAAA,IAAI,GAAGD,gBAAgB,CAACC,IAAjB,CAAsBE,WAA7B;AACH,KAFD,MAEO;AACHF,MAAAA,IAAI,GAAGD,gBAAgB,CAACV,UAAxB;AACH;;AAED,UAAMc,QAAQ,GAAGJ,gBAAgB,CAACI,QAAjB,GAA4BJ,gBAAgB,CAACvF,IAAjB,CAAsB4F,KAAtB,CAA4B1D,CAAzE;;AAEA,QAAI,KAAKxH,qBAAL,KAA+B8K,IAA/B,IACG,KAAK7K,yBAAL,KAAmCgL,QADtC,IAEG,KAAK/K,0BAAL,KAAoC2K,gBAAgB,CAACM,SAFxD,IAGG,KAAKhL,sBAAL,KAAgC0K,gBAAgB,CAACO,eAHpD,IAIG,KAAKhL,sBAAL,KAAgCyK,gBAAgB,CAACI,QAJxD,EAIkE;AAC9D;AACH;;AAED,SAAKjL,qBAAL,GAA6B8K,IAA7B;AACA,SAAK7K,yBAAL,GAAiCgL,QAAjC;AACA,SAAK/K,0BAAL,GAAkC2K,gBAAgB,CAACM,SAAnD;AACA,SAAKhL,sBAAL,GAA8B0K,gBAAgB,CAACO,eAA/C;AACA,SAAKhL,sBAAL,GAA8ByK,gBAAgB,CAACI,QAA/C;AAEA,UAAMW,OAAO,GAAG,KAAKvL,sBAArB;AACA,UAAM8K,SAAS,GAAGN,gBAAgB,CAACnB,KAAjB,CAAuB2B,KAAvB,EAAlB;AACA,UAAMQ,UAAU,GAAGhB,gBAAgB,CAACI,QAApC;AAEA,QAAIG,eAAe,GAAG,EAAtB;;AACA,YAAQP,gBAAgB,CAACO,eAAzB;AACA,WAAKE,aAAMC,eAAN,CAAsBC,IAA3B;AACIJ,QAAAA,eAAe,GAAG,MAAlB;AACA;;AACJ,WAAKE,aAAMC,eAAN,CAAsBG,MAA3B;AACIN,QAAAA,eAAe,GAAG,QAAlB;AACA;;AACJ,WAAKE,aAAMC,eAAN,CAAsBI,KAA3B;AACIP,QAAAA,eAAe,GAAG,OAAlB;AACA;;AACJ;AACI;AAXJ;;AAcAQ,IAAAA,OAAO,CAAEE,SAAT,GAAsB,IAAG,KAAKxL,MAAO,gEAA+DwK,IAAK,eAAcG,QAAS,aAAYE,SAAU,iBAAgBU,UAAW,kBAAiBT,eAAgB,IAA7L,GACE,IAAG,KAAK9K,MAAO,uDAAsDwK,IAAK,eAAcG,QAAS,aAAYE,SAAU,iBAAgBU,UAAW,kBAAiBT,eAAgB,IADrL,GAEE,IAAG,KAAK9K,MAAO,4DAA2DwK,IAAK,eAAcG,QAAS,aAAYE,SAAU,iBAAgBU,UAAW,kBAAiBT,eAAgB,IAF/M,CA/C+C,CAkD/C;AACA;;AACA,QAAIzH,SAAIqB,WAAJ,KAAoBC,oBAAY8G,IAApC,EAA0C;AACtCH,MAAAA,OAAO,CAAEE,SAAT,IAAuB,IAAG,KAAKxL,MAAO,6BAAtC;AACH;AACJ;;AAEOa,EAAAA,uBAAuB,GAAI;AAC/B,QAAI,CAAC,KAAKzB,MAAV,EAAkB;AACd;AACH;;AAED,UAAMsC,IAAI,GAAG,KAAKtC,MAAlB;AACA,QAAIsM,SAAS,GAAG,KAAhB;AACA,UAAMC,GAAG,GAAG,KAAK1M,gBAAjB;;AAEA0M,IAAAA,GAAG,CAACC,gBAAJ,GAAuB,MAAM;AACzBF,MAAAA,SAAS,GAAG,IAAZ;AACH,KAFD;;AAIAC,IAAAA,GAAG,CAACE,cAAJ,GAAqB,MAAM;AACvBH,MAAAA,SAAS,GAAG,KAAZ;;AACA,WAAK7M,SAAL,CAAgBiN,mBAAhB,CAAoCpK,IAAI,CAACuI,KAAzC;AACH,KAHD;;AAKA0B,IAAAA,GAAG,CAACI,OAAJ,GAAc,MAAM;AAChB,UAAIL,SAAJ,EAAe;AACX;AACH;;AACD,YAAMxL,QAAQ,GAAG,KAAKrB,SAAtB,CAJgB,CAKhB;;AACA,YAAMsK,SAAS,GAAGjJ,QAAQ,CAAEiJ,SAA5B;;AACA,UAAIA,SAAS,IAAI,CAAjB,EAAoB;AAChBzH,QAAAA,IAAI,CAACuI,KAAL,GAAavI,IAAI,CAACuI,KAAL,CAAW+B,KAAX,CAAiB,CAAjB,EAAoB7C,SAApB,CAAb;AACH;;AACDjJ,MAAAA,QAAQ,CAAE4L,mBAAV,CAA8BpK,IAAI,CAACuI,KAAnC;AACH,KAXD;;AAaA0B,IAAAA,GAAG,CAACM,OAAJ,GAAc,MAAM;AAChB,UAAI,KAAKnK,QAAT,EAAmB;AACf,YAAIuB,SAAIC,QAAR,EAAkB;AACd,eAAKW,mBAAL;AACH;AACJ;AACJ,KAND;;AAQA0H,IAAAA,GAAG,CAACO,SAAJ,GAAiBC,CAAD,IAAO;AACnB,UAAIA,CAAC,CAACC,OAAF,KAAcC,gBAAQC,KAA1B,EAAiC;AAC7BH,QAAAA,CAAC,CAACI,kBAAF,GAAuB,IAAvB;;AACA,aAAK1N,SAAL,CAAgB2N,qBAAhB;;AAEA,YAAI,CAAC,KAAKnN,WAAV,EAAuB;AACnBqC,UAAAA,IAAI,CAACS,IAAL;AACH;AACJ,OAPD,MAOO,IAAIgK,CAAC,CAACC,OAAF,KAAcC,gBAAQI,GAA1B,EAA+B;AAClCN,QAAAA,CAAC,CAACI,kBAAF,GAAuB,IAAvB;AACAJ,QAAAA,CAAC,CAACO,cAAF;;AAEAlM,mCAAamM,IAAb,CAAkB,IAAlB;AACH;AACJ,KAdD;;AAgBAhB,IAAAA,GAAG,CAACiB,MAAJ,GAAa,MAAM;AACf;AACA,UAAIvJ,SAAIC,QAAJ,IAAgBoI,SAApB,EAA+B;AAC3BC,QAAAA,GAAG,CAACE,cAAJ;AACH;;AACD,WAAK/J,QAAL,GAAgB,KAAhB;AACArD,MAAAA,mBAAmB,GAAG,IAAtB;;AACA,WAAK+E,QAAL;;AACA,WAAK3E,SAAL,CAAgBgO,uBAAhB;AACH,KATD;;AAWAnL,IAAAA,IAAI,CAACqH,gBAAL,CAAsB,kBAAtB,EAA0C4C,GAAG,CAACC,gBAA9C;AACAlK,IAAAA,IAAI,CAACqH,gBAAL,CAAsB,gBAAtB,EAAwC4C,GAAG,CAACE,cAA5C;AACAnK,IAAAA,IAAI,CAACqH,gBAAL,CAAsB,OAAtB,EAA+B4C,GAAG,CAACI,OAAnC;AACArK,IAAAA,IAAI,CAACqH,gBAAL,CAAsB,SAAtB,EAAiC4C,GAAG,CAACO,SAArC;AACAxK,IAAAA,IAAI,CAACqH,gBAAL,CAAsB,MAAtB,EAA8B4C,GAAG,CAACiB,MAAlC;AACAlL,IAAAA,IAAI,CAACqH,gBAAL,CAAsB,YAAtB,EAAoC4C,GAAG,CAACM,OAAxC;AACH;;AACOjL,EAAAA,qBAAqB,GAAI;AAC7B,QAAI,CAAC,KAAK5B,MAAV,EAAkB;AACd;AACH;;AAED,UAAMsC,IAAI,GAAG,KAAKtC,MAAlB;AACA,UAAMuM,GAAG,GAAG,KAAK1M,gBAAjB;AAEAyC,IAAAA,IAAI,CAACoL,mBAAL,CAAyB,kBAAzB,EAA6CnB,GAAG,CAACC,gBAAjD;AACAlK,IAAAA,IAAI,CAACoL,mBAAL,CAAyB,gBAAzB,EAA2CnB,GAAG,CAACE,cAA/C;AACAnK,IAAAA,IAAI,CAACoL,mBAAL,CAAyB,OAAzB,EAAkCnB,GAAG,CAACI,OAAtC;AACArK,IAAAA,IAAI,CAACoL,mBAAL,CAAyB,SAAzB,EAAoCnB,GAAG,CAACO,SAAxC;AACAxK,IAAAA,IAAI,CAACoL,mBAAL,CAAyB,MAAzB,EAAiCnB,GAAG,CAACiB,MAArC;AACAlL,IAAAA,IAAI,CAACoL,mBAAL,CAAyB,YAAzB,EAAuCnB,GAAG,CAACM,OAA3C;AAEAN,IAAAA,GAAG,CAACC,gBAAJ,GAAuB,IAAvB;AACAD,IAAAA,GAAG,CAACE,cAAJ,GAAqB,IAArB;AACAF,IAAAA,GAAG,CAACI,OAAJ,GAAc,IAAd;AACAJ,IAAAA,GAAG,CAACO,SAAJ,GAAgB,IAAhB;AACAP,IAAAA,GAAG,CAACiB,MAAJ,GAAa,IAAb;AACAjB,IAAAA,GAAG,CAACM,OAAJ,GAAc,IAAd;AACH;;AA3kB4C"}
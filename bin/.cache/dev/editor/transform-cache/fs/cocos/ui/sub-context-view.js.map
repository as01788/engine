{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/ui/sub-context-view.ts"],"names":["SubContextView","UITransform","Component","designResolutionSize","_designResolutionSize","value","EDITOR","equals","set","fps","_fps","_updateInterval","constructor","_sprite","_imageAsset","_texture","_updatedTime","_openDataContext","_content","Node","hideFlags","CCObject","Flags","DontSave","HideInHierarchy","ImageAsset","performance","now","Texture2D","onLoad","minigame","getOpenDataContext","_initSharedCanvas","_initContentNode","_updateSubContextView","_updateContentLayer","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","width","height","image","reset","create","getComponent","Sprite","addComponent","spriteFrame","texture","sp","SpriteFrame","parent","node","nodeTrans","contentTrans","scaleX","scaleY","scale","viewportRect","view","getViewportRect","box","getBoundingBoxToWorld","visibleSize","getVisibleSize","dpr","screenAdapter","devicePixelRatio","x","y","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","NodeEventType","TRANSFORM_CHANGED","SIZE_CHANGED","LAYER_CHANGED","off","layer","update","dt","calledUpdateManually","undefined","deltaTime","onDestroy","destroy","serializable","Size","legacyCC"],"mappings":"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"}
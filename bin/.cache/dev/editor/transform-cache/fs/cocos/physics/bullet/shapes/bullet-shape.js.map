{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/physics/bullet/shapes/bullet-shape.ts"],"names":["v3_0","CC_V3_0","ccMaterialBooks","BulletShape","id","idCounter","_isEnabled","_isTrigger","_isInitialized","_impl","_compound","quat","bt","Quat_new","transform","Transform_new","updateEventListener","_sharedBody","wrappedWorld","updateNeedEmitEvents","collider","needCollisionEvent","needTriggerEvent","setMaterial","v","_uuid","ccMaterial_new","mat","ccMaterial_set","restitution","friction","rollingFriction","spinningFriction","CollisionShape_setMaterial","CollisionObject_setMaterial","body","setCenter","Vec3","copy","multiply","_collider","node","worldScale","Transform_getOrigin","updateCompoundTransform","setAsTrigger","removeShape","addShape","attachedRigidBody","wrappedBody","rigidBody","impl","sharedBody","getAABB","bt_transform","BulletCache","instance","BT_TRANSFORM_0","Transform_setIdentity","Transform_setRotation","BT_QUAT_0","worldRotation","MIN","BT_V3_0","MAX","BT_V3_1","CollisionShape_getAabb","halfExtents","x","Vec3_x","y","Vec3_y","z","Vec3_z","add","center","worldPosition","getBoundingSphere","radius","CollisionShape_getLocalBoundingSphere","initialize","com","PhysicsSystem","physicsWorld","getSharedBody","reference","onComponentSet","setWrapper","isNotEmptyShape","CollisionShape_setUserPointer","TYPE","onLoad","isTrigger","onEnable","sharedMaterial","onDisable","onDestroy","Quat_del","Transform_del","CollisionShape_del","delWrapper","updateByReAdd","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask","setCompound","compound","CompoundShape_removeChildShape","CompoundShape_addChildShape","updateScale","CompoundShape_updateChildTransform","bodyStruct","useCompound","dirty","EBtSharedBodyDirty","BODY_RE_ADD","needCompound","type","EColliderType","TERRAIN","equals","ZERO"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/physics/physx/physx-world.ts"],"names":["PhysXWorld","PhysXInstance","setAllowSleep","_v","setDefaultMaterial","setGravity","gravity","scene","impl","constructor","callback","PhysXCallback","wrappedBodies","_isNeedFetch","destroy","length","release","step","deltaTime","_timeSinceLastCalled","_maxSubStep","_simulate","PX","MULTI_THREAD","_fetchResults","i","body","syncPhysicsToScene","dt","fetchResults","syncSceneToPhysics","syncAfterEvents","syncSceneWithCheck","getSharedBody","node","wrappedBody","PhysXSharedBody","addActor","index","indexOf","push","removeActor","addConstraint","_constraint","removeConstraint","raycast","worldRay","options","pool","results","raycastClosest","result","emitEvents","emitTriggerEvent","emitCollisionEvent","triggerEventBeginDic","TupleDictionary","triggerEventEndDic","triggerEventsPool","contactEventDic","contactEventsPool","contactsPool","eventCallback","onContactBegin","a","b","c","d","o","wpa","wpb","onCollision","onContactEnd","onContactPersist","onTriggerBegin","onTrigger","onTriggerEnd","queryCallback","preFilter","filterData","shape","_actor","_out","word3","shapeFlags","getFlags","EFilterDataWord3","QUERY_CHECK_TRIGGER","isSet","ShapeFlag","eTRIGGER_SHAPE","QueryHitType","eNONE","QUERY_SINGLE_HIT","eBLOCK","eTOUCH","preFilterForByteDance","hitFlags","type","isEnter","collider","needTriggerEvent","tE","pop","times","set","id","len","getLength","key","getKeyByIndex","data","getDataByKey","dataBeg","colliderA","colliderB","TriggerEventObject","selfCollider","otherCollider","emit","reset","isValid","needCollisionEvent","cE","contactCount","buffer","offset","CollisionEventObject","contacts","apply","PhysXContactEquation"],"mappings":";;;;;;;AAkCA;;AAIA;;AAIA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AAqBO,MAAMA,UAAN,SAAyBC,4BAAzB,CAAgE;AACnEC,EAAAA,aAAa,CAAEC,EAAF,EAAqB,CAAG;;AACrCC,EAAAA,kBAAkB,CAAED,EAAF,EAA6B,CAAG;;AAClDE,EAAAA,UAAU,CAAEC,OAAF,EAA4B;AAClC,SAAKC,KAAL,CAAWF,UAAX,CAAsBC,OAAtB;AACH;;AAEO,MAAJE,IAAI,GAAS;AAAE,WAAO,KAAKD,KAAZ;AAAoB;;AAOvCE,EAAAA,WAAW,GAAI;AACX;AADW,SANNF,KAMM;AAAA,SALNG,QAKM,GALKC,aAKL;AAAA,SAJNC,aAIM,GAJ6B,EAI7B;AAAA,SAFPC,YAEO,GAFQ,KAER;AAEX,uCAAgB,IAAhB;AACH;;AAEDC,EAAAA,OAAO,GAAU;AACb,QAAI,KAAKF,aAAL,CAAmBG,MAAvB,EAA+B,kBAAM,iDAAN;AAC/B,SAAKR,KAAL,CAAWS,OAAX;AACH;;AAEDC,EAAAA,IAAI,CAAEC,SAAF,EAAqBC,oBAArB,EAAoDC,WAAW,GAAG,CAAlE,EAA2E;AAC3E,SAAKC,SAAL,CAAeH,SAAf;;AACA,QAAI,CAACI,iBAAGC,YAAR,EAAsB;AAClB,WAAKC,aAAL;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKb,aAAL,CAAmBG,MAAvC,EAA+CU,CAAC,EAAhD,EAAoD;AAChD,cAAMC,IAAI,GAAG,KAAKd,aAAL,CAAmBa,CAAnB,CAAb;AACAC,QAAAA,IAAI,CAACC,kBAAL;AACH;AACJ;AACJ;;AAEON,EAAAA,SAAS,CAAEO,EAAF,EAAc;AAC3B,QAAI,CAAC,KAAKf,YAAV,EAAwB;AACpB,uCAAc,KAAKN,KAAnB,EAA0BqB,EAA1B;AACA,WAAKf,YAAL,GAAoB,IAApB;AACH;AACJ;;AAEOW,EAAAA,aAAa,GAAI;AACrB,QAAI,KAAKX,YAAT,EAAuB;AACnB,WAAKN,KAAL,CAAWsB,YAAX,CAAwB,IAAxB;AACA,WAAKhB,YAAL,GAAoB,KAApB;AACH;AACJ;;AAEDiB,EAAAA,kBAAkB,GAAU;AACxB,SAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKb,aAAL,CAAmBG,MAAvC,EAA+CU,CAAC,EAAhD,EAAoD;AAChD,YAAMC,IAAI,GAAG,KAAKd,aAAL,CAAmBa,CAAnB,CAAb;AACAC,MAAAA,IAAI,CAACI,kBAAL;AACH;AACJ,GAtDkE,CAwDnE;;;AACAH,EAAAA,kBAAkB,GAAU;AACxB,SAAKH,aAAL;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKb,aAAL,CAAmBG,MAAvC,EAA+CU,CAAC,EAAhD,EAAoD;AAChD,YAAMC,IAAI,GAAG,KAAKd,aAAL,CAAmBa,CAAnB,CAAb;AACAC,MAAAA,IAAI,CAACC,kBAAL;AACH;AACJ;;AAEDI,EAAAA,eAAe,GAAU;AACrB,SAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKb,aAAL,CAAmBG,MAAvC,EAA+CU,CAAC,EAAhD,EAAoD;AAChD,YAAMC,IAAI,GAAG,KAAKd,aAAL,CAAmBa,CAAnB,CAAb;AACAC,MAAAA,IAAI,CAACM,kBAAL;AACH;AACJ;;AAEDC,EAAAA,aAAa,CAAEC,IAAF,EAAcC,WAAd,EAA6D;AACtE,WAAOC,iCAAgBH,aAAhB,CAA8BC,IAA9B,EAAoC,IAApC,EAA0CC,WAA1C,CAAP;AACH;;AAEDE,EAAAA,QAAQ,CAAEX,IAAF,EAA+B;AACnC,UAAMY,KAAK,GAAG,KAAK1B,aAAL,CAAmB2B,OAAnB,CAA2Bb,IAA3B,CAAd;;AACA,QAAIY,KAAK,GAAG,CAAZ,EAAe;AACX,yCAAgB,KAAK/B,KAArB,EAA4BmB,IAAI,CAAClB,IAAjC;AACA,WAAKI,aAAL,CAAmB4B,IAAnB,CAAwBd,IAAxB;AACH;AACJ;;AAEDe,EAAAA,WAAW,CAAEf,IAAF,EAA+B;AACtC,UAAMY,KAAK,GAAG,KAAK1B,aAAL,CAAmB2B,OAAnB,CAA2Bb,IAA3B,CAAd;;AACA,QAAIY,KAAK,IAAI,CAAb,EAAgB;AACZ,WAAK/B,KAAL,CAAWkC,WAAX,CAAuBf,IAAI,CAAClB,IAA5B,EAAkC,IAAlC;AACA,+BAAa,KAAKI,aAAlB,EAAiC0B,KAAjC;AACH;AACJ;;AAEDI,EAAAA,aAAa,CAAEC,WAAF,EAAsC,CAAG;;AAEtDC,EAAAA,gBAAgB,CAAED,WAAF,EAAsC,CAAG;;AAEzDE,EAAAA,OAAO,CAAEC,QAAF,EAAiBC,OAAjB,EAA2CC,IAA3C,EAAgFC,OAAhF,EAAsH;AACzH,WAAO,8BAAW,IAAX,EAAiBH,QAAjB,EAA2BC,OAA3B,EAAoCC,IAApC,EAA0CC,OAA1C,CAAP;AACH;;AAEDC,EAAAA,cAAc,CAAEJ,QAAF,EAAiBC,OAAjB,EAA2CI,MAA3C,EAA8E;AACxF,WAAO,kCAAe,IAAf,EAAqBL,QAArB,EAA+BC,OAA/B,EAAwCI,MAAxC,CAAP;AACH;;AAEDC,EAAAA,UAAU,GAAU;AAChB,oCAAa,IAAb;AACAzC,IAAAA,aAAa,CAAC0C,gBAAd;AACA1C,IAAAA,aAAa,CAAC2C,kBAAd;AACH;;AA5GkE,C,CA+GvE;AACA;AACA;;;;AAiBA,MAAMC,oBAAoB,GAAG,IAAIC,gCAAJ,EAA7B;AACA,MAAMC,kBAAkB,GAAG,IAAID,gCAAJ,EAA3B;AACA,MAAME,iBAAsC,GAAG,EAA/C;AACA,MAAMC,eAAe,GAAG,IAAIH,gCAAJ,EAAxB;AACA,MAAMI,iBAAwC,GAAG,EAAjD;AACA,MAAMC,YAAgB,GAAG,EAAzB;AACA,MAAMlD,aAAa,GAAG;AAClBmD,EAAAA,aAAa,EAAE;AACXC,IAAAA,cAAc,EAAE,CAACC,CAAD,EAASC,CAAT,EAAiBC,CAAjB,EAAyBC,CAAzB,EAAiCC,CAAjC,KAAqD;AACjE,YAAMC,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACA,YAAMM,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACAtD,MAAAA,aAAa,CAAC4D,WAAd,CAA0B,kBAA1B,EAA8CF,GAA9C,EAAmDC,GAAnD,EAAwDJ,CAAxD,EAA2DC,CAA3D,EAA8DC,CAA9D;AACH,KALU;AAMXI,IAAAA,YAAY,EAAE,CAACR,CAAD,EAASC,CAAT,EAAiBC,CAAjB,EAAyBC,CAAzB,EAAiCC,CAAjC,KAAqD;AAC/D,YAAMC,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACA,YAAMM,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACAtD,MAAAA,aAAa,CAAC4D,WAAd,CAA0B,iBAA1B,EAA6CF,GAA7C,EAAkDC,GAAlD,EAAuDJ,CAAvD,EAA0DC,CAA1D,EAA6DC,CAA7D;AACH,KAVU;AAWXK,IAAAA,gBAAgB,EAAE,CAACT,CAAD,EAASC,CAAT,EAAiBC,CAAjB,EAAyBC,CAAzB,EAAiCC,CAAjC,KAAqD;AACnE,YAAMC,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACA,YAAMM,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACAtD,MAAAA,aAAa,CAAC4D,WAAd,CAA0B,iBAA1B,EAA6CF,GAA7C,EAAkDC,GAAlD,EAAuDJ,CAAvD,EAA0DC,CAA1D,EAA6DC,CAA7D;AACH,KAfU;AAgBXM,IAAAA,cAAc,EAAE,CAACV,CAAD,EAASC,CAAT,KAA0B;AACtC,YAAMI,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACA,YAAMM,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACAtD,MAAAA,aAAa,CAACgE,SAAd,CAAwB,gBAAxB,EAA0CN,GAA1C,EAA+CC,GAA/C,EAAoD,IAApD;AACH,KApBU;AAqBXM,IAAAA,YAAY,EAAE,CAACZ,CAAD,EAASC,CAAT,KAA0B;AACpC,YAAMI,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACA,YAAMM,GAAG,GAAG,gCAAyBL,CAAzB,CAAZ;AACAtD,MAAAA,aAAa,CAACgE,SAAd,CAAwB,eAAxB,EAAyCN,GAAzC,EAA8CC,GAA9C,EAAmD,KAAnD;AACH;AAzBU,GADG;AA6BlB;AACA;AACA;AACAO,EAAAA,aAAa,EAAE;AACXC,IAAAA,SAAS,CAAEC,UAAF,EAAmBC,KAAnB,EAA+BC,MAA/B,EAA4CC,IAA5C,EAA+D;AACpE,YAAMC,KAAK,GAAGJ,UAAU,CAACI,KAAzB;AACA,YAAMC,UAAU,GAAGJ,KAAK,CAACK,QAAN,EAAnB;;AACA,UAAKF,KAAK,GAAGG,4BAAiBC,mBAA1B,IACIH,UAAU,CAACI,KAAX,CAAiBlE,iBAAGmE,SAAH,CAAaC,cAA9B,CADR,EACwD;AACpD,eAAOpE,iBAAGqE,YAAH,CAAgBC,KAAvB;AACH;;AACD,aAAOT,KAAK,GAAGG,4BAAiBO,gBAAzB,GAA4CvE,iBAAGqE,YAAH,CAAgBG,MAA5D,GAAqExE,iBAAGqE,YAAH,CAAgBI,MAA5F;AACH,KATU;;AAUXC,IAAAA,qBAAqB,CAAEjB,UAAF,EAA0BK,UAA1B,EAA8Ca,QAA9C,EAAwE;AACzF,YAAMd,KAAK,GAAGJ,UAAU,CAACI,KAAzB;;AACA,UAAKA,KAAK,GAAGG,4BAAiBC,mBAA1B,IACIH,UAAU,GAAG9D,iBAAGmE,SAAH,CAAaC,cADlC,EACmD;AAC/C,eAAOpE,iBAAGqE,YAAH,CAAgBC,KAAvB;AACH;;AACD,aAAOT,KAAK,GAAGG,4BAAiBO,gBAAzB,GAA4CvE,iBAAGqE,YAAH,CAAgBG,MAA5D,GAAqExE,iBAAGqE,YAAH,CAAgBI,MAA5F;AACH;;AAjBU,GAhCG;;AAoDlBpB,EAAAA,SAAS,CAAEuB,IAAF,EAA0B7B,GAA1B,EAA2CC,GAA3C,EAA4D6B,OAA5D,EAAoF;AACzF,QAAI9B,GAAG,IAAIC,GAAX,EAAgB;AACZ,UAAID,GAAG,CAAC+B,QAAJ,CAAaC,gBAAb,IAAiC/B,GAAG,CAAC8B,QAAJ,CAAaC,gBAAlD,EAAoE;AAChE,YAAIC,EAAJ;;AACA,YAAI5C,iBAAiB,CAAC3C,MAAlB,GAA2B,CAA/B,EAAkC;AAC9BuF,UAAAA,EAAE,GAAG5C,iBAAiB,CAAC6C,GAAlB,EAAL;AACAD,UAAAA,EAAE,CAACtC,CAAH,GAAOK,GAAP;AAAYiC,UAAAA,EAAE,CAACrC,CAAH,GAAOK,GAAP;AAAYgC,UAAAA,EAAE,CAACE,KAAH,GAAW,CAAX;AAC3B,SAHD,MAGO;AACHF,UAAAA,EAAE,GAAG;AAAEtC,YAAAA,CAAC,EAAEK,GAAL;AAAUJ,YAAAA,CAAC,EAAEK,GAAb;AAAkBkC,YAAAA,KAAK,EAAE;AAAzB,WAAL;AACH;;AACD,YAAIL,OAAJ,EAAa;AACT5C,UAAAA,oBAAoB,CAACkD,GAArB,CAAyBpC,GAAG,CAACqC,EAA7B,EAAiCpC,GAAG,CAACoC,EAArC,EAAyCJ,EAAzC;AACH,SAFD,MAEO;AACH7C,UAAAA,kBAAkB,CAACgD,GAAnB,CAAuBpC,GAAG,CAACqC,EAA3B,EAA+BpC,GAAG,CAACoC,EAAnC,EAAuCJ,EAAvC;AACH;AACJ;AACJ;AACJ,GArEiB;;AAuElBjD,EAAAA,gBAAgB,GAAI;AAChB,QAAIsD,GAAG,GAAGlD,kBAAkB,CAACmD,SAAnB,EAAV;;AACA,WAAOD,GAAG,EAAV,EAAc;AACV,YAAME,GAAG,GAAGpD,kBAAkB,CAACqD,aAAnB,CAAiCH,GAAjC,CAAZ;AACA,YAAMI,IAAI,GAAGtD,kBAAkB,CAACuD,YAAnB,CAAmDH,GAAnD,CAAb;AACAnD,MAAAA,iBAAiB,CAAClB,IAAlB,CAAuBuE,IAAvB;AACA,YAAME,OAAO,GAAG1D,oBAAoB,CAACyD,YAArB,CAAqDH,GAArD,CAAhB;;AACA,UAAII,OAAJ,EAAa;AACTvD,QAAAA,iBAAiB,CAAClB,IAAlB,CAAuByE,OAAvB;AACA1D,QAAAA,oBAAoB,CAACkD,GAArB,CAAyBM,IAAI,CAAC/C,CAAL,CAAO0C,EAAhC,EAAoCK,IAAI,CAAC9C,CAAL,CAAOyC,EAA3C,EAA+C,IAA/C;AACH;;AACD,YAAMQ,SAAS,GAAGH,IAAI,CAAC/C,CAAL,CAAOoC,QAAzB;AACA,YAAMe,SAAS,GAAGJ,IAAI,CAAC9C,CAAL,CAAOmC,QAAzB;;AACA,UAAIc,SAAS,IAAIC,SAAjB,EAA4B;AACxB,cAAMjB,IAAsB,GAAG,eAA/B;AACAkB,iCAAmBlB,IAAnB,GAA0BA,IAA1B;;AACA,YAAIgB,SAAS,CAACb,gBAAd,EAAgC;AAC5Be,mCAAmBC,YAAnB,GAAkCH,SAAlC;AACAE,mCAAmBE,aAAnB,GAAmCH,SAAnC;AACAD,UAAAA,SAAS,CAACK,IAAV,CAAerB,IAAf,EAAqBkB,wBAArB;AACH;;AACD,YAAID,SAAS,CAACd,gBAAd,EAAgC;AAC5Be,mCAAmBC,YAAnB,GAAkCF,SAAlC;AACAC,mCAAmBE,aAAnB,GAAmCJ,SAAnC;AACAC,UAAAA,SAAS,CAACI,IAAV,CAAerB,IAAf,EAAqBkB,wBAArB;AACH;AACJ;AACJ;;AACD3D,IAAAA,kBAAkB,CAAC+D,KAAnB;AAEAb,IAAAA,GAAG,GAAGpD,oBAAoB,CAACqD,SAArB,EAAN;;AACA,WAAOD,GAAG,EAAV,EAAc;AACV,YAAME,GAAG,GAAGtD,oBAAoB,CAACuD,aAArB,CAAmCH,GAAnC,CAAZ;AACA,YAAMI,IAAI,GAAGxD,oBAAoB,CAACyD,YAArB,CAAqDH,GAArD,CAAb;AACA,YAAMK,SAAS,GAAGH,IAAI,CAAC/C,CAAL,CAAOoC,QAAzB;AACA,YAAMe,SAAS,GAAGJ,IAAI,CAAC9C,CAAL,CAAOmC,QAAzB;;AACA,UAAI,CAACc,SAAD,IAAc,CAACA,SAAS,CAACO,OAAzB,IAAoC,CAACN,SAArC,IAAkD,CAACA,SAAS,CAACM,OAAjE,EAA0E;AACtE/D,QAAAA,iBAAiB,CAAClB,IAAlB,CAAuBuE,IAAvB;AACAxD,QAAAA,oBAAoB,CAACkD,GAArB,CAAyBM,IAAI,CAAC/C,CAAL,CAAO0C,EAAhC,EAAoCK,IAAI,CAAC9C,CAAL,CAAOyC,EAA3C,EAA+C,IAA/C;AACH,OAHD,MAGO;AACH,cAAMR,IAAsB,GAAGa,IAAI,CAACP,KAAL,KAAe,eAAf,GAAiC,gBAAhE;AACAY,iCAAmBlB,IAAnB,GAA0BA,IAA1B;;AACA,YAAIgB,SAAS,CAACb,gBAAd,EAAgC;AAC5Be,mCAAmBC,YAAnB,GAAkCH,SAAlC;AACAE,mCAAmBE,aAAnB,GAAmCH,SAAnC;AACAD,UAAAA,SAAS,CAACK,IAAV,CAAerB,IAAf,EAAqBkB,wBAArB;AACH;;AACD,YAAID,SAAS,CAACd,gBAAd,EAAgC;AAC5Be,mCAAmBC,YAAnB,GAAkCF,SAAlC;AACAC,mCAAmBE,aAAnB,GAAmCJ,SAAnC;AACAC,UAAAA,SAAS,CAACI,IAAV,CAAerB,IAAf,EAAqBkB,wBAArB;AACH;AACJ;AACJ;AACJ,GA7HiB;;AA+HlB;AACJ;AACA;AACA;AACA;AACI7C,EAAAA,WAAW,CAAE2B,IAAF,EAA4B7B,GAA5B,EAA6CC,GAA7C,EAA8DJ,CAA9D,EAAyEC,CAAzE,EAAiFC,CAAjF,EAAkG;AACzG,QAAIC,GAAG,IAAIC,GAAX,EAAgB;AACZ,UAAID,GAAG,CAAC+B,QAAJ,CAAasB,kBAAb,IAAmCpD,GAAG,CAAC8B,QAAJ,CAAasB,kBAApD,EAAwE;AACpE,YAAI9D,iBAAiB,CAAC7C,MAAlB,GAA2B,CAA/B,EAAkC;AAC9B,gBAAM4G,EAAE,GAAG/D,iBAAiB,CAAC2C,GAAlB,EAAX;AACAoB,UAAAA,EAAE,CAACzB,IAAH,GAAUA,IAAV;AAAgByB,UAAAA,EAAE,CAAC3D,CAAH,GAAOK,GAAP;AAAYsD,UAAAA,EAAE,CAAC1D,CAAH,GAAOK,GAAP;AAAYqD,UAAAA,EAAE,CAACC,YAAH,GAAkB1D,CAAlB;AAAqByD,UAAAA,EAAE,CAACE,MAAH,GAAY1D,CAAZ;AAAewD,UAAAA,EAAE,CAACG,MAAH,GAAY1D,CAAZ;AAC5ET,UAAAA,eAAe,CAAC8C,GAAhB,CAAoBpC,GAAG,CAACqC,EAAxB,EAA4BpC,GAAG,CAACoC,EAAhC,EAAoCiB,EAApC;AACH,SAJD,MAIO;AACH,gBAAMA,EAAuB,GAAG;AAAEzB,YAAAA,IAAF;AAAQlC,YAAAA,CAAC,EAAEK,GAAX;AAAgBJ,YAAAA,CAAC,EAAEK,GAAnB;AAAwBsD,YAAAA,YAAY,EAAE1D,CAAtC;AAAyC2D,YAAAA,MAAM,EAAE1D,CAAjD;AAAoD2D,YAAAA,MAAM,EAAE1D;AAA5D,WAAhC;AACAT,UAAAA,eAAe,CAAC8C,GAAhB,CAAoBpC,GAAG,CAACqC,EAAxB,EAA4BpC,GAAG,CAACoC,EAAhC,EAAoCiB,EAApC;AACH;AACJ;AACJ;AACJ,GAjJiB;;AAmJlBrE,EAAAA,kBAAkB,GAAU;AACxB,QAAIqD,GAAG,GAAGhD,eAAe,CAACiD,SAAhB,EAAV;;AACA,WAAOD,GAAG,EAAV,EAAc;AACV,YAAME,GAAG,GAAGlD,eAAe,CAACmD,aAAhB,CAA8BH,GAA9B,CAAZ;AACA,YAAMI,IAAI,GAAGpD,eAAe,CAACqD,YAAhB,CAAkDH,GAAlD,CAAb;AACAjD,MAAAA,iBAAiB,CAACpB,IAAlB,CAAuBuE,IAAvB;AACA,YAAMG,SAAS,GAAGH,IAAI,CAAC/C,CAAL,CAAOoC,QAAzB;AACA,YAAMe,SAAS,GAAGJ,IAAI,CAAC9C,CAAL,CAAOmC,QAAzB;;AACA,UAAIc,SAAS,IAAIA,SAAS,CAACO,OAAvB,IAAkCN,SAAlC,IAA+CA,SAAS,CAACM,OAA7D,EAAsE;AAClEM,mCAAqB7B,IAArB,GAA4Ba,IAAI,CAACb,IAAjC;AACA6B,mCAAqBvH,IAArB,GAA4BuG,IAAI,CAACc,MAAjC;AACA,cAAM3D,CAAC,GAAG6C,IAAI,CAACa,YAAf;AAA6B,cAAMzD,CAAC,GAAG4C,IAAI,CAACc,MAAf;AAAuB,cAAMzD,CAAC,GAAG2C,IAAI,CAACe,MAAf;AACpD,cAAME,QAAQ,GAAGD,2BAAqBC,QAAtC;AACAnE,QAAAA,YAAY,CAACrB,IAAb,CAAkByF,KAAlB,CAAwBpE,YAAxB,EAAsCmE,QAAtC;AACAA,QAAAA,QAAQ,CAACjH,MAAT,GAAkB,CAAlB;;AACA,aAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyC,CAApB,EAAuBzC,CAAC,EAAxB,EAA4B;AACxB,cAAIoC,YAAY,CAAC9C,MAAb,GAAsB,CAA1B,EAA6B;AACzB,kBAAMmD,CAAC,GAAGL,YAAY,CAAC0C,GAAb,EAAV;AACArC,YAAAA,CAAC,CAACgD,SAAF,GAAcA,SAAd;AAAyBhD,YAAAA,CAAC,CAACiD,SAAF,GAAcA,SAAd;AACzBjD,YAAAA,CAAC,CAAC1D,IAAF,GAAS,8CAA2BiB,CAA3B,EAA8B2C,CAA9B,CAAT;AAA2C4D,YAAAA,QAAQ,CAACxF,IAAT,CAAc0B,CAAd;AAC9C,WAJD,MAIO;AACH,kBAAMA,CAAC,GAAG,IAAIgE,0CAAJ,CAAyBH,0BAAzB,CAAV;AACA7D,YAAAA,CAAC,CAACgD,SAAF,GAAcA,SAAd;AAAyBhD,YAAAA,CAAC,CAACiD,SAAF,GAAcA,SAAd;AACzBjD,YAAAA,CAAC,CAAC1D,IAAF,GAAS,8CAA2BiB,CAA3B,EAA8B2C,CAA9B,CAAT;AAA2C4D,YAAAA,QAAQ,CAACxF,IAAT,CAAc0B,CAAd;AAC9C;AACJ;;AACD,YAAIgD,SAAS,CAACQ,kBAAd,EAAkC;AAC9BK,qCAAqBV,YAArB,GAAoCH,SAApC;AACAa,qCAAqBT,aAArB,GAAqCH,SAArC;AACAD,UAAAA,SAAS,CAACK,IAAV,CAAeQ,2BAAqB7B,IAApC,EAA0C6B,0BAA1C;AACH;;AACD,YAAIZ,SAAS,CAACO,kBAAd,EAAkC;AAC9BK,qCAAqBV,YAArB,GAAoCF,SAApC;AACAY,qCAAqBT,aAArB,GAAqCJ,SAArC;AACAC,UAAAA,SAAS,CAACI,IAAV,CAAeQ,2BAAqB7B,IAApC,EAA0C6B,0BAA1C;AACH;AACJ;AACJ;;AACDpE,IAAAA,eAAe,CAAC6D,KAAhB;AACH;;AA1LiB,CAAtB"}
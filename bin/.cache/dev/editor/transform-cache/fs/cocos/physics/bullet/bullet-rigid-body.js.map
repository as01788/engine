{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/physics/bullet/bullet-rigid-body.ts"],"names":["v3_0","CC_V3_0","v3_1","CC_V3_1","BulletRigidBody","isAwake","state","bt","CollisionObject_getActivationState","impl","btCollisionObjectStates","ACTIVE_TAG","DISABLE_DEACTIVATION","isSleepy","WANTS_DEACTIVATION","isSleeping","ISLAND_SLEEPING","setMass","value","_rigidBody","isDynamic","RigidBody_setMass","_wakeUpIfSleep","_sharedBody","dirty","EBtSharedBodyDirty","BODY_RE_ADD","setType","v","setLinearDamping","RigidBody_setDamping","linearDamping","angularDamping","setAngularDamping","useGravity","m_rigidBodyFlag","RigidBody_getFlags","btRigidBodyFlags","BT_DISABLE_WORLD_GRAVITY","RigidBody_setGravity","BulletCache","instance","BT_V3_0","Vec3","ZERO","RigidBody_setFlags","useCCD","CollisionObject_setCcdMotionThreshold","CollisionObject_setCcdSweptSphereRadius","_isUsingCCD","isUsingCCD","setLinearFactor","RigidBody_setLinearFactor","setAngularFactor","RigidBody_setAngularFactor","setAllowSleep","CollisionObject_forceActivationState","body","rigidBody","sharedBody","isEnabled","_isEnabled","constructor","id","idCounter","clearState","RigidBody_clearState","clearVelocity","setLinearVelocity","setAngularVelocity","clearForces","RigidBody_clearForces","initialize","com","PhysicsSystem","physicsWorld","getSharedBody","node","reference","onEnable","mass","allowSleep","linearFactor","angularFactor","bodyEnabled","onDisable","onDestroy","wakeUp","force","CollisionObject_activate","sleep","RigidBody_wantsSleeping","setSleepThreshold","RigidBody_setSleepingThresholds","getSleepThreshold","RigidBody_getLinearSleepingThreshold","getLinearVelocity","out","RigidBody_getLinearVelocity","getAngularVelocity","RigidBody_getAngularVelocity","applyLocalForce","rel_pos","syncSceneToPhysics","quat","worldRotation","transformQuat","rp","RigidBody_applyForce","BT_V3_1","applyLocalTorque","torque","RigidBody_applyTorque","applyLocalImpulse","impulse","RigidBody_applyImpulse","applyForce","applyTorque","applyImpulse","getGroup","collisionFilterGroup","setGroup","addGroup","removeGroup","getMask","collisionFilterMask","setMask","addMask","removeMask"],"mappings":"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"}
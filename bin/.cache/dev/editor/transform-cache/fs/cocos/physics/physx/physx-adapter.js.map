{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/physics/physx/physx-adapter.ts"],"names":["PX","globalThis","legacyCC","_global","USE_BYTEDANCE","BYTEDANCE","nativePhysX","USE_EXTERNAL_PHYSX","PHYSX","game","once","Game","EVENT_ENGINE_INITED","InitPhysXLibs","EDITOR","TEST","console","info","Object","assign","_pxtrans","Transform","_v3","_v4","setPosition","prototype","bind","setQuaternion","initConfigAndCacheObject","initPhysXWithJsModule","PhysX","then","Instance","initAdaptWrapper","reason","error","EPSILON","MULTI_THREAD","SUB_THREAD_COUNT","CACHE_MAT","IMPL_PTR","MESH_CONVEX","MESH_STATIC","TERRAIN_STATIC","obj","VECTOR_MAT","PxMaterialVector","MeshScale","PxMeshScale","ShapeFlag","PxShapeFlag","ActorFlag","PxActorFlag","ForceMode","PxForceMode","CombineMode","PxCombineMode","BoxGeometry","PxBoxGeometry","QueryHitType","PxQueryHitType","RigidBodyFlag","PxRigidBodyFlag","PlaneGeometry","PxPlaneGeometry","SphereGeometry","PxSphereGeometry","CapsuleGeometry","PxCapsuleGeometry","ConvexMeshGeometry","PxConvexMeshGeometry","TriangleMeshGeometry","PxTriangleMeshGeometry","RigidDynamicLockFlag","PxRigidDynamicLockFlag","createRevoluteJoint","a","b","c","d","PxRevoluteJointCreate","physics","createDistanceJoint","PxDistanceJointCreate","x","y","z","w","_trans","translation","rotation","p","q","addReference","shape","impl","id","setUserData","$$","ptr","removeReference","getWrapShape","pxShape","getTempTransform","pos","quat","Vec3","copy","Quat","getJsTransform","addActorToScene","scene","actor","addActor","setJointActors","joint","actor0","actor1","setActors","setMassAndUpdateInertia","mass","RigidBodyExt","copyPhysXTransform","node","transform","wp","worldPosition","wr","worldRotation","dontUpdate","physXEqualsCocosVec3","physXEqualsCocosQuat","setWorldPosition","setWorldRotation","trans","v3","equals","rot","applyImpulse","isGlobal","vec","rp","applyLocalImpulse","applyForce","applyLocalForce","applyTorqueForce","addTorque","eFORCE","getShapeFlags","isTrigger","flag","eTRIGGER_SHAPE","eSIMULATION_SHAPE","eSCENE_QUERY_SHAPE","value","PxShapeFlags","getShapeWorldBounds","i","out","b3","RigidActorExt","getWorldBounds","AABB","fromPoints","minimum","maximum","getShapeMaterials","pxMtl","size","set","push_back","setupCommonCookingParam","params","skipMeshClean","skipEdgedata","setSuppressTriangleMeshRemapTable","setMeshPreprocessParams","getMeshPreprocessParams","MeshPreprocessingFlag","eDISABLE_CLEAN_MESH","eDISABLE_ACTIVE_EDGES_PRECOMPUTE","createConvexMesh","_buffer","cooking","vertices","cdesc","ConvexMeshDesc","verticesF32","Float32Array","setPointsData","setPointsCount","length","setPointsStride","BYTES_PER_ELEMENT","setConvexFlags","ConvexFlag","eCOMPUTE_CONVEX","l","vArr","PxVec3Vector","r","delete","createMeshGeometryFlags","flags","isConvex","PxConvexMeshGeometryFlags","PxMeshGeometryFlags","createTriangleMesh","indices","meshDesc","TriangleMeshDesc","indicesUI32","Uint32Array","setTrianglesData","l2","iArr","PxU16Vector","createTriMeshExt","createBV33TriangleMesh","skipMeshCleanUp","skipEdgeData","cookingPerformance","meshSizePerfTradeoff","inserted","getParams","midDesc","BVH33MidphaseDesc","setMeshCookingHint","MeshCookingHint","eCOOKING_PERFORMANCE","eSIM_PERFORMANCE","setMeshSizePerformanceTradeOff","setMidphaseDesc","setParams","validateTriangleMesh","createBV34TriangleMesh","numTrisPerLeaf","BVH34MidphaseDesc","setNumPrimsLeaf","createHeightField","terrain","heightScale","sizeI","getVertexCountI","sizeJ","getVertexCountJ","samples","HeightFieldSamples","j","s","getHeight","index","setHeightAtIndex","hfdesc","HeightFieldDesc","setNbRows","setNbColumns","setSamples","PxHeightFieldSampleVector","PxHeightFieldSample","height","createHeightFieldExt","createHeightFieldGeometry","hf","hs","xs","zs","HeightFieldGeometry","PxHeightFieldGeometry","simulateScene","deltaTime","simulate","raycastAll","world","worldRay","options","pool","results","maxDistance","PxHitFlag","ePOSITION","eNORMAL","word3","EFilterDataWord3","QUERY_FILTER","queryTrigger","QUERY_CHECK_TRIGGER","queryFlags","PxQueryFlag","eSTATIC","eDYNAMIC","ePREFILTER","eNO_BLOCK","queryfilterData","PhysXInstance","queryFilterCB","mutipleResults","mutipleResultSize","data","word0","mask","SceneQueryExt","raycastMultiple","o","block","collider","shapeData","result","add","_assign","position","distance","normal","push","setWords","setFlags","blocks","get","getShape","raycastClosest","QUERY_SINGLE_HIT","raycastSingle","singleResult","initializeWorld","createCooking","CookingParams","QueryFilterCallback","setPreFilter","callback","queryCallback","preFilterForByteDance","word1","word2","initConfigForByteDance","hackForMultiThread","sceneDesc","createSceneDesc","mstc","getMaxSubThreadCount","count","setSubThreadCount","setFlag","SceneFlag","eENABLE_PCM","eENABLE_CCD","createScene","setNeedOnContact","setNeedOnTrigger","foundation","version","PX_PHYSICS_VERSION","allocator","PxDefaultAllocator","defaultErrorCallback","PxDefaultErrorCallback","PxCreateFoundation","DEBUG","pvd","PxCreatePvd","scale","PxTolerancesScale","PxCreatePhysics","PxCreateCooking","PxCookingParams","PxInitExtensions","PxRaycastHit","PxRaycastHitVector","resize","PxQueryFilterData","simulationCB","PxSimulationEventCallback","implement","eventCallback","PxQueryFilterCallback","getDefaultSceneDesc","getTolerancesScale","getContactPosition","pxContactOrOffset","buf","fromArray","getContactNormal","getContactDataOrByteOffset","offset","gc","getGContacts","gatherEvents","contactBuf","getContactData","byteLength","uint32view","pairCount","contactPointBufferBegin","contactPointByteOffset","shape0","shape1","events","contactCount","PxPairFlag","eNOTIFY_TOUCH_PERSISTS","onCollision","eNOTIFY_TOUCH_FOUND","eNOTIFY_TOUCH_LOST","triggerBuf","getTriggerData","begin","onTrigger","syncNoneStaticToSceneIfWaking","getGlobalPoseIfWaking","isSleeping","getGlobalPose","config","physX","settings","epsilon","multiThread","subThreadCount","PhysicsSystem","postUpdate","sys","_enable","physicsWorld","syncSceneToPhysics","_autoSimulation","director","emit","Director","EVENT_BEFORE_PHYSICS","_accumulator","_subStepCount","step","_fixedTimeStep","_mutiThreadYield","performance","now","lastUpdate","yieldTime","syncPhysicsToScene","emitEvents","profiler","_stats","counter","_time","EVENT_AFTER_PHYSICS","on","EVENT_END_FRAME","isPaused","instance"],"mappings":"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"}
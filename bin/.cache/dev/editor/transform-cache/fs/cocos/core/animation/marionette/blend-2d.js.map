{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/animation/marionette/blend-2d.ts"],"names":["blendSimpleDirectional","CACHE_NORMALIZED_SAMPLE","Vec2","CACHE_BARYCENTRIC_SOLUTIONS","wA","wB","weights","samples","input","length","strictEquals","ZERO","iCenter","findIndex","sample","fill","iSectorStart","iSectorEnd","lhsCosAngle","Number","NEGATIVE_INFINITY","rhsCosAngle","x","inputX","y","inputY","iSample","equals","sampleNormalized","normalize","cosAngle","dot","sign","centerWeight","solveBarycentric","w1","w2","sum","average","i","validateSimpleDirectionalSamples","nSamples","issues","sameDirectionValidationFlag","Array","forEach","sameDirectionSamples","iCheckSample","checkSample","push","unshift","SimpleDirectionalIssueSameDirection","constructor","sampleFreeformCartesian","thresholds","value","sampleFreeform","getGradientBandCartesianCoords","sampleFreeformDirectional","getGradientBandPolarCoords","getGradientBandCoords","pIpInput","pIJ","sumInfluence","influence","MAX_VALUE","outsideHull","jSample","t","lengthSqr","Math","min","index","a","b","p","resolutions","det","cross","pI","pJ","pIpJ","subtract","axis","Vec3","tmpV3","pQueriedProjected","pi3","pj3","pQueried3","aIJ","aIQ","angleMultiplier","set","angle","projectOnPlane","PI","lenPI","len","lenPJ","deno"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/assets/render-texture.ts"],"names":["_colorAttachment","ColorAttachment","format","Format","RGBA8","beginAccesses","AccessType","FRAGMENT_SHADER_READ_TEXTURE","endAccesses","_depthStencilAttachment","DepthStencilAttachment","DEPTH_STENCIL","passInfo","RenderPassInfo","_windowInfo","width","height","renderPassInfo","RenderTexture","TextureBase","_window","window","initialize","info","_name","name","_width","_height","_initWindow","reset","destroy","root","legacyCC","director","destroyWindow","resize","Math","floor","emit","_serialize","ctxForExporting","EDITOR","TEST","base","w","h","n","_deserialize","serializedData","handle","data","getGFXTexture","framebuffer","colorTextures","onLoaded","title","device","createWindow","initDefault","uuid","validate","readPixels","x","y","gfxTexture","gfxDevice","_getGFXDevice","bufferViews","regions","region0","BufferTextureCopy","texOffset","texExtent","push","buffer","Uint8Array","copyTextureToBuffers"],"mappings":"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"}
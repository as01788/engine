{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/renderer/core/render-window.ts"],"names":["orientationMap","Orientation","PORTRAIT","SurfaceTransform","IDENTITY","LANDSCAPE_RIGHT","ROTATE_90","PORTRAIT_UPSIDE_DOWN","ROTATE_180","LANDSCAPE_LEFT","ROTATE_270","RenderWindow","width","_width","height","_height","swapchain","_swapchain","framebuffer","_framebuffer","cameras","_cameras","registerCreateFunc","root","_createWindowFun","_root","native","_nativeObj","constructor","_title","_renderPass","_colorTextures","_depthStencilTexture","_hasOnScreenAttachments","_hasOffScreenAttachments","initialize","device","info","_init","title","undefined","createRenderPass","renderPassInfo","_setSwapchain","push","colorTexture","depthStencilTexture","i","colorAttachments","length","createTexture","TextureInfo","TextureType","TEX2D","TextureUsageBit","COLOR_ATTACHMENT","SAMPLED","TRANSFER_SRC","format","depthStencilAttachment","Format","UNKNOWN","DEPTH_STENCIL_ATTACHMENT","_setFrameBuffer","createFramebuffer","FramebufferInfo","destroy","clearCameras","_destroy","resize","screenAdapter","orientation","camera","extractRenderCameras","j","enabled","update","attachCamera","sortCameras","detachCamera","splice","sort","a","b","priority","JSB","NativeRenderWindow","val","frameBuffer"],"mappings":"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"}
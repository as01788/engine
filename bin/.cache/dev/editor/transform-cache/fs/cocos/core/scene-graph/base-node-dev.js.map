{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/scene-graph/base-node-dev.ts"],"names":["Destroying","CCObject","Flags","baseNodePolyfill","BaseNode","EDITOR","TEST","prototype","_checkMultipleComp","ctor","existing","getComponent","_disallowMultiple","constructor","Error","js","getClassName","_name","_addComponentAt","comp","index","_objFlags","legacyCC","Component","_components","length","undefined","node","splice","EditorExtends","Node","getNode","_id","add","_activeInHierarchy","director","_nodeActivator","activateComp","_getDependComponent","depended","dependant","i","isValid","Object","_willDestroy","reqComps","_requireComponent","Array","isArray","push","onRestore","shouldActiveNow","_active","_parent","activateNode","_onPreDestroy","destroyByParent","_onPreDestroyBase","_onRestoreBase","_registerIfAttached","register","attachedObjsForEditor","engine","console","error","name","emit","children","_children","len","child","DEV","get","path","Scene"],"mappings":"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"}
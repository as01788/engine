{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/asset-manager/url-transformer.ts"],"names":["infos","parse","task","options","input","Array","isArray","output","i","length","item","out","RequestItem","create","config","info","Object","__requestType__","RequestType","UUID","js","addon","preset","presets","key","uuid","bundle","bundles","find","getAssetInfo","name","has","get","redirect","Error","ext","extension","DIR","getDirWithPath","dir","type","assetInfo","push","__isNative__","recycle","PATH","getInfoWithPath","path","SCENE","getSceneInfo","scene","isNative","URL","url","extname","undefined","JSON","stringify","combine","base","nativeBase","legacyCC","assetManager","generalNativeBase","importBase","generalImportBase","ver","nativeVer","slice","__nativeName__"],"mappings":";;;;;;;;AA4BA;;AACA;;AAEA;;AACA;;AACA;;;;AAjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AASA,MAAMA,KAAyB,GAAG,EAAlC;;AAEO,SAASC,KAAT,CAAgBC,IAAhB,EAA4B;AAAA;;AAC/B,QAAMC,OAAO,GAAGD,IAAI,CAACC,OAArB;AACA,QAAMC,KAAK,GAAGC,KAAK,CAACC,OAAN,CAAcJ,IAAI,CAACE,KAAnB,IAA4BF,IAAI,CAACE,KAAjC,GAAyC,CAACF,IAAI,CAACE,KAAN,CAAvD;AAEAF,EAAAA,IAAI,CAACK,MAAL,GAAc,EAAd;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,KAAK,CAACK,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,QAAIE,IAAI,GAAGN,KAAK,CAACI,CAAD,CAAhB;;AACA,QAAIG,GAAuB,GAAGC,qBAAYC,MAAZ,EAA9B;;AACA,QAAIC,MAAqB,GAAG,IAA5B;AACA,QAAIC,IAAuB,GAAG,IAA9B;;AACA,QAAI,OAAOL,IAAP,KAAgB,QAApB,EAA8B;AAC1BA,MAAAA,IAAI,GAAGM,MAAM,CAACH,MAAP,CAAc,IAAd,CAAP;AACAH,MAAAA,IAAI,CAACP,OAAO,CAAEc,eAAT,IAA4BC,oBAAYC,IAAzC,CAAJ,GAAqDf,KAAK,CAACI,CAAD,CAA1D;AACH;;AACD,QAAI,OAAOE,IAAP,KAAgB,QAApB,EAA8B;AAC1B;AACAU,gBAAGC,KAAH,CAASX,IAAT,EAAeP,OAAf;;AACA,UAAIO,IAAI,CAACY,MAAT,EAAiB;AACbF,kBAAGC,KAAH,CAASX,IAAT,EAAea,gBAAQb,IAAI,CAACY,MAAb,CAAf;AACH;;AACD,WAAK,MAAME,GAAX,IAAkBd,IAAlB,EAAwB;AACpB,gBAAQc,GAAR;AACA,eAAKN,oBAAYC,IAAjB;AAAuB;AAAA;;AACnB,oBAAMM,IAAI,GAAGd,GAAG,CAACc,IAAJ,GAAW,wBAAWf,IAAI,CAACe,IAAhB,CAAxB;;AACA,kBAAI,CAACf,IAAI,CAACgB,MAAV,EAAkB;AACd,sBAAMA,MAAM,GAAGC,gBAAQC,IAAR,CAAcF,MAAD,IAAY,CAAC,CAACA,MAAM,CAACG,YAAP,CAAoBJ,IAApB,CAA3B,CAAf;;AACAf,gBAAAA,IAAI,CAACgB,MAAL,GAAeA,MAAM,IAAIA,MAAM,CAACI,IAAhC;AACH;;AACD,kBAAIH,gBAAQI,GAAR,CAAYrB,IAAI,CAACgB,MAAjB,CAAJ,EAA8B;AAC1BZ,gBAAAA,MAAM,GAAGa,gBAAQK,GAAR,CAAYtB,IAAI,CAACgB,MAAjB,EAA0BZ,MAAnC;AACAC,gBAAAA,IAAI,GAAGD,MAAM,CAACe,YAAP,CAAoBJ,IAApB,CAAP;;AACA,oBAAIV,IAAI,IAAIA,IAAI,CAACkB,QAAjB,EAA2B;AACvB,sBAAI,CAACN,gBAAQI,GAAR,CAAYhB,IAAI,CAACkB,QAAjB,CAAL,EAAiC;AAAE,0BAAM,IAAIC,KAAJ,CAAW,sBAAqBnB,IAAI,CAACkB,QAAS,QAA9C,CAAN;AAA+D;;AAClGnB,kBAAAA,MAAM,GAAGa,gBAAQK,GAAR,CAAYjB,IAAI,CAACkB,QAAjB,EAA4BnB,MAArC;AACAC,kBAAAA,IAAI,GAAGD,MAAM,CAACe,YAAP,CAAoBJ,IAApB,CAAP;AACH;;AACDd,gBAAAA,GAAG,CAACG,MAAJ,GAAaA,MAAb;AACAH,gBAAAA,GAAG,CAACI,IAAJ,GAAWA,IAAX;AACH;;AACDJ,cAAAA,GAAG,CAACwB,GAAJ,GAAUzB,IAAI,CAACyB,GAAL,cAAYpB,IAAZ,0CAAY,MAAMqB,SAAlB,KAA+B,OAAzC;AACA;AACH;;AACD,eAAK,iBAAL;AACA,eAAK,KAAL;AACA,eAAK,QAAL;AACA,eAAK,QAAL;AACA,eAAK,MAAL;AAAa;;AACb,eAAKlB,oBAAYmB,GAAjB;AACI,gBAAIV,gBAAQI,GAAR,CAAYrB,IAAI,CAACgB,MAAjB,CAAJ,EAA8B;AAC1BC,8BAAQK,GAAR,CAAYtB,IAAI,CAACgB,MAAjB,EAA0BZ,MAA1B,CAAiCwB,cAAjC,CAAgD5B,IAAI,CAAC6B,GAArD,EAA0D7B,IAAI,CAAC8B,IAA/D,EAAqExC,KAArE;;AACA,mBAAK,MAAMyC,SAAX,IAAwBzC,KAAxB,EAA+B;AAC3BI,gBAAAA,KAAK,CAACsC,IAAN,CAAW;AAAEjB,kBAAAA,IAAI,EAAEgB,SAAS,CAAChB,IAAlB;AAAwBkB,kBAAAA,YAAY,EAAE,KAAtC;AAA6CR,kBAAAA,GAAG,EAAEM,SAAS,CAACL,SAAV,IAAuB,OAAzE;AAAkFV,kBAAAA,MAAM,EAAEhB,IAAI,CAACgB;AAA/F,iBAAX;AACH;;AACD1B,cAAAA,KAAK,CAACS,MAAN,GAAe,CAAf;AACH;;AACDE,YAAAA,GAAG,CAACiC,OAAJ;AACAjC,YAAAA,GAAG,GAAG,IAAN;AACA;;AACJ,eAAKO,oBAAY2B,IAAjB;AACI,gBAAIlB,gBAAQI,GAAR,CAAYrB,IAAI,CAACgB,MAAjB,CAAJ,EAA8B;AAC1BZ,cAAAA,MAAM,GAAGa,gBAAQK,GAAR,CAAYtB,IAAI,CAACgB,MAAjB,EAA0BZ,MAAnC;AACAC,cAAAA,IAAI,GAAGD,MAAM,CAACgC,eAAP,CAAuBpC,IAAI,CAACqC,IAA5B,EAAkCrC,IAAI,CAAC8B,IAAvC,CAAP;;AAEA,kBAAIzB,IAAI,IAAIA,IAAI,CAACkB,QAAjB,EAA2B;AACvB,oBAAI,CAACN,gBAAQI,GAAR,CAAYhB,IAAI,CAACkB,QAAjB,CAAL,EAAiC;AAAE,wBAAM,IAAIC,KAAJ,CAAW,2BAA0BnB,IAAI,CAACkB,QAAS,QAAnD,CAAN;AAAoE;;AACvGnB,gBAAAA,MAAM,GAAGa,gBAAQK,GAAR,CAAYjB,IAAI,CAACkB,QAAjB,EAA4BnB,MAArC;AACAC,gBAAAA,IAAI,GAAGD,MAAM,CAACe,YAAP,CAAoBd,IAAI,CAACU,IAAzB,CAAP;AACH;;AAED,kBAAI,CAACV,IAAL,EAAW;AACPJ,gBAAAA,GAAG,CAACiC,OAAJ;AACA,sBAAM,IAAIV,KAAJ,CAAW,UAASxB,IAAI,CAACgB,MAAO,oBAAmBhB,IAAI,CAACqC,IAAK,EAA7D,CAAN;AACH;;AACDpC,cAAAA,GAAG,CAACG,MAAJ,GAAaA,MAAb;AACAH,cAAAA,GAAG,CAACc,IAAJ,GAAWV,IAAI,CAACU,IAAhB;AACAd,cAAAA,GAAG,CAACI,IAAJ,GAAWA,IAAX;AACH;;AACDJ,YAAAA,GAAG,CAACwB,GAAJ,GAAUzB,IAAI,CAACyB,GAAL,eAAYpB,IAAZ,2CAAY,OAAMqB,SAAlB,KAA+B,OAAzC;AACA;;AACJ,eAAKlB,oBAAY8B,KAAjB;AACI,gBAAI,CAACtC,IAAI,CAACgB,MAAV,EAAkB;AACd,oBAAMA,MAAM,GAAGC,gBAAQC,IAAR,CAAcF,MAAD,IAAY,CAAC,CAACA,MAAM,CAACuB,YAAP,CAAoBvC,IAAI,CAACwC,KAAzB,CAA3B,CAAf;;AACAxC,cAAAA,IAAI,CAACgB,MAAL,GAAcA,MAAM,IAAIA,MAAM,CAACI,IAA/B;AACH;;AACD,gBAAIH,gBAAQI,GAAR,CAAYrB,IAAI,CAACgB,MAAjB,CAAJ,EAA8B;AAC1BZ,cAAAA,MAAM,GAAGa,gBAAQK,GAAR,CAAYtB,IAAI,CAACgB,MAAjB,EAA0BZ,MAAnC;AACAC,cAAAA,IAAI,GAAGD,MAAM,CAACmC,YAAP,CAAoBvC,IAAI,CAACwC,KAAzB,CAAP;;AAEA,kBAAInC,IAAI,IAAIA,IAAI,CAACkB,QAAjB,EAA2B;AACvB,oBAAI,CAACN,gBAAQI,GAAR,CAAYhB,IAAI,CAACkB,QAAjB,CAAL,EAAiC;AAAE,wBAAM,IAAIC,KAAJ,CAAW,2BAA0BnB,IAAI,CAACkB,QAAS,QAAnD,CAAN;AAAoE;;AACvGnB,gBAAAA,MAAM,GAAGa,gBAAQK,GAAR,CAAYjB,IAAI,CAACkB,QAAjB,EAA4BnB,MAArC;AACAC,gBAAAA,IAAI,GAAGD,MAAM,CAACe,YAAP,CAAoBd,IAAI,CAACU,IAAzB,CAAP;AACH;;AACD,kBAAI,CAACV,IAAL,EAAW;AACPJ,gBAAAA,GAAG,CAACiC,OAAJ;AACA,sBAAM,IAAIV,KAAJ,CAAW,UAASpB,MAAM,CAACgB,IAAK,0BAAyBpB,IAAI,CAACwC,KAAM,EAApE,CAAN;AACH;;AACDvC,cAAAA,GAAG,CAACG,MAAJ,GAAaA,MAAb;AACAH,cAAAA,GAAG,CAACc,IAAJ,GAAWV,IAAI,CAACU,IAAhB;AACAd,cAAAA,GAAG,CAACI,IAAJ,GAAWA,IAAX;AACH;;AACD;;AACJ,eAAK,cAAL;AACIJ,YAAAA,GAAG,CAACwC,QAAJ,GAAezC,IAAI,CAACiC,YAApB;AACA;;AACJ,eAAKzB,oBAAYkC,GAAjB;AACIzC,YAAAA,GAAG,CAAC0C,GAAJ,GAAU3C,IAAI,CAAC2C,GAAf;AACA1C,YAAAA,GAAG,CAACc,IAAJ,GAAWf,IAAI,CAACe,IAAL,IAAaf,IAAI,CAAC2C,GAA7B;AACA1C,YAAAA,GAAG,CAACwB,GAAJ,GAAUzB,IAAI,CAACyB,GAAL,IAAYY,YAAKO,OAAL,CAAa5C,IAAI,CAAC2C,GAAlB,CAAtB;AACA1C,YAAAA,GAAG,CAACwC,QAAJ,GAAezC,IAAI,CAACiC,YAAL,KAAsBY,SAAtB,GAAkC7C,IAAI,CAACiC,YAAvC,GAAsD,IAArE;AACA;;AACJ;AAAShC,YAAAA,GAAG,CAACR,OAAJ,CAAYqB,GAAZ,IAAmBd,IAAI,CAACc,GAAD,CAAvB;AA1FT;;AA4FA,YAAI,CAACb,GAAL,EAAU;AAAE;AAAQ;AACvB;AACJ;;AACD,QAAI,CAACA,GAAL,EAAU;AAAE;AAAW;;AACvBT,IAAAA,IAAI,CAACK,MAAL,CAAYmC,IAAZ,CAAiB/B,GAAjB;;AACA,QAAI,CAACA,GAAG,CAACc,IAAL,IAAa,CAACd,GAAG,CAAC0C,GAAtB,EAA2B;AAAE,YAAM,IAAInB,KAAJ,CAAW,4BAA2BsB,IAAI,CAACC,SAAL,CAAe/C,IAAf,CAAqB,EAA3D,CAAN;AAAsE;AACtG;;AACD,SAAO,IAAP;AACH;;AAEM,SAASgD,OAAT,CAAkBxD,IAAlB,EAA8B;AACjC,QAAME,KAAK,GAAGF,IAAI,CAACK,MAAL,GAAcL,IAAI,CAACE,KAAjC;;AACA,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,KAAK,CAACK,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,UAAME,IAAI,GAAGN,KAAK,CAACI,CAAD,CAAlB;;AACA,QAAIE,IAAI,CAAC2C,GAAT,EAAc;AAAE;AAAW;;AAE3B,QAAIA,GAAG,GAAG,EAAV;AACA,QAAIM,IAAI,GAAG,EAAX;AACA,UAAM7C,MAAM,GAAGJ,IAAI,CAACI,MAApB;;AACA,QAAIJ,IAAI,CAACyC,QAAT,EAAmB;AACfQ,MAAAA,IAAI,GAAI7C,MAAM,IAAIA,MAAM,CAAC8C,UAAlB,GAAiC9C,MAAM,CAAC6C,IAAP,GAAc7C,MAAM,CAAC8C,UAAtD,GAAoEC,wBAASC,YAAT,CAAsBC,iBAAjG;AACH,KAFD,MAEO;AACHJ,MAAAA,IAAI,GAAI7C,MAAM,IAAIA,MAAM,CAACkD,UAAlB,GAAiClD,MAAM,CAAC6C,IAAP,GAAc7C,MAAM,CAACkD,UAAtD,GAAoEH,wBAASC,YAAT,CAAsBG,iBAAjG;AACH;;AAED,UAAMxC,IAAI,GAAGf,IAAI,CAACe,IAAlB;AAEA,QAAIyC,GAAG,GAAG,EAAV;;AACA,QAAIxD,IAAI,CAACK,IAAT,EAAe;AACX,UAAIL,IAAI,CAACyC,QAAT,EAAmB;AACfe,QAAAA,GAAG,GAAGxD,IAAI,CAACK,IAAL,CAAUoD,SAAV,GAAwB,IAAGzD,IAAI,CAACK,IAAL,CAAUoD,SAAU,EAA/C,GAAoD,EAA1D;AACH,OAFD,MAEO;AACHD,QAAAA,GAAG,GAAGxD,IAAI,CAACK,IAAL,CAAUmD,GAAV,GAAkB,IAAGxD,IAAI,CAACK,IAAL,CAAUmD,GAAI,EAAnC,GAAwC,EAA9C;AACH;AACJ,KAtBkC,CAwBnC;;;AACA,QAAIxD,IAAI,CAACyB,GAAL,KAAa,MAAjB,EAAyB;AACrBkB,MAAAA,GAAG,GAAI,GAAEM,IAAK,IAAGlC,IAAI,CAAC2C,KAAL,CAAW,CAAX,EAAc,CAAd,CAAiB,IAAG3C,IAAK,GAAEyC,GAAI,IAAGxD,IAAI,CAACP,OAAL,CAAakE,cAAe,EAA/E;AACH,KAFD,MAEO;AACHhB,MAAAA,GAAG,GAAI,GAAEM,IAAK,IAAGlC,IAAI,CAAC2C,KAAL,CAAW,CAAX,EAAc,CAAd,CAAiB,IAAG3C,IAAK,GAAEyC,GAAI,GAAExD,IAAI,CAACyB,GAAI,EAA3D;AACH;;AAEDzB,IAAAA,IAAI,CAAC2C,GAAL,GAAWA,GAAX;AACH;;AACD,SAAO,IAAP;AACH"}
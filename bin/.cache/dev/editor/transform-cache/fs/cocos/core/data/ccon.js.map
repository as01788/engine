{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/data/ccon.ts"],"names":["VERSION","MAGIC","CHUNK_ALIGN_AS","CCON","constructor","document","chunks","_document","_chunks","encodeCCONJson","ccon","chunkURLs","version","parseCCONJson","json","cconPreface","encodeCCONBinary","jsonString","JSON","stringify","jsonBytes","encodeJson","ccobBuilder","BufferBuilder","header","ArrayBuffer","headerView","DataView","setUint32","append","uint32Bytes","byteLength","chunk","alignAs","get","value","bytes","view","decodeCCONBinary","length","InvalidCCONError","dataView","buffer","byteOffset","magic","getUint32","dataByteLength","chunksStart","jsonDataLength","jsonData","Uint8Array","decodeJson","parse","err","padding","chunkDataLength","push","input","TextEncoder","encode","globalThis","Buffer","from","Error","data","TextDecoder","decode","toString","_viewOrPaddings","_length","align","remainder","result","counter","forEach","viewOrPadding","set","legacyCC","internal"],"mappings":"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"}
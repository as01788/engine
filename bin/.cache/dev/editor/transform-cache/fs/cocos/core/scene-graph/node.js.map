{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/scene-graph/node.ts"],"names":["v3_a","Vec3","q_a","Quat","q_b","qt_1","m3_1","Mat3","m3_scaling","m4_1","Mat4","dirtyNodes","nativeDirtyNodes","view_tmp","BookOfChange","constructor","_chunks","_freelists","_createChunk","alloc","chunkCount","length","i","_createView","free","view","idx","push","clear","fill","Uint32Array","CAPACITY_PER_CHUNK","freelist","chunkIdx","pop","bookOfChange","reserveContentsForAllSyncablePrefabTag","Symbol","Node","BaseNode","_dirtyFlags","_dirtyFlagsPri","flags","JSB","_nativeDirtyFlag","_init","chunk","offset","_hasChangedFlagsChunk","_hasChangedFlagsOffset","flagBuffer","buffer","byteOffset","_hasChangedFlags","_nodeHandle","NodePool","_pos","getTypedArray","NodeView","WORLD_POSITION","_rot","WORLD_ROTATION","_scale","WORLD_SCALE","_lpos","LOCAL_POSITION","_lrot","LOCAL_ROTATION","_lscale","LOCAL_SCALE","_mat","WORLD_MATRIX","_nativeLayer","LAYER","DIRTY_FLAG","set","_layer","_nativeObj","NativeNode","initWithData","getBuffer","name","_uiProps","NodeUIProperties","_static","TransformBit","NONE","_eulerDirty","NULL_HANDLE","isNode","obj","legacyCC","Scene","_onPreDestroy","result","_onPreDestroyBase","native","position","val","setPosition","worldPosition","updateWorldTransform","setWorldPosition","rotation","setRotation","eulerAngles","setRotationFromEuler","x","y","z","toEuler","_euler","angle","fromAngleZ","invalidateChildren","ROTATION","_eventMask","TRANSFORM_ON","emit","NodeEventType","TRANSFORM_CHANGED","worldRotation","setWorldRotation","scale","setScale","worldScale","setWorldScale","matrix","toRTS","TRS","worldMatrix","forward","transformQuat","FORWARD","dir","len","multiplyScalar","fromViewUp","up","UP","right","RIGHT","layer","l","uiComp","setNodeDirty","markForUpdateRenderData","LAYER_CHANGED","hasChangedFlags","serializeTag","serializationOutput","context","EDITOR","writeThis","isMountedChild","editorExtrasTag","mountedRoot","isSyncPrefab","_prefab","root","instance","canDiscardByPrefabRoot","customArguments","isRoot","writeProperty","_objFlags","_parent","setParent","value","keepWorldTransform","parent","_onSetParent","oldParent","multiply","invert","copy","_onHierarchyChanged","eventProcessor","reattach","_onHierarchyChangedBase","_onBatchCreated","dontSyncChildPrefab","_children","_siblingIndex","_onBeforeSerialize","_onPostActivated","active","_eventProcessor","setEnabled","setTextureDirty","translate","trans","ns","space","NodeSpace","LOCAL","WORLD","POSITION","rotate","rot","normalize","worldRot","lookAt","pos","getWorldPosition","subtract","_setDirtyNode","currNode","dirtyBit","j","cur","c","flag","children","childDirtyBit","isValid","child","dirtyBits","transformMat4","m12","m13","m14","RS","fromRTS","fromQuat","conjugate","multiplyMat4","m00","m04","m08","SCALE","undefined","getPosition","out","w","zOpt","fromEuler","getRotation","getScale","inverseTransformPoint","p","transformInverseRTS","local","setWorldRotationFromEuler","getWorldRotation","m01","m02","m03","m05","m06","m07","getWorldScale","getWorldMatrix","target","getWorldRS","getWorldRT","fromRT","setRTS","pauseSystemEvents","recursive","resumeSystemEvents","resetHasChangedFlags","clearNodeArray","ClearFrame","ClearRound","EventType","TransformDirtyBit","serializable","Layers","Enum","DEFAULT","editable"],"mappings":"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"}
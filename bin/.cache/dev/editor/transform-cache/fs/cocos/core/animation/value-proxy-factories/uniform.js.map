{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/animation/value-proxy-factories/uniform.ts"],"names":["UniformProxyFactory","constructor","uniformName","passIndex","forTarget","target","pass","passes","handle","getHandle","Error","name","type","Pass","getTypeFromHandle","Type","SAMPLER1D","realHandle","channelIndex","undefined","FLOAT","isUniformArray","set","value","setUniformArray","setUniform","binding","getBindingFromHandle","prop","properties","texName","dftTex","builtinResMgr","get","texture","getGFXTexture","width","height","bindTexture","TextureBase","bindSampler","legacyCC","game","_gfxDevice","getSampler","getSamplerInfo","serializable","float","block","shaderInfo","blocks","uniform","members","count"],"mappings":"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"}
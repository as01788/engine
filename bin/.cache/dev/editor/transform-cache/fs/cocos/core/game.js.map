{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/game.ts"],"names":["Game","EventTarget","frame","container","canvas","renderType","eventTargetOn","on","eventTargetOnce","once","config","onStart","frameTime","collisionMatrix","groupList","_persistRootNodes","_gfxDevice","_swapchain","_configLoaded","_isCloning","_inited","_engineInited","_rendererInitialized","_paused","_frameRate","_intervalId","_initTime","_startTime","_deltaTime","inited","frameRate","parseInt","Number","isNaN","_setAnimFrame","deltaTime","totalTime","performance","now","frameStartTime","setFrameRate","getFrameRate","step","legacyCC","director","tick","pause","window","cAF","resume","input","_clearEvents","_updateCallback","rAF","_frameCB","isPaused","restart","endFramePromise","Promise","resolve","Director","EVENT_END_FRAME","then","id","removePersistRootNode","getScene","destroy","Object","_deferredDestroy","reset","_setRenderPipelineNShowSplash","_safeEmit","EVENT_RESTART","end","systemInfo","close","type","callback","target","EVENT_ENGINE_INITED","EVENT_GAME_INITED","EVENT_RENDERER_INITED","call","init","_initConfig","HTML5","screen","_init","configOrientation","orientation","exactFitScreen","assetOptions","assetManager","layers","userLayers","i","length","layer","bitNum","value","Layers","addLayer","name","_initEngine","EDITOR","_initEvents","root","dataPoolManager","jointTexturePool","registerCustomTextureLayouts","customJointTextureLayouts","run","configOrCallback","initPromise","garbageCollectionManager","addPersistRootNode","node","Node","isNode","uuid","debug","warnID","scene","_scene","isValid","parent","Scene","_originalSceneId","_persistNode","_releaseManager","_addPersistNodeRef","_removePersistNodeRef","isPersistRootNode","_initDevice","view","log","VERSION","emit","internal","dynamicAtlasManager","enabled","macro","CLEANUP_IMAGE_CACHE","JSB","jsb","setPreferredFramesPerSecond","requestAnimationFrame","cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_stTime","bind","_ctTime","cancelRequestAnimationFrame","msCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","ocancelAnimationFrame","currTime","elapseTime","Math","max","timeToCall","setTimeout","clearTimeout","_calculateDT","DEBUG_DT_THRESHOLD","RUNTIME_BASED","skip","time","_runMainLoop","GAME_VIEW","setDisplayStats","showFPS","startAnimation","debugMode","DebugMode","NONE","exposeClassName","renderMode","_resetDebugSetting","_determineRenderType","userRenderMode","RENDER_TYPE_CANVAS","supportRender","RENDER_TYPE_WEBGL","RENDER_TYPE_HEADLESS","Error","getError","adapter","deviceInfo","DeviceInfo","bindingMappingInfo","gfx","DeviceManager","create","useWebGL2","WebGL2RenderingContext","userAgent","navigator","toLowerCase","indexOf","sys","browserType","BrowserType","UC","deviceCtors","WebGL2Device","push","WebGLDevice","EmptyDevice","Device","initialize","error","swapchainInfo","SwapchainInfo","windowSize","width","height","createSwapchain","oncontextmenu","_onShow","_onHide","EVENT_HIDE","EVENT_SHOW","TEST","_setupRenderPipeline","_showSplashScreen","renderPipeline","_setRenderPipeline","reject","loadAny","err","asset","RenderPipeline","catch","reason","warn","PREVIEW","SplashScreen","splashScreen","instance","main","setOnFinish","loadFinish","rppl","setRenderPipeline","event","e","EVENT_LOW_MEMORY","RENDER_TYPE_OPENGL","game"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/pipeline/render-batched-queue.ts"],"names":["RenderBatchedQueue","queue","Set","clear","it","values","res","next","done","value","uploadBuffers","cmdBuff","b","batches","length","batch","mergeCount","v","vbs","update","vbDatas","updateBuffer","vbIdx","vbIdxData","buffer","ubo","uboData","recordCommandBuffer","device","renderPass","boundPSO","shader","pso","PipelineStateManager","getOrCreatePipelineState","pass","ia","bindPipelineState","bindDescriptorSet","SetIndex","MATERIAL","descriptorSet","LOCAL","dynamicOffsets","bindInputAssembler","draw"],"mappings":"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"}
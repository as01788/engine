{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/scene-graph/scene.ts"],"names":["Scene","BaseNode","renderScene","_renderScene","globals","_globals","_updateScene","_scene","native","_nativeObj","_init","JSB","NativeScene","constructor","name","dependAssets","_inited","_prefabSyncedInLiveReload","_pos","Vec3","ZERO","_rot","Quat","IDENTITY","_scale","ONE","_mat","Mat4","_dirtyFlags","_lpos","_lrot","_lscale","_activeInHierarchy","legacyCC","director","root","createScene","game","_isCloning","destroy","success","CCObject","prototype","call","children","_children","i","length","active","destroyScene","_active","addComponent","Error","_onHierarchyChanged","_onBatchCreated","dontSyncChildPrefab","len","_siblingIndex","getPosition","out","copy","getRotation","getScale","getWorldPosition","getWorldRotation","getWorldScale","getWorldMatrix","getWorldRS","getWorldRT","position","worldPosition","rotation","worldRotation","scale","worldScale","eulerAngles","worldMatrix","updateWorldTransform","_instantiate","_load","TEST","EDITOR","walk","_setScene","_activate","_registerIfAttached","_nodeActivator","activateNode","activate","editable","serializable","SceneGlobals"],"mappings":";;;;;;;AA8BA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAEaA,K,WADZ,oBAAQ,UAAR,C,oCAAD,MACaA,KADb,SAC2BC,kBAD3B,CACoC;AAChC;AACJ;AACA;AACA;AACmB,MAAXC,WAAW,GAAI;AACf,WAAO,KAAKC,YAAZ;AACH;;AAGU,MAAPC,OAAO,GAAI;AACX,WAAO,KAAKC,QAAZ;AACH;AAED;AACJ;AACA;AACA;;;AAuCcC,EAAAA,YAAY,GAAI;AACtB,SAAKC,MAAL,GAAc,IAAd;AACH;;AAES,MAANC,MAAM,GAAS;AACf,WAAO,KAAKC,UAAZ;AACH;;AAESC,EAAAA,KAAK,GAAI;AACf,QAAIC,0BAAJ,EAAS;AACL,WAAKF,UAAL,GAAkB,IAAIG,wBAAJ,EAAlB;AACH;AACJ;;AAEDC,EAAAA,WAAW,CAAEC,IAAF,EAAgB;AACvB,UAAMA,IAAN;;AADuB;;AAAA;;AAAA,SAzCpBC,YAyCoB,GAzCL,IAyCK;AAAA,SAvCjBZ,YAuCiB,GAvCkB,IAuClB;AAAA,SArCjBa,OAqCiB;AAAA,SAnCjBC,yBAmCiB,GAnCW,KAmCX;AAAA,SAhCjBC,IAgCiB,GAhCVC,aAAKC,IAgCK;AAAA,SA9BjBC,IA8BiB,GA9BVC,aAAKC,QA8BK;AAAA,SA5BjBC,MA4BiB,GA5BRL,aAAKM,GA4BG;AAAA,SA1BjBC,IA0BiB,GA1BVC,aAAKJ,QA0BK;AAAA,SAxBjBK,WAwBiB,GAxBH,CAwBG;AAAA,SApBjBC,KAoBiB,GApBTV,aAAKC,IAoBI;AAAA,SAlBjBU,KAkBiB,GAlBTR,aAAKC,QAkBI;AAAA,SAhBjBQ,OAgBiB,GAhBPZ,aAAKM,GAgBE;AAEvB,SAAKO,kBAAL,GAA0B,KAA1B;;AACA,QAAIC,wBAASC,QAAT,IAAqBD,wBAASC,QAAT,CAAkBC,IAA3C,EAAiD;AAC7C,WAAKhC,YAAL,GAAoB8B,wBAASC,QAAT,CAAkBC,IAAlB,CAAuBC,WAAvB,CAAmC,EAAnC,CAApB;AACH;;AACD,SAAKpB,OAAL,GAAeiB,wBAASI,IAAT,GAAgB,CAACJ,wBAASI,IAAT,CAAcC,UAA/B,GAA4C,IAA3D;;AACA,SAAK5B,KAAL;AACH;AAED;AACJ;AACA;AACA;;;AACW6B,EAAAA,OAAO,GAAI;AACd,UAAMC,OAAO,GAAGC,iBAASC,SAAT,CAAmBH,OAAnB,CAA2BI,IAA3B,CAAgC,IAAhC,CAAhB;;AACA,QAAIH,OAAJ,EAAa;AACT,YAAMI,QAAQ,GAAG,KAAKC,SAAtB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACG,MAA7B,EAAqC,EAAED,CAAvC,EAA0C;AACtCF,QAAAA,QAAQ,CAACE,CAAD,CAAR,CAAYE,MAAZ,GAAqB,KAArB;AACH;AACJ;;AACD,QAAI,KAAK7C,YAAT,EAAuB8B,wBAASC,QAAT,CAAkBC,IAAlB,CAAuBc,YAAvB,CAAoC,KAAK9C,YAAzC;AACvB,SAAK+C,OAAL,GAAe,KAAf;AACA,SAAKlB,kBAAL,GAA0B,KAA1B;AACA,WAAOQ,OAAP;AACH;AAED;AACJ;AACA;AACA;;;AAGI;AACJ;AACA;AACA;AACWW,EAAAA,YAAY,GAAe;AAC9B,UAAM,IAAIC,KAAJ,CAAU,qBAAS,IAAT,CAAV,CAAN;AACH;;AAEMC,EAAAA,mBAAmB,GAAI,CAAG;;AAE1BC,EAAAA,eAAe,CAAEC,mBAAF,EAAgC;AAClD,UAAMD,eAAN,CAAsBC,mBAAtB;;AACA,UAAMC,GAAG,GAAG,KAAKX,SAAL,CAAeE,MAA3B;;AACA,SAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,GAApB,EAAyB,EAAEV,CAA3B,EAA8B;AAC1B,WAAKF,QAAL,CAAcE,CAAd,EAAiBW,aAAjB,GAAiCX,CAAjC;;AACA,WAAKD,SAAL,CAAeC,CAAf,EAAkBQ,eAAlB,CAAkCC,mBAAlC;AACH;AACJ,GAzH+B,CA2HhC;;AAEA;AACJ;AACA;;;AACWG,EAAAA,WAAW,CAAEC,GAAF,EAAoB;AAAE,WAAOxC,aAAKyC,IAAL,CAAUD,GAAG,IAAI,IAAIxC,YAAJ,EAAjB,EAA6BA,aAAKC,IAAlC,CAAP;AAAiD;AAEzF;AACJ;AACA;;;AACWyC,EAAAA,WAAW,CAAEF,GAAF,EAAoB;AAAE,WAAOrC,aAAKsC,IAAL,CAAUD,GAAG,IAAI,IAAIrC,YAAJ,EAAjB,EAA6BA,aAAKC,QAAlC,CAAP;AAAqD;AAE7F;AACJ;AACA;;;AACWuC,EAAAA,QAAQ,CAAEH,GAAF,EAAoB;AAAE,WAAOxC,aAAKyC,IAAL,CAAUD,GAAG,IAAI,IAAIxC,YAAJ,EAAjB,EAA6BA,aAAKM,GAAlC,CAAP;AAAgD;AAErF;AACJ;AACA;;;AACWsC,EAAAA,gBAAgB,CAAEJ,GAAF,EAAc;AAAE,WAAOxC,aAAKyC,IAAL,CAAUD,GAAG,IAAI,IAAIxC,YAAJ,EAAjB,EAA6BA,aAAKC,IAAlC,CAAP;AAAiD;AAExF;AACJ;AACA;;;AACW4C,EAAAA,gBAAgB,CAAEL,GAAF,EAAc;AAAE,WAAOrC,aAAKsC,IAAL,CAAUD,GAAG,IAAI,IAAIrC,YAAJ,EAAjB,EAA6BA,aAAKC,QAAlC,CAAP;AAAqD;AAE5F;AACJ;AACA;;;AACW0C,EAAAA,aAAa,CAAEN,GAAF,EAAc;AAAE,WAAOxC,aAAKyC,IAAL,CAAUD,GAAG,IAAI,IAAIxC,YAAJ,EAAjB,EAA6BA,aAAKM,GAAlC,CAAP;AAAgD;AAEpF;AACJ;AACA;;;AACWyC,EAAAA,cAAc,CAAEP,GAAF,EAAoB;AAAE,WAAOhC,aAAKiC,IAAL,CAAUD,GAAG,IAAI,IAAIhC,YAAJ,EAAjB,EAA6BA,aAAKJ,QAAlC,CAAP;AAAqD;AAEhG;AACJ;AACA;;;AACW4C,EAAAA,UAAU,CAAER,GAAF,EAAoB;AAAE,WAAOhC,aAAKiC,IAAL,CAAUD,GAAG,IAAI,IAAIhC,YAAJ,EAAjB,EAA6BA,aAAKJ,QAAlC,CAAP;AAAqD;AAE5F;AACJ;AACA;;;AACW6C,EAAAA,UAAU,CAAET,GAAF,EAAoB;AAAE,WAAOhC,aAAKiC,IAAL,CAAUD,GAAG,IAAI,IAAIhC,YAAJ,EAAjB,EAA6BA,aAAKJ,QAAlC,CAAP;AAAqD;AAE5F;AACJ;AACA;;;AACuB,MAAR8C,QAAQ,GAAoB;AAAE,WAAOlD,aAAKC,IAAZ;AAAmB;AAE5D;AACJ;AACA;;;AAC4B,MAAbkD,aAAa,GAAoB;AAAE,WAAOnD,aAAKC,IAAZ;AAAmB;AAEjE;AACJ;AACA;;;AACuB,MAARmD,QAAQ,GAAoB;AAAE,WAAOjD,aAAKC,QAAZ;AAAuB;AAEhE;AACJ;AACA;;;AAC4B,MAAbiD,aAAa,GAAoB;AAAE,WAAOlD,aAAKC,QAAZ;AAAuB;AAErE;AACJ;AACA;;;AACoB,MAALkD,KAAK,GAAoB;AAAE,WAAOtD,aAAKM,GAAZ;AAAkB;AAExD;AACJ;AACA;;;AACyB,MAAViD,UAAU,GAAoB;AAAE,WAAOvD,aAAKM,GAAZ;AAAkB;AAE7D;AACJ;AACA;;;AAC0B,MAAXkD,WAAW,GAAoB;AAAE,WAAOxD,aAAKC,IAAZ;AAAmB;AAE/D;AACJ;AACA;;;AAC0B,MAAXwD,WAAW,GAAoB;AAAE,WAAOjD,aAAKJ,QAAZ;AAAuB;AAEnE;AACJ;AACA;;;AACWsD,EAAAA,oBAAoB,GAAI,CAAE,CArND,CAuNhC;;;AAEUC,EAAAA,YAAY,GAAI,CAAG;;AAEnBC,EAAAA,KAAK,GAAI;AACf,QAAI,CAAC,KAAK/D,OAAV,EAAmB;AACf,UAAIgE,2BAAJ,EAAU;AACN,2BAAO,CAAC,KAAKhD,kBAAb,EAAiC,4CAAjC;AACH;;AAED,iDAA+B,IAA/B;AACA,uCAAqB,IAArB;;AACA,WAAKsB,eAAL,CAAqB2B,iCAAU,KAAKhE,yBAApC;;AACA,WAAKD,OAAL,GAAe,IAAf;AACH,KAVc,CAWf;;;AACA,SAAKkE,IAAL,CAAUjF,mBAASkF,SAAnB;AACH;;AAESC,EAAAA,SAAS,CAAEpC,MAAF,EAAmB;AAClCA,IAAAA,MAAM,GAAIA,MAAM,KAAK,KAArB;;AACA,QAAIiC,6BAAJ,EAAY;AACR;AACA,WAAKI,mBAAL,CAA0BrC,MAA1B;AACH;;AACDf,4BAASC,QAAT,CAAkBoD,cAAlB,CAAiCC,YAAjC,CAA8C,IAA9C,EAAoDvC,MAApD,EANkC,CAOlC;;;AACA,QAAI,CAACgC,2BAAL,EAAW;AACP,WAAK3E,QAAL,CAAcmF,QAAd;;AACA,UAAI,KAAKrF,YAAT,EAAuB;AACnB,aAAKA,YAAL,CAAkBqF,QAAlB;AACH;AACJ;AACJ;;AAxP+B,C,oEAS/BC,e,uKASAC,mB,EACAD,e;;;;;WAC0B,K;;6EAM1BC,mB;;;;;WACiB,IAAIC,0BAAJ,E;;;;AAgOtB1D,wBAASjC,KAAT,GAAiBA,KAAjB"}
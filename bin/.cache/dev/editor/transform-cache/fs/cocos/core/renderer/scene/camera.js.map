{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/renderer/scene/camera.ts"],"names":["CameraFOVAxis","CameraProjection","CameraAperture","CameraISO","CameraShutter","FSTOPS","SHUTTERS","ISOS","v_a","Vec3","v_b","_tempMat1","Mat4","SKYBOX_FLAG","ClearFlagBit","STENCIL","correctionMatrices","Camera","constructor","device","isWindowSize","screenScale","_device","_scene","_node","_name","_enabled","_proj","_aspect","_orthoHeight","_fovAxis","VERTICAL","_fov","_nearClip","_farClip","_clearColor","Color","_viewport","Rect","_orientedViewport","_curTransform","SurfaceTransform","IDENTITY","_isProjDirty","_matView","_matProj","_matProjInv","_matViewProj","_matViewProjInv","_frustum","Frustum","_forward","_position","_priority","_aperture","F16_0","_apertureValue","_shutter","D125","_shutterValue","_iso","ISO100","_isoValue","_ec","_window","_width","_height","_clearFlag","NONE","_clearDepth","_visibility","CAMERA_DEFAULT_MASK","_exposure","_clearStencil","accurate","length","ySign","capabilities","clipSpaceSignY","ROTATE_90","ROTATE_180","ROTATE_270","_setWidth","val","JSB","_nativeObj","width","_setHeight","height","_setScene","scene","native","_updateAspect","oriented","window","swapchain","orientation","surfaceTransform","aspect","_init","info","NativeCamera","frustum","standardExposureValue","standardLightMeterScale","initialize","node","clearFlag","clearDepth","visibility","name","projection","priority","updateExposure","changeTargetWindow","_destroy","destroy","detachCamera","attachToScene","detachFromScene","resize","setFixedSize","syncCameraEditor","camera","EDITOR","position","forward","matView","matProj","matProjInv","matViewProj","update","forceUpdate","viewProjDirty","hasChangedFlags","invert","worldMatrix","x","m02","y","m06","z","m10","getWorldPosition","projectionSignY","PERSPECTIVE","perspective","clipSpaceMinZ","ortho","multiply","matViewProjInv","enabled","orthoHeight","projectionType","fovAxis","axis","fov","nearClip","farClip","clearColor","w","viewport","setViewportInOrientedSpace","screenSpaceSignY","viewPort","vis","aperture","apertureValue","shutter","shutterValue","iso","isoValue","ec","exposure","flag","depth","clearStencil","stencil","win","legacyCC","director","root","mainWindow","attachCamera","screenPointToRay","out","cx","cy","cw","ch","isProj","preTransform","preTransforms","set","ox","oy","transformMat4","o","Ray","fromPoints","transformQuat","d","FORWARD","worldRotation","screenToWorld","screenPos","lerp","worldToScreen","worldPos","worldMatrixToScreen","halfWidth","halfHeight","identity","transform","scale","setExposure","ev100","Math","log2"],"mappings":"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"}
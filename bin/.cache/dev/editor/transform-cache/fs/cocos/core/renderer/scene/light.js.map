{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/renderer/scene/light.ts"],"names":["ColorTemperatureToRGB","rgb","kelvin","kSqr","u","v","d","x","y","z","X","Z","LightType","nt2lm","size","Math","PI","Light","_baked","_color","Vec3","_colorTemp","_colorTempRGB","_scene","_node","_name","_useColorTemperature","_type","UNKNOWN","_init","JSB","DIRECTIONAL","_nativeObj","NativeDirectionalLight","SPHERE","NativeSphereLight","SPOT","NativeSpotLight","setType","_destroy","baked","val","setBaked","color","set","setColor","useColorTemperature","enable","setUseColorTemperature","colorTemperature","setColorTemperatureRGB","colorTemperatureRGB","node","n","hasChangedFlags","TransformBit","ROTATION","setNode","native","type","name","scene","initialize","attachToScene","detachFromScene","destroy","update"],"mappings":"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"}
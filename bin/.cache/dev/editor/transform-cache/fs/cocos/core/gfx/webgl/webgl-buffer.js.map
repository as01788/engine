{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/gfx/webgl/webgl-buffer.ts"],"names":["WebGLBuffer","Buffer","_gpuBuffer","_gpuBufferView","_uniformBuffer","gpuBuffer","gpuBufferView","initialize","info","_isBufferView","buffer","_usage","usage","_memUsage","memUsage","_size","_stride","range","_count","_flags","flags","offset","size","Math","max","stride","BufferUsageBit","UNIFORM","Uint8Array","vf32","indirects","WebGLIndirectDrawInfos","glTarget","glBuffer","WebGLDeviceManager","instance","memoryStatus","bufferSize","destroy","resize","console","warn","oldSize","update","buffSize","undefined","INDIRECT","byteLength"],"mappings":"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"}
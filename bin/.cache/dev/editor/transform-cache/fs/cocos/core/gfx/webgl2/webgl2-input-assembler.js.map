{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/gfx/webgl2/webgl2-input-assembler.ts"],"names":["WebGL2InputAssembler","InputAssembler","_gpuInputAssembler","gpuInputAssembler","initialize","info","vertexBuffers","length","console","error","_attributes","attributes","_attributesHash","computeAttributesHash","_vertexBuffers","indexBuffer","_indexBuffer","_drawInfo","indexCount","size","stride","firstIndex","vertBuff","vertexCount","firstVertex","vertexOffset","instanceCount","firstInstance","_indirectBuffer","indirectBuffer","gpuVertexBuffers","Array","i","vb","gpuBuffer","gpuIndexBuffer","glIndexType","gpuIndirectBuffer","glAttribs","glVAOs","Map","WebGL2DeviceManager","instance","destroy","device","extensions","useVAO"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/renderer/core/memory-pools.ts"],"names":["contains","a","t","i","length","BufferDataType","BufferPool","constructor","poolType","dataType","dataMembers","enumType","entryBits","_dataType","_dataMembers","_elementCount","_entryBits","_stride","_entriesPerChunk","_entryMask","_chunkMask","_poolFlag","_arrayBuffers","_freeLists","_uint32BufferViews","_float32BufferViews","_hasUint32","_hasFloat32","_nativePool","COUNT","bytesPerElement","NativeBufferPool","type","NEVER","hasFloat32","hasUint32","e","FLOAT32","UINT32","alloc","list","j","buffer","allocateNewChunk","float32BufferViews","uint32BufferViews","freeList","push","Float32Array","Uint32Array","handle","getBuffer","chunk","entry","bufferViews","DEBUG","console","warn","getTypedArray","element","index","view","count","subarray","free","fill","PoolType","NULL_HANDLE","NodeView","NodeViewDataType","DIRTY_FLAG","LAYER","WORLD_SCALE","WORLD_POSITION","WORLD_ROTATION","WORLD_MATRIX","LOCAL_SCALE","LOCAL_POSITION","LOCAL_ROTATION","NodeViewDataMembers","NodePool","NODE","PassView","PassViewDataType","PRIORITY","STAGE","PHASE","PRIMITIVE","BATCHING_SCHEME","DYNAMIC_STATE","HASH","PassViewDataMembers","PassPool","PASS","AABBView","AABBViewDataType","CENTER","HALFEXTENTS","AABBViewDataMembers","AABBPool","AABB"],"mappings":"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"}
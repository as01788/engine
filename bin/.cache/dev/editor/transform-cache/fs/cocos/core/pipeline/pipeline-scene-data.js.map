{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/pipeline/pipeline-scene-data.ts"],"names":["PipelineSceneData","_init","JSB","_nativeObj","NativePipelineSharedSceneData","fog","native","ambient","skybox","shadow","shadows","octree","isHDR","_isHDR","val","shadingScale","_shadingScale","_pipeline","emit","PipelineEventType","ATTACHMENT_SCALE_CAHNGED","constructor","Fog","Ambient","Skybox","Shadows","Octree","validPunctualLights","renderObjects","castShadowObjects","dirShadowObjects","shadowFrameBufferMap","Map","_occlusionQueryVertexBuffer","_occlusionQueryIndicesBuffer","_occlusionQueryInputAssembler","_occlusionQueryMaterial","_occlusionQueryShader","activate","device","pipeline","_device","initOcclusionQuery","_createOcclusionQueryIA","occlusionQueryInputAssembler","mat","Material","_uuid","initialize","effectName","passes","getShaderVariant","occlusionQueryPass","occlusionQueryShader","getOcclusionQueryPass","onGlobalPipelineStateChanged","destroy","length","vertices","Float32Array","vbStride","BYTES_PER_ELEMENT","vbSize","createBuffer","BufferInfo","BufferUsageBit","VERTEX","TRANSFER_DST","MemoryUsageBit","DEVICE","update","indices","Uint16Array","ibStride","ibSize","INDEX","attributes","Attribute","Format","RGB32F","info","InputAssemblerInfo","inputAssembler","createInputAssembler"],"mappings":"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"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/asset-manager/weak-cache.ts"],"names":["WeakCache","constructor","map","_weakMap","window","WeakRef","Error","key","add","val","has","deref","get","remove","out","clear","js","createMap","forEach","func","find","predicate","count","Object","values","filter","weakRef","length","destroy"],"mappings":";;;;;;;AAAA;;AAQe,MAAMA,SAAN,CAAwC;AAGnDC,EAAAA,WAAW,CAAEC,GAAF,EAA2B;AAAA,SAF5BC,QAE4B,GAFW,EAEX;AAClC,QAAI,OAAOC,MAAM,CAACC,OAAd,KAA0B,WAA9B,EAA2C,MAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;;AAC3C,QAAIJ,GAAJ,EAAS;AACL,WAAK,MAAMK,GAAX,IAAkBL,GAAlB,EAAuB;AACnB,aAAKC,QAAL,CAAcI,GAAd,IAAqB,IAAIF,OAAJ,CAAYH,GAAG,CAACK,GAAD,CAAf,CAArB;AACH;AACJ;AACJ;;AAEMC,EAAAA,GAAG,CAAED,GAAF,EAAeE,GAAf,EAA0B;AAChC,SAAKN,QAAL,CAAcI,GAAd,IAAqB,IAAIF,OAAJ,CAAYI,GAAZ,CAArB;AACA,WAAOA,GAAP;AACH;;AAEMC,EAAAA,GAAG,CAAEH,GAAF,EAAwB;AAC9B,WAAOA,GAAG,IAAI,KAAKJ,QAAZ,IAAwB,CAAC,CAAC,KAAKA,QAAL,CAAcI,GAAd,EAAmBI,KAAnB,EAAjC;AACH;;AAEMC,EAAAA,GAAG,CAAEL,GAAF,EAAqC;AAC3C,WAAO,KAAKJ,QAAL,CAAcI,GAAd,KAAsB,KAAKJ,QAAL,CAAcI,GAAd,EAAmBI,KAAnB,EAA7B;AACH;;AAEME,EAAAA,MAAM,CAAEN,GAAF,EAAqC;AAC9C,UAAMO,GAAG,GAAG,KAAKX,QAAL,CAAcI,GAAd,CAAZ;AACA,WAAO,KAAKJ,QAAL,CAAcI,GAAd,CAAP;AACA,WAAOO,GAAG,IAAIA,GAAG,CAACH,KAAJ,EAAd;AACH;;AAEMI,EAAAA,KAAK,GAAU;AAClB,SAAKZ,QAAL,GAAgBa,OAAGC,SAAH,CAAa,IAAb,CAAhB;AACH;;AAEMC,EAAAA,OAAO,CAAEC,IAAF,EAA6C;AACvD,SAAK,MAAMZ,GAAX,IAAkB,KAAKJ,QAAvB,EAAiC;AAC7B,YAAMM,GAAG,GAAG,KAAKG,GAAL,CAASL,GAAT,CAAZ;;AACA,UAAIE,GAAJ,EAAS;AACLU,QAAAA,IAAI,CAACV,GAAD,EAAMF,GAAN,CAAJ;AACH;AACJ;AACJ;;AAEMa,EAAAA,IAAI,CAAEC,SAAF,EAAyD;AAChE,SAAK,MAAMd,GAAX,IAAkB,KAAKJ,QAAvB,EAAiC;AAC7B,YAAMM,GAAG,GAAG,KAAKG,GAAL,CAASL,GAAT,CAAZ;;AACA,UAAIE,GAAG,IAAIY,SAAS,CAACZ,GAAD,EAAMF,GAAN,CAApB,EAAgC;AAC5B,eAAO,KAAKJ,QAAL,CAAcI,GAAd,EAAmBI,KAAnB,EAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH;;AAEQ,MAALW,KAAK,GAAY;AACjB,WAAOC,MAAM,CAACC,MAAP,CAAc,KAAKrB,QAAnB,EAA6BsB,MAA7B,CAAqCC,OAAD,IAAaA,OAAO,CAACf,KAAR,EAAjD,EAAkEgB,MAAzE;AACH;;AAEMC,EAAAA,OAAO,GAAU;AACpB,SAAKzB,QAAL,GAAgB,EAAhB;AACH;;AA5DkD"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/core/root.ts"],"names":["Root","_init","JSB","_naitveObj","NativeRoot","_destroy","_setCumulativeTime","deltaTime","_cumulativeTime","cumulativeTime","_setFrameTime","_frameTime","frameTime","device","_device","mainWindow","_mainWindow","curWindow","window","_curWindow","tempWindow","_tempWindow","windows","_windows","pipeline","_pipeline","batcher2D","_batcher","scenes","_scenes","frameCount","_frameCount","fps","_fps","fixedFPS","_fixedFPS","_fixedFPSFrameTime","dataPoolManager","_dataPoolMgr","useDeferredPipeline","_useDeferredPipeline","constructor","_createSceneFun","_createWindowFun","_modelPools","Map","_cameraPool","_lightPools","_fpsTime","legacyCC","internal","DataPoolManager","RenderScene","registerCreateFunc","RenderWindow","Pool","Camera","cam","destroy","initialize","info","swapchain","game","_swapchain","colorAttachment","ColorAttachment","format","colorTexture","depthStencilAttachment","DepthStencilAttachment","depthStencilTexture","depthStoreOp","StoreOp","DISCARD","stencilStoreOp","renderPassInfo","RenderPassInfo","createWindow","title","width","height","Promise","resolve","builtinResMgr","initBuiltinRes","destroyScenes","clear","resize","setRenderPipeline","rppl","DeferredPipeline","isCreateDefaultPipeline","hasFeature","Feature","COMPUTE_SHADER","clusterEnabled","bloomEnabled","activate","scene","director","getScene","globals","onGlobalPipelineStateChanged","Batcher2D","i","length","pipelineSceneData","activeWindow","resetCumulativeTime","frameMove","removeBatches","update","cameraList","extractRenderCameras","acquire","stamp","getTotalFrames","uploadBuffers","emit","Director","EVENT_BEFORE_COMMIT","sort","a","b","priority","render","present","reset","push","destroyWindow","splice","destroyWindows","createScene","destroyScene","createModel","ModelCtor","p","get","set","obj","model","alloc","destroyModel","m","free","removeModel","name","createCamera","createLight","LightCtor","l","light","destroyLight","type","LightType","SPHERE","removeSphereLight","SPOT","removeSpotLight"],"mappings":"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"}
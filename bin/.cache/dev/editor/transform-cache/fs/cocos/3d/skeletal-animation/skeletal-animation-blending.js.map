{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/3d/skeletal-animation/skeletal-animation-blending.ts"],"names":["BlendStateBuffer","_nodeBlendStates","Map","createWriter","node","property","host","constants","propertyBlendState","ref","BlendStateWriterInternal","destroyWriter","writer","internal","deRef","nodeBlendState","get","NodeBlendState","set","refProperty","deRefProperty","empty","delete","apply","forEach","constructor","_node","_property","_propertyBlendState","_host","_constants","getValue","setValue","value","weight","blend","PropertyBlendState","blendedWeight","blendedValue","refCount","Vec3PropertyBlendState","Vec3","copy","scaleAndAdd","DEBUG","reset","zero","QuatPropertyBlendState","Quat","t","slerp","identity","_properties","properties","position","rotation","eulerAngles","scale","s","r","tFlags","sFlags","rFlags","eFlags","setRTS"],"mappings":"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"}
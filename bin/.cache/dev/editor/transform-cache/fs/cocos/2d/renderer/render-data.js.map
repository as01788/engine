{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/2d/renderer/render-data.ts"],"names":["BaseRenderData","material","vertexCount","indicesCount","RenderData","vData","uvDirty","vertDirty","_data","_indices","_pivotX","_pivotY","_width","_height","renderScene","layer","nodeDirty","blendHash","passDirty","frame","textureHash","textureDirty","hashDirty","dataHash","dataLength","length","data","value","i","_dataPool","free","alloc","add","_pool","remove","idx","indexOf","clear","removeAt","updateNode","comp","node","scene","_getRenderScene","updatePass","getRenderMaterial","updateTexture","getHash","updateHash","hashString","updateRenderData","updateSizeNPivot","width","height","pivotX","pivotY","MeshRenderData","constructor","vertexFloatCnt","iData","vertexStart","indicesStart","byteStart","byteCount","lastFilledIndices","lastFilledVertex","_formatByte","Float32Array","BYTES_PER_ELEMENT","Uint16Array","formatByte","floatStride","vDataOffset","_meshDataPool","reset","request","byteOffset","reserve","newVBytes","newICount","byteLength","indicesLength","vCount","iCount","_reallocBuffer","advance","oldVData","set","oldIData","QuadRenderData","_fillQuadBuffer","count","buffer","vId","Pool","x","y","z","u","v","color","Color","WHITE","clone","RecyclePool"],"mappings":"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"}
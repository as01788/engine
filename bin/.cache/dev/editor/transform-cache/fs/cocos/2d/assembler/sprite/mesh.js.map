{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/2d/assembler/sprite/mesh.js"],"names":["mesh","useModel","createData","sprite","requestRenderData","updateRenderData","frame","spriteFrame","renderData","_renderData","vertices","vertexCount","x","length","dataLength","uvDirty","vertDirty","indiceCount","triangles","updateUVs","updateVerts","updateWorldVerts","u","nu","v","nv","data","_data","i","l","vertice","node","contentWidth","Math","abs","width","contentHeight","height","appx","anchorX","appy","anchorY","y","originalWidth","_originalSize","originalHeight","rectWidth","_rect","rectHeight","offsetX","_offset","offsetY","trimX","trimY","scaleX","trim","scaleY","_updateWorldMatrix","matrix","_worldMatrix","local","world","vec3","set","vec3_temp","transformMat4","fillBuffers","buffer","indiceOffset","vertexId","vertexOffset","fillVerticesWithoutCalc3D","_color","_val","ibuf","_iData"],"mappings":"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"}
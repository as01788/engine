{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/2d/renderer/draw-batch.ts"],"names":["UI_VIS_FLAG","Layers","Enum","NONE","UI_3D","DrawBatch2D","native","_nativeObj","inputAssembler","_inputAssember","ia","JSB","descriptorSet","_descriptorSet","ds","visFlags","_visFlags","vis","passes","_passes","shaders","_shaders","constructor","bufferBatch","camera","renderScene","model","texture","sampler","useLocalData","isStatic","textureHash","samplerHash","NativeDrawBatch2D","destroy","ui","clear","fillPasses","mat","dss","dssHash","bs","bsHash","patches","batcher","hashFactor","dirty","length","i","Pass","legacyCC","director","root","mtlPass","passInUse","update","depthStencilState","blendState","_initPassFromTarget","getShaderVariant","nativePasses","push"],"mappings":"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"}
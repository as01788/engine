{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/particle-2d/particle-system-2d-assembler.ts"],"names":["ParticleAssembler","maxParticleDeltaTime","createData","comp","MeshRenderData","add","removeData","data","remove","updateRenderData","fillBuffers","renderer","renderData","_simulator","vertexCount","indicesCount","buffer","acquireBufferBatch","vertexOffset","byteOffset","indicesOffset","vertexId","isRecreate","request","currBufferBatch","vBuf","vData","iBuf","iData","vLen","i","iLen","ParticleSystem2DAssembler","getAssembler","legacyCC","game","frameTime","ParticleSystem2D","Assembler"],"mappings":";;;;;;;AAgCA;;AACA;;AAGA;;AApCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AASO,MAAMA,iBAA6B,GAAG;AACzCC,EAAAA,oBAAoB,EAAE,CADmB;;AAEzCC,EAAAA,UAAU,CAAEC,IAAF,EAA0B;AAChC,WAAOC,2BAAeC,GAAf,EAAP;AACH,GAJwC;;AAKzCC,EAAAA,UAAU,CAAEC,IAAF,EAAQ;AACdH,+BAAeI,MAAf,CAAsBD,IAAtB;AACH,GAPwC;;AAQzCE,EAAAA,gBAAgB,GAAI,CACnB,CATwC;;AAUzCC,EAAAA,WAAW,CAAEP,IAAF,EAA0BQ,QAA1B,EAA8C;AACrD,QAAIR,IAAI,KAAK,IAAb,EAAmB;AACf;AACH;;AAED,UAAMS,UAAU,GAAGT,IAAI,CAACU,UAAL,CAAgBD,UAAnC;;AACA,QAAIA,UAAU,CAACE,WAAX,KAA2B,CAA3B,IAAgCF,UAAU,CAACG,YAAX,KAA4B,CAAhE,EAAmE;AAC/D;AACH;;AAED,QAAIC,MAAM,GAAGL,QAAQ,CAACM,kBAAT,EAAb;AACA,QAAIC,YAAY,GAAGF,MAAM,CAACG,UAAP,IAAqB,CAAxC;AACA,QAAIC,aAAa,GAAGJ,MAAM,CAACI,aAA3B;AACA,QAAIC,QAAQ,GAAGL,MAAM,CAACE,YAAtB;AACA,UAAMI,UAAU,GAAGN,MAAM,CAACO,OAAP,CAAeX,UAAU,CAACE,WAA1B,EAAuCF,UAAU,CAACG,YAAlD,CAAnB;;AACA,QAAI,CAACO,UAAL,EAAiB;AACbN,MAAAA,MAAM,GAAGL,QAAQ,CAACa,eAAlB;AACAN,MAAAA,YAAY,GAAG,CAAf;AACAE,MAAAA,aAAa,GAAG,CAAhB;AACAC,MAAAA,QAAQ,GAAG,CAAX;AACH,KApBoD,CAsBrD;;;AACA,UAAMI,IAAI,GAAGT,MAAM,CAACU,KAApB;AACA,UAAMC,IAAI,GAAGX,MAAM,CAACY,KAApB;AAEA,UAAMF,KAAK,GAAGd,UAAU,CAACc,KAAzB;AACA,UAAME,KAAK,GAAGhB,UAAU,CAACgB,KAAzB;AAEA,UAAMC,IAAI,GAAGjB,UAAU,CAACE,WAAX,GAAyB,CAAtC;;AACA,SAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAApB,EAA0BC,CAAC,EAA3B,EAA+B;AAC3BL,MAAAA,IAAI,CAACP,YAAY,EAAb,CAAJ,GAAuBQ,KAAK,CAACI,CAAD,CAA5B;AACH;;AAED,UAAMC,IAAI,GAAGnB,UAAU,CAACG,YAAxB;;AACA,SAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,IAApB,EAA0BD,CAAC,EAA3B,EAA+B;AAC3BH,MAAAA,IAAI,CAACP,aAAa,EAAd,CAAJ,GAAwBQ,KAAK,CAACE,CAAD,CAAL,GAAWT,QAAnC;AACH;AACJ;;AAhDwC,CAAtC;;AAmDA,MAAMW,yBAA4C,GAAG;AACxDC,EAAAA,YAAY,CAAE9B,IAAF,EAA0B;AAClC,QAAI,CAACH,iBAAiB,CAACC,oBAAvB,EAA6C;AACzCD,MAAAA,iBAAiB,CAACC,oBAAlB,GAAyCiC,wBAASC,IAAT,CAAcC,SAAd,GAA0B,IAA1B,GAAiC,CAA1E;AACH;;AACD,WAAOpC,iBAAP;AACH;;AANuD,CAArD;;AASPqC,mCAAiBC,SAAjB,GAA6BN,yBAA7B"}
{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/particle/particle-system.ts"],"names":["_world_mat","Mat4","_world_rol","Quat","superMaterials","Object","getOwnPropertyDescriptor","RenderableComponent","prototype","ParticleSystem","GradientRange","Space","CurveRange","Burst","Boolean","CullingMode","Number","Material","ColorOverLifetimeModule","ShapeModule","SizeOvertimeModule","VelocityOvertimeModule","ForceOvertimeModule","LimitVelocityOvertimeModule","RotationOvertimeModule","TextureAnimationModule","TrailModule","ParticleSystemRenderer","executeInEditMode","capacity","_capacity","val","Math","floor","processor","_model","setCapacity","prewarm","_prewarm","loop","simulationSpace","_simulationSpace","updateMaterialParams","updateTrailMaterial","renderCulling","value","_renderCulling","_boundingBox","AABB","_calculateBounding","cullingMode","_cullingMode","aabbHalfX","res","getBoundingX","setBoundingX","aabbHalfY","getBoundingY","setBoundingY","aabbHalfZ","getBoundingZ","setBoundingZ","dataCulling","_dataCulling","sharedMaterials","get","call","set","colorOverLifetimeModule","EDITOR","_colorOverLifetimeModule","bindTarget","shapeModule","_shapeModule","onInit","sizeOvertimeModule","_sizeOvertimeModule","velocityOvertimeModule","_velocityOvertimeModule","forceOvertimeModule","_forceOvertimeModule","limitVelocityOvertimeModule","_limitVelocityOvertimeModule","rotationOvertimeModule","_rotationOvertimeModule","textureAnimationModule","_textureAnimationModule","trailModule","_trailModule","onEnable","constructor","_isPlaying","_isPaused","_isStopped","_isEmitting","_needRefresh","_time","_emitRateTimeCounter","_emitRateDistanceCounter","_oldWPos","_curWPos","_culler","_oldPos","_curPos","_isCulled","_customData1","_customData2","_subEmitters","rateOverTime","constant","startLifetime","startSizeX","startSpeed","Vec3","Vec2","onFocusInEditor","renderer","create","onLoad","bindModule","_resetPosition","_onMaterialModified","index","material","onMaterialModified","_onRebuildPSO","onRebuildPSO","_collectModels","_models","length","push","enable","_trailModel","_attachToScene","attachToScene","_detachFromScene","detachFromScene","clear","destroy","play","_prewarmSystem","pause","console","warn","stop","enabledInHierarchy","getParticleCount","setCustomData1","x","y","setCustomData2","onDestroy","legacyCC","director","off","Director","EVENT_BEFORE_COMMIT","beforeRender","on","playOnAwake","onDisable","forceRefresh","ParticleCuller","calculatePositions","fromPoints","minPos","maxPos","halfExtents","z","update","dt","scaledDeltaTime","simulationSpeed","node","getWorldPosition","equals","dx","dy","dz","center","setBoundingBoxCenter","cameraLst","scene","renderScene","cameras","culled","undefined","i","camera","visibility","layer","name","intersect","aabbFrustum","frustum","AlwaysSimulate","PauseAndCatchup","_emit","updateParticles","updateRotation","updateScale","updateRenderData","_onVisibilityChange","visFlags","emit","count","loopDelta","duration","invalidateChildren","TransformBit","POSITION","World","getWorldMatrix","getWorldRotation","particle","getFreeParticle","particleSystem","reset","rand","INT_MAX","position","copy","velocity","particleEmitZAxis","init","curveStartSpeed","evaluate","multiplyScalar","transformMat4","transformQuat","ultimateVelocity","startRotation3D","startEuler","startRotationX","startRotationY","startRotationZ","rotation","startSize3D","startSize","startSizeY","startSizeZ","size","startColor","color","remainingLifetime","randomSeed","loopCount","setNewParticle","startDelay","mode","Mode","Constant","cnt","emitNum","distance","rateOverDistance","burst","bursts","addSubEmitter","subEmitter","removeSubEmitter","idx","splice","indexOf","addBurst","removeBurst","_aabbHalfX","_aabbHalfY","_aabbHalfZ","setBoundingBoxSize","isPlaying","isPaused","isStopped","isEmitting","time","_onBeforeSerialize","props","filter","p","PARTICLE_MODULE_PROPERTY","includes","serializable","Local","radian","Pause","override"],"mappings":"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"}
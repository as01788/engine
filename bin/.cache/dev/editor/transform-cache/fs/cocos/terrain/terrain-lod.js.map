{"version":3,"sources":["file:///Users/disstian/Documents/CreatorProjects/engine3.3.0/cocos/terrain/terrain-lod.ts"],"names":["TERRAIN_LOD_VERTS","TERRAIN_LOD_TILES","TERRAIN_LOD_LEVELS","TERRAIN_LOD_NORTH_INDEX","TERRAIN_LOD_SOUTH_INDEX","TERRAIN_LOD_WEST_INDEX","TERRAIN_LOD_EAST_INDEX","TERRAIN_LOD_MAX_DISTANCE","TerrainLodKey","level","north","south","west","east","equals","rk","TerrainIndexPool","size","indices","TerrainIndexData","key","start","buffer","primCount","TerrainLod","mapIndex","i","j","k","constructor","_bodyIndexPool","_connecterIndexPool","_indexMap","_indexBuffer","Uint16Array","Array","_genBodyIndex","_genConnecterIndexNorth","_genConnecterIndexSouth","_genConnecterIndexWest","_genConnecterIndexEast","levels","l","n","s","w","e","_genIndexData","getIndexData","length","step","tiles","count","index","row_c","row_n","y","x","connecter","connecterIndex","self_step","neighbor_step","self_tile","x1","y1","x0","y0","index0","index1","_getConnenterIndex","data","body","a","b","c","d","push","temp","set"],"mappings":"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"}